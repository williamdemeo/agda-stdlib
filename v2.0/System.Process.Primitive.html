<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>System.Process.Primitive</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Primitive System.Process simple bindings to Haskell functions</a>
<a id="171" class="Comment">------------------------------------------------------------------------</a>

<a id="245" class="Symbol">{-#</a> <a id="249" class="Keyword">OPTIONS</a> <a id="257" class="Pragma">--cubical-compatible</a> <a id="278" class="Symbol">#-}</a>

<a id="283" class="Keyword">module</a> <a id="290" href="System.Process.Primitive.html" class="Module">System.Process.Primitive</a> <a id="315" class="Keyword">where</a>

<a id="322" class="Keyword">open</a> <a id="327" class="Keyword">import</a> <a id="334" href="Level.html" class="Module">Level</a> <a id="340" class="Keyword">using</a> <a id="346" class="Symbol">(</a><a id="347" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="352" class="Symbol">)</a>
<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Agda.Builtin.List.html" class="Module">Agda.Builtin.List</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="Agda.Builtin.Unit.html" class="Module">Agda.Builtin.Unit</a>
<a id="446" class="Keyword">open</a> <a id="451" class="Keyword">import</a> <a id="458" href="Foreign.Haskell.html" class="Module">Foreign.Haskell</a> <a id="474" class="Keyword">using</a> <a id="480" class="Symbol">(</a><a id="481" href="Foreign.Haskell.Pair.html#534" class="Record">Pair</a><a id="485" class="Symbol">)</a>
<a id="487" class="Keyword">open</a> <a id="492" class="Keyword">import</a> <a id="499" href="IO.Primitive.html" class="Module">IO.Primitive</a> <a id="512" class="Keyword">using</a> <a id="518" class="Symbol">(</a><a id="519" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a><a id="521" class="Symbol">)</a>
<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="System.Exit.Primitive.html" class="Module">System.Exit.Primitive</a> <a id="557" class="Keyword">using</a> <a id="563" class="Symbol">(</a><a id="564" href="System.Exit.Primitive.html#402" class="Datatype">ExitCode</a><a id="572" class="Symbol">)</a>

<a id="575" class="Keyword">postulate</a>

  <a id="callCommand"></a><a id="588" href="System.Process.Primitive.html#588" class="Postulate">callCommand</a> <a id="600" class="Symbol">:</a> <a id="602" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="609" class="Symbol">→</a> <a id="611" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="614" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="system"></a><a id="618" href="System.Process.Primitive.html#618" class="Postulate">system</a>      <a id="630" class="Symbol">:</a> <a id="632" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="639" class="Symbol">→</a> <a id="641" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="644" href="System.Exit.Primitive.html#402" class="Datatype">ExitCode</a>
  <a id="callProcess"></a><a id="655" href="System.Process.Primitive.html#655" class="Postulate">callProcess</a> <a id="667" class="Symbol">:</a> <a id="669" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="676" class="Symbol">→</a> <a id="678" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="683" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="690" class="Symbol">→</a> <a id="692" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="695" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

  <a id="readProcess"></a><a id="700" href="System.Process.Primitive.html#700" class="Postulate">readProcess</a>
    <a id="716" class="Symbol">:</a> <a id="718" href="Agda.Builtin.String.html#335" class="Postulate">String</a>       <a id="731" class="Comment">-- Filename of the executable</a>
    <a id="765" class="Symbol">→</a> <a id="767" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="772" href="Agda.Builtin.String.html#335" class="Postulate">String</a>  <a id="780" class="Comment">-- any arguments</a>
    <a id="801" class="Symbol">→</a> <a id="803" href="Agda.Builtin.String.html#335" class="Postulate">String</a>       <a id="816" class="Comment">-- standard input</a>
    <a id="838" class="Symbol">→</a> <a id="840" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="843" href="Agda.Builtin.String.html#335" class="Postulate">String</a>    <a id="853" class="Comment">-- stdout</a>

  <a id="readProcessWithExitCode"></a><a id="866" href="System.Process.Primitive.html#866" class="Postulate">readProcessWithExitCode</a>
    <a id="894" class="Symbol">:</a> <a id="896" href="Agda.Builtin.String.html#335" class="Postulate">String</a>                                  <a id="936" class="Comment">-- Filename of the executable</a>
    <a id="970" class="Symbol">→</a> <a id="972" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="977" href="Agda.Builtin.String.html#335" class="Postulate">String</a>                             <a id="1012" class="Comment">-- any arguments</a>
    <a id="1033" class="Symbol">→</a> <a id="1035" href="Agda.Builtin.String.html#335" class="Postulate">String</a>                                  <a id="1075" class="Comment">-- standard input</a>
    <a id="1097" class="Symbol">→</a> <a id="1099" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="1102" class="Symbol">(</a><a id="1103" href="Foreign.Haskell.Pair.html#534" class="Record">Pair</a> <a id="1108" href="System.Exit.Primitive.html#402" class="Datatype">ExitCode</a> <a id="1117" class="Symbol">(</a><a id="1118" href="Foreign.Haskell.Pair.html#534" class="Record">Pair</a> <a id="1123" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1130" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="1136" class="Symbol">))</a> <a id="1139" class="Comment">-- exitcode, stdout, stderr</a>

<a id="1168" class="Symbol">{-#</a> <a id="1172" class="Keyword">FOREIGN</a> <a id="1180" class="Pragma">GHC</a> <a id="1184" class="Pragma">import</a> <a id="1191" class="Pragma">System.Process</a>  <a id="1207" class="Symbol">#-}</a>
<a id="1211" class="Symbol">{-#</a> <a id="1215" class="Keyword">FOREIGN</a> <a id="1223" class="Pragma">GHC</a> <a id="1227" class="Pragma">import</a> <a id="1234" class="Pragma">qualified</a> <a id="1244" class="Pragma">Data.Text</a> <a id="1254" class="Pragma">as</a> <a id="1257" class="Pragma">T</a>  <a id="1260" class="Symbol">#-}</a>
<a id="1264" class="Symbol">{-#</a> <a id="1268" class="Keyword">FOREIGN</a> <a id="1276" class="Pragma">GHC</a> <a id="1280" class="Pragma">import</a> <a id="1287" class="Pragma">MAlonzo.Code.System.Exit.Primitive</a> <a id="1322" class="Symbol">#-}</a>

<a id="1327" class="Symbol">{-#</a> <a id="1331" class="Keyword">COMPILE</a> <a id="1339" class="Keyword">GHC</a> <a id="1343" href="System.Process.Primitive.html#588" class="Postulate">callCommand</a> <a id="1355" class="Pragma">=</a> <a id="1357" class="Pragma">\</a> <a id="1359" class="Pragma">cmd</a> <a id="1363" class="Pragma">-&gt;</a> <a id="1366" class="Pragma">callCommand</a> <a id="1378" class="Pragma">(T.unpack</a> <a id="1388" class="Pragma">cmd)</a> <a id="1393" class="Symbol">#-}</a>
<a id="1397" class="Symbol">{-#</a> <a id="1401" class="Keyword">COMPILE</a> <a id="1409" class="Keyword">GHC</a> <a id="1413" href="System.Process.Primitive.html#618" class="Postulate">system</a> <a id="1420" class="Pragma">=</a> <a id="1422" class="Pragma">\</a> <a id="1424" class="Pragma">cmd</a> <a id="1428" class="Pragma">-&gt;</a> <a id="1431" class="Pragma">fmap</a> <a id="1436" class="Pragma">fromExitCode</a> <a id="1449" class="Pragma">(system</a> <a id="1457" class="Pragma">(T.unpack</a> <a id="1467" class="Pragma">cmd))</a> <a id="1473" class="Symbol">#-}</a>
<a id="1477" class="Symbol">{-#</a> <a id="1481" class="Keyword">COMPILE</a> <a id="1489" class="Keyword">GHC</a> <a id="1493" href="System.Process.Primitive.html#655" class="Postulate">callProcess</a> <a id="1505" class="Pragma">=</a> <a id="1507" class="Pragma">\</a> <a id="1509" class="Pragma">exe</a> <a id="1513" class="Pragma">-&gt;</a> <a id="1516" class="Pragma">callProcess</a> <a id="1528" class="Pragma">(T.unpack</a> <a id="1538" class="Pragma">exe)</a> <a id="1543" class="Pragma">.</a> <a id="1545" class="Pragma">map</a> <a id="1549" class="Pragma">T.unpack</a> <a id="1558" class="Symbol">#-}</a>
<a id="1562" class="Symbol">{-#</a> <a id="1566" class="Keyword">COMPILE</a> <a id="1574" class="Keyword">GHC</a> <a id="1578" href="System.Process.Primitive.html#700" class="Postulate">readProcess</a> <a id="1590" class="Pragma">=</a> <a id="1592" class="Pragma">\</a> <a id="1594" class="Pragma">exe</a> <a id="1598" class="Pragma">args</a> <a id="1603" class="Pragma">-&gt;</a> <a id="1606" class="Pragma">fmap</a> <a id="1611" class="Pragma">T.pack</a> <a id="1618" class="Pragma">.</a> <a id="1620" class="Pragma">readProcess</a> <a id="1632" class="Pragma">(T.unpack</a> <a id="1642" class="Pragma">exe)</a> <a id="1647" class="Pragma">(map</a> <a id="1652" class="Pragma">T.unpack</a> <a id="1661" class="Pragma">args)</a> <a id="1667" class="Pragma">.</a> <a id="1669" class="Pragma">T.unpack</a> <a id="1678" class="Symbol">#-}</a>
<a id="1682" class="Symbol">{-#</a> <a id="1686" class="Keyword">COMPILE</a> <a id="1694" class="Keyword">GHC</a> <a id="1698" href="System.Process.Primitive.html#866" class="Postulate">readProcessWithExitCode</a> <a id="1722" class="Pragma">=</a> <a id="1724" class="Pragma">\</a> <a id="1726" class="Pragma">exe</a> <a id="1730" class="Pragma">args</a> <a id="1735" class="Pragma">stdin</a> <a id="1741" class="Pragma">-&gt;</a>
           <a id="1755" class="Pragma">do</a> <a id="1758" class="Pragma">{</a> <a id="1760" class="Pragma">(ex,</a> <a id="1765" class="Pragma">out,</a> <a id="1770" class="Pragma">err)</a> <a id="1775" class="Pragma">&lt;-</a> <a id="1778" class="Pragma">readProcessWithExitCode</a> <a id="1802" class="Pragma">(T.unpack</a> <a id="1812" class="Pragma">exe)</a> <a id="1817" class="Pragma">(map</a> <a id="1822" class="Pragma">T.unpack</a> <a id="1831" class="Pragma">args)</a> <a id="1837" class="Pragma">(T.unpack</a> <a id="1847" class="Pragma">stdin)</a>
              <a id="1868" class="Pragma">;</a> <a id="1870" class="Pragma">pure</a> <a id="1875" class="Pragma">(fromExitCode</a> <a id="1889" class="Pragma">ex,</a> <a id="1893" class="Pragma">(T.pack</a> <a id="1901" class="Pragma">out,</a> <a id="1906" class="Pragma">T.pack</a> <a id="1913" class="Pragma">err))</a>
              <a id="1933" class="Pragma">}</a>
<a id="1935" class="Symbol">#-}</a>
</pre></body></html>