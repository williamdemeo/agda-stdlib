<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>IO.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- IO: basic types and functions</a>
<a id="139" class="Comment">------------------------------------------------------------------------</a>

<a id="213" class="Symbol">{-#</a> <a id="217" class="Keyword">OPTIONS</a> <a id="225" class="Pragma">--cubical-compatible</a> <a id="246" class="Pragma">--guardedness</a> <a id="260" class="Symbol">#-}</a>

<a id="265" class="Keyword">module</a> <a id="272" href="IO.Base.html" class="Module">IO.Base</a> <a id="280" class="Keyword">where</a>

<a id="287" class="Keyword">open</a> <a id="292" class="Keyword">import</a> <a id="299" href="Level.html" class="Module">Level</a>
<a id="305" class="Keyword">open</a> <a id="310" class="Keyword">import</a> <a id="317" href="Codata.Musical.Notation.html" class="Module">Codata.Musical.Notation</a>
<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="368" class="Keyword">using</a> <a id="374" class="Symbol">(</a><a id="375" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="379" class="Symbol">;</a> <a id="381" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="385" class="Symbol">;</a> <a id="387" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="392" class="Symbol">;</a> <a id="394" href="Data.Bool.Base.html#941" class="Function">not</a><a id="397" class="Symbol">)</a>
<a id="399" class="Keyword">open</a> <a id="404" class="Keyword">import</a> <a id="411" href="Agda.Builtin.Maybe.html" class="Module">Agda.Builtin.Maybe</a> <a id="430" class="Keyword">using</a> <a id="436" class="Symbol">(</a><a id="437" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="442" class="Symbol">;</a> <a id="444" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="451" class="Symbol">;</a> <a id="453" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="457" class="Symbol">)</a>
<a id="459" class="Keyword">open</a> <a id="464" class="Keyword">import</a> <a id="471" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a> <a id="485" class="Keyword">using</a> <a id="491" class="Symbol">(</a><a id="492" href="Data.Sum.Base.html#625" class="Datatype Operator">_⊎_</a><a id="495" class="Symbol">;</a> <a id="497" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a><a id="501" class="Symbol">;</a> <a id="503" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a><a id="507" class="Symbol">)</a>
<a id="509" class="Keyword">import</a> <a id="516" href="Agda.Builtin.Unit.html" class="Module">Agda.Builtin.Unit</a> <a id="534" class="Symbol">as</a> <a id="537" class="Module">Unit0</a>
<a id="543" class="Keyword">open</a> <a id="548" class="Keyword">import</a> <a id="555" href="Data.Unit.Polymorphic.Base.html" class="Module">Data.Unit.Polymorphic.Base</a>
<a id="582" class="Keyword">open</a> <a id="587" class="Keyword">import</a> <a id="594" href="Function.Base.html" class="Module">Function.Base</a> <a id="608" class="Keyword">using</a> <a id="614" class="Symbol">(</a><a id="615" href="Function.Base.html#3626" class="Function Operator">_∘′_</a><a id="619" class="Symbol">;</a> <a id="621" href="Function.Base.html#725" class="Function">const</a><a id="626" class="Symbol">;</a> <a id="628" href="Function.Base.html#1638" class="Function">flip</a><a id="632" class="Symbol">)</a>
<a id="634" class="Keyword">import</a> <a id="641" href="IO.Primitive.html" class="Module">IO.Primitive</a> <a id="654" class="Symbol">as</a> <a id="657" class="Module">Prim</a>

<a id="663" class="Keyword">private</a>
  <a id="673" class="Keyword">variable</a>
    <a id="686" href="IO.Base.html#686" class="Generalizable">a</a> <a id="688" href="IO.Base.html#688" class="Generalizable">b</a> <a id="690" class="Symbol">:</a> <a id="692" href="Agda.Primitive.html#742" class="Postulate">Level</a>
    <a id="702" href="IO.Base.html#702" class="Generalizable">A</a> <a id="704" class="Symbol">:</a> <a id="706" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="710" href="IO.Base.html#686" class="Generalizable">a</a>
    <a id="716" href="IO.Base.html#716" class="Generalizable">B</a> <a id="718" class="Symbol">:</a> <a id="720" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="724" href="IO.Base.html#688" class="Generalizable">b</a>

<a id="727" class="Comment">------------------------------------------------------------------------</a>
<a id="800" class="Comment">-- The IO monad</a>

<a id="817" class="Comment">-- One cannot write &quot;infinitely large&quot; computations with the</a>
<a id="878" class="Comment">-- postulated IO monad in IO.Primitive without turning off the</a>
<a id="941" class="Comment">-- termination checker (or going via the FFI, or perhaps abusing</a>
<a id="1006" class="Comment">-- something else). The following coinductive deep embedding is</a>
<a id="1070" class="Comment">-- introduced to avoid this problem. Possible non-termination is</a>
<a id="1135" class="Comment">-- isolated to the run function below.</a>

<a id="1175" class="Keyword">data</a> <a id="IO"></a><a id="1180" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1183" class="Symbol">(</a><a id="1184" href="IO.Base.html#1184" class="Bound">A</a> <a id="1186" class="Symbol">:</a> <a id="1188" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1192" href="IO.Base.html#686" class="Generalizable">a</a><a id="1193" class="Symbol">)</a> <a id="1195" class="Symbol">:</a> <a id="1197" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1201" class="Symbol">(</a><a id="1202" href="Agda.Primitive.html#931" class="Primitive">suc</a> <a id="1206" href="IO.Base.html#1192" class="Bound">a</a><a id="1207" class="Symbol">)</a> <a id="1209" class="Keyword">where</a>
  <a id="IO.lift"></a><a id="1217" href="IO.Base.html#1217" class="InductiveConstructor">lift</a> <a id="1222" class="Symbol">:</a> <a id="1224" class="Symbol">(</a><a id="1225" href="IO.Base.html#1225" class="Bound">m</a> <a id="1227" class="Symbol">:</a> <a id="1229" href="Agda.Builtin.IO.html#137" class="Postulate">Prim.IO</a> <a id="1237" href="IO.Base.html#1184" class="Bound">A</a><a id="1238" class="Symbol">)</a> <a id="1240" class="Symbol">→</a> <a id="1242" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1245" href="IO.Base.html#1184" class="Bound">A</a>
  <a id="IO.pure"></a><a id="1249" href="IO.Base.html#1249" class="InductiveConstructor">pure</a> <a id="1254" class="Symbol">:</a> <a id="1256" class="Symbol">(</a><a id="1257" href="IO.Base.html#1257" class="Bound">x</a> <a id="1259" class="Symbol">:</a> <a id="1261" href="IO.Base.html#1184" class="Bound">A</a><a id="1262" class="Symbol">)</a> <a id="1264" class="Symbol">→</a> <a id="1266" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1269" href="IO.Base.html#1184" class="Bound">A</a>
  <a id="IO.bind"></a><a id="1273" href="IO.Base.html#1273" class="InductiveConstructor">bind</a> <a id="1278" class="Symbol">:</a> <a id="1280" class="Symbol">{</a><a id="1281" href="IO.Base.html#1281" class="Bound">B</a> <a id="1283" class="Symbol">:</a> <a id="1285" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1289" href="IO.Base.html#1192" class="Bound">a</a><a id="1290" class="Symbol">}</a> <a id="1292" class="Symbol">(</a><a id="1293" href="IO.Base.html#1293" class="Bound">m</a> <a id="1295" class="Symbol">:</a> <a id="1297" href="Agda.Builtin.Coinduction.html#196" class="Record">∞</a> <a id="1299" class="Symbol">(</a><a id="1300" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1303" href="IO.Base.html#1281" class="Bound">B</a><a id="1304" class="Symbol">))</a> <a id="1307" class="Symbol">(</a><a id="1308" href="IO.Base.html#1308" class="Bound">f</a> <a id="1310" class="Symbol">:</a> <a id="1312" class="Symbol">(</a><a id="1313" href="IO.Base.html#1313" class="Bound">x</a> <a id="1315" class="Symbol">:</a> <a id="1317" href="IO.Base.html#1281" class="Bound">B</a><a id="1318" class="Symbol">)</a> <a id="1320" class="Symbol">→</a> <a id="1322" href="Agda.Builtin.Coinduction.html#196" class="Record">∞</a> <a id="1324" class="Symbol">(</a><a id="1325" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1328" href="IO.Base.html#1184" class="Bound">A</a><a id="1329" class="Symbol">))</a> <a id="1332" class="Symbol">→</a> <a id="1334" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1337" href="IO.Base.html#1184" class="Bound">A</a>
  <a id="IO.seq"></a><a id="1341" href="IO.Base.html#1341" class="InductiveConstructor">seq</a>  <a id="1346" class="Symbol">:</a> <a id="1348" class="Symbol">{</a><a id="1349" href="IO.Base.html#1349" class="Bound">B</a> <a id="1351" class="Symbol">:</a> <a id="1353" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1357" href="IO.Base.html#1192" class="Bound">a</a><a id="1358" class="Symbol">}</a> <a id="1360" class="Symbol">(</a><a id="1361" href="IO.Base.html#1361" class="Bound">m₁</a> <a id="1364" class="Symbol">:</a> <a id="1366" href="Agda.Builtin.Coinduction.html#196" class="Record">∞</a> <a id="1368" class="Symbol">(</a><a id="1369" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1372" href="IO.Base.html#1349" class="Bound">B</a><a id="1373" class="Symbol">))</a> <a id="1376" class="Symbol">(</a><a id="1377" href="IO.Base.html#1377" class="Bound">m₂</a> <a id="1380" class="Symbol">:</a> <a id="1382" href="Agda.Builtin.Coinduction.html#196" class="Record">∞</a> <a id="1384" class="Symbol">(</a><a id="1385" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1388" href="IO.Base.html#1184" class="Bound">A</a><a id="1389" class="Symbol">))</a> <a id="1392" class="Symbol">→</a> <a id="1394" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1397" href="IO.Base.html#1184" class="Bound">A</a>

<a id="lift!"></a><a id="1400" href="IO.Base.html#1400" class="Function">lift!</a> <a id="1406" class="Symbol">:</a> <a id="1408" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1411" href="IO.Base.html#702" class="Generalizable">A</a> <a id="1413" class="Symbol">→</a> <a id="1415" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1418" class="Symbol">(</a><a id="1419" href="Level.html#409" class="Record">Lift</a> <a id="1424" href="IO.Base.html#688" class="Generalizable">b</a> <a id="1426" href="IO.Base.html#702" class="Generalizable">A</a><a id="1427" class="Symbol">)</a>
<a id="1429" href="IO.Base.html#1400" class="Function">lift!</a>         <a id="1443" class="Symbol">(</a><a id="1444" href="IO.Base.html#1217" class="InductiveConstructor">lift</a> <a id="1449" href="IO.Base.html#1449" class="Bound">io</a><a id="1451" class="Symbol">)</a>   <a id="1455" class="Symbol">=</a> <a id="1457" href="IO.Base.html#1217" class="InductiveConstructor">lift</a> <a id="1462" class="Symbol">(</a><a id="1463" href="IO.Base.html#1449" class="Bound">io</a> <a id="1466" href="IO.Primitive.html#643" class="Postulate Operator">Prim.&gt;&gt;=</a> <a id="1475" class="Symbol">λ</a> <a id="1477" href="IO.Base.html#1477" class="Bound">a</a> <a id="1479" class="Symbol">→</a> <a id="1481" href="IO.Primitive.html#625" class="Postulate">Prim.pure</a> <a id="1491" class="Symbol">(</a><a id="1492" href="Level.html#466" class="InductiveConstructor">Level.lift</a> <a id="1503" href="IO.Base.html#1477" class="Bound">a</a><a id="1504" class="Symbol">))</a>
<a id="1507" href="IO.Base.html#1400" class="Function">lift!</a>         <a id="1521" class="Symbol">(</a><a id="1522" href="IO.Base.html#1249" class="InductiveConstructor">pure</a> <a id="1527" href="IO.Base.html#1527" class="Bound">a</a><a id="1528" class="Symbol">)</a>    <a id="1533" class="Symbol">=</a> <a id="1535" href="IO.Base.html#1249" class="InductiveConstructor">pure</a> <a id="1540" class="Symbol">(</a><a id="1541" href="Level.html#466" class="InductiveConstructor">Level.lift</a> <a id="1552" href="IO.Base.html#1527" class="Bound">a</a><a id="1553" class="Symbol">)</a>
<a id="1555" href="IO.Base.html#1400" class="Function">lift!</a> <a id="1561" class="Symbol">{</a><a id="1562" class="Argument">b</a> <a id="1564" class="Symbol">=</a> <a id="1566" href="IO.Base.html#1566" class="Bound">b</a><a id="1567" class="Symbol">}</a> <a id="1569" class="Symbol">(</a><a id="1570" href="IO.Base.html#1273" class="InductiveConstructor">bind</a> <a id="1575" href="IO.Base.html#1575" class="Bound">m</a> <a id="1577" href="IO.Base.html#1577" class="Bound">f</a><a id="1578" class="Symbol">)</a>  <a id="1581" class="Symbol">=</a> <a id="1583" href="IO.Base.html#1273" class="InductiveConstructor">bind</a> <a id="1588" class="Symbol">(</a><a id="1589" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="1591" href="IO.Base.html#1400" class="Function">lift!</a> <a id="1597" class="Symbol">{</a><a id="1598" class="Argument">b</a> <a id="1600" class="Symbol">=</a> <a id="1602" href="IO.Base.html#1566" class="Bound">b</a><a id="1603" class="Symbol">}</a> <a id="1605" class="Symbol">(</a><a id="1606" href="Agda.Builtin.Coinduction.html#264" class="Field">♭</a> <a id="1608" href="IO.Base.html#1575" class="Bound">m</a><a id="1609" class="Symbol">))</a>
                                 <a id="1645" class="Symbol">(λ</a> <a id="1648" href="IO.Base.html#1648" class="Bound">x</a> <a id="1650" class="Symbol">→</a> <a id="1652" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="1654" href="IO.Base.html#1400" class="Function">lift!</a> <a id="1660" class="Symbol">(</a><a id="1661" href="Agda.Builtin.Coinduction.html#264" class="Field">♭</a> <a id="1663" class="Symbol">(</a><a id="1664" href="IO.Base.html#1577" class="Bound">f</a> <a id="1666" class="Symbol">(</a><a id="1667" href="Level.html#479" class="Field">lower</a> <a id="1673" href="IO.Base.html#1648" class="Bound">x</a><a id="1674" class="Symbol">))))</a>
<a id="1679" href="IO.Base.html#1400" class="Function">lift!</a> <a id="1685" class="Symbol">{</a><a id="1686" class="Argument">b</a> <a id="1688" class="Symbol">=</a> <a id="1690" href="IO.Base.html#1690" class="Bound">b</a><a id="1691" class="Symbol">}</a> <a id="1693" class="Symbol">(</a><a id="1694" href="IO.Base.html#1341" class="InductiveConstructor">seq</a> <a id="1698" href="IO.Base.html#1698" class="Bound">m₁</a> <a id="1701" href="IO.Base.html#1701" class="Bound">m₂</a><a id="1703" class="Symbol">)</a> <a id="1705" class="Symbol">=</a> <a id="1707" href="IO.Base.html#1341" class="InductiveConstructor">seq</a> <a id="1711" class="Symbol">(</a><a id="1712" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="1714" href="IO.Base.html#1400" class="Function">lift!</a> <a id="1720" class="Symbol">{</a><a id="1721" class="Argument">b</a> <a id="1723" class="Symbol">=</a> <a id="1725" href="IO.Base.html#1690" class="Bound">b</a><a id="1726" class="Symbol">}</a> <a id="1728" class="Symbol">(</a><a id="1729" href="Agda.Builtin.Coinduction.html#264" class="Field">♭</a> <a id="1731" href="IO.Base.html#1698" class="Bound">m₁</a><a id="1733" class="Symbol">))</a>
                                <a id="1768" class="Symbol">(</a><a id="1769" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="1771" href="IO.Base.html#1400" class="Function">lift!</a> <a id="1777" class="Symbol">(</a><a id="1778" href="Agda.Builtin.Coinduction.html#264" class="Field">♭</a> <a id="1780" href="IO.Base.html#1701" class="Bound">m₂</a><a id="1782" class="Symbol">))</a>

<a id="1786" class="Keyword">module</a> <a id="1793" href="IO.Base.html#1793" class="Module">_</a> <a id="1795" class="Symbol">{</a><a id="1796" href="IO.Base.html#1796" class="Bound">A</a> <a id="1798" href="IO.Base.html#1798" class="Bound">B</a> <a id="1800" class="Symbol">:</a> <a id="1802" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1806" href="IO.Base.html#686" class="Generalizable">a</a><a id="1807" class="Symbol">}</a> <a id="1809" class="Keyword">where</a>

  <a id="1818" class="Keyword">infixl</a> <a id="1825" class="Number">1</a> <a id="1827" href="IO.Base.html#1973" class="Function Operator">_&lt;$&gt;_</a> <a id="1833" href="IO.Base.html#1870" class="Function Operator">_&lt;*&gt;_</a> <a id="1839" href="IO.Base.html#2084" class="Function Operator">_&gt;&gt;=_</a> <a id="1845" href="IO.Base.html#2212" class="Function Operator">_&gt;&gt;_</a>
  <a id="1852" class="Keyword">infixr</a> <a id="1859" class="Number">1</a> <a id="1861" href="IO.Base.html#2155" class="Function Operator">_=&lt;&lt;_</a>

  <a id="1870" href="IO.Base.html#1870" class="Function Operator">_&lt;*&gt;_</a> <a id="1876" class="Symbol">:</a> <a id="1878" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1881" class="Symbol">(</a><a id="1882" href="IO.Base.html#1796" class="Bound">A</a> <a id="1884" class="Symbol">→</a> <a id="1886" href="IO.Base.html#1798" class="Bound">B</a><a id="1887" class="Symbol">)</a> <a id="1889" class="Symbol">→</a> <a id="1891" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1894" href="IO.Base.html#1796" class="Bound">A</a> <a id="1896" class="Symbol">→</a> <a id="1898" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1901" href="IO.Base.html#1798" class="Bound">B</a>
  <a id="1905" href="IO.Base.html#1905" class="Bound">mf</a> <a id="1908" href="IO.Base.html#1870" class="Function Operator">&lt;*&gt;</a> <a id="1912" href="IO.Base.html#1912" class="Bound">mx</a> <a id="1915" class="Symbol">=</a> <a id="1917" href="IO.Base.html#1273" class="InductiveConstructor">bind</a> <a id="1922" class="Symbol">(</a><a id="1923" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="1925" href="IO.Base.html#1905" class="Bound">mf</a><a id="1927" class="Symbol">)</a> <a id="1929" class="Symbol">λ</a> <a id="1931" href="IO.Base.html#1931" class="Bound">f</a> <a id="1933" class="Symbol">→</a> <a id="1935" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="1937" class="Symbol">(</a><a id="1938" href="IO.Base.html#1273" class="InductiveConstructor">bind</a> <a id="1943" class="Symbol">(</a><a id="1944" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="1946" href="IO.Base.html#1912" class="Bound">mx</a><a id="1948" class="Symbol">)</a> <a id="1950" class="Symbol">λ</a> <a id="1952" href="IO.Base.html#1952" class="Bound">x</a> <a id="1954" class="Symbol">→</a> <a id="1956" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="1958" href="IO.Base.html#1249" class="InductiveConstructor">pure</a> <a id="1963" class="Symbol">(</a><a id="1964" href="IO.Base.html#1931" class="Bound">f</a> <a id="1966" href="IO.Base.html#1952" class="Bound">x</a><a id="1967" class="Symbol">))</a>

  <a id="1973" href="IO.Base.html#1973" class="Function Operator">_&lt;$&gt;_</a> <a id="1979" class="Symbol">:</a> <a id="1981" class="Symbol">(</a><a id="1982" href="IO.Base.html#1796" class="Bound">A</a> <a id="1984" class="Symbol">→</a> <a id="1986" href="IO.Base.html#1798" class="Bound">B</a><a id="1987" class="Symbol">)</a> <a id="1989" class="Symbol">→</a> <a id="1991" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="1994" href="IO.Base.html#1796" class="Bound">A</a> <a id="1996" class="Symbol">→</a> <a id="1998" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2001" href="IO.Base.html#1798" class="Bound">B</a>
  <a id="2005" href="IO.Base.html#2005" class="Bound">f</a> <a id="2007" href="IO.Base.html#1973" class="Function Operator">&lt;$&gt;</a> <a id="2011" href="IO.Base.html#2011" class="Bound">m</a> <a id="2013" class="Symbol">=</a> <a id="2015" href="IO.Base.html#1249" class="InductiveConstructor">pure</a> <a id="2020" href="IO.Base.html#2005" class="Bound">f</a> <a id="2022" href="IO.Base.html#1870" class="Function Operator">&lt;*&gt;</a> <a id="2026" href="IO.Base.html#2011" class="Bound">m</a>

  <a id="2031" href="IO.Base.html#2031" class="Function Operator">_&lt;$_</a> <a id="2036" class="Symbol">:</a> <a id="2038" href="IO.Base.html#1798" class="Bound">B</a> <a id="2040" class="Symbol">→</a> <a id="2042" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2045" href="IO.Base.html#1796" class="Bound">A</a> <a id="2047" class="Symbol">→</a> <a id="2049" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2052" href="IO.Base.html#1798" class="Bound">B</a>
  <a id="2056" href="IO.Base.html#2056" class="Bound">b</a> <a id="2058" href="IO.Base.html#2031" class="Function Operator">&lt;$</a> <a id="2061" href="IO.Base.html#2061" class="Bound">m</a> <a id="2063" class="Symbol">=</a> <a id="2065" class="Symbol">(</a><a id="2066" href="Function.Base.html#725" class="Function">const</a> <a id="2072" href="IO.Base.html#2056" class="Bound">b</a><a id="2073" class="Symbol">)</a> <a id="2075" href="IO.Base.html#1973" class="Function Operator">&lt;$&gt;</a> <a id="2079" href="IO.Base.html#2061" class="Bound">m</a>

  <a id="2084" href="IO.Base.html#2084" class="Function Operator">_&gt;&gt;=_</a> <a id="2090" class="Symbol">:</a> <a id="2092" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2095" href="IO.Base.html#1796" class="Bound">A</a> <a id="2097" class="Symbol">→</a> <a id="2099" class="Symbol">(</a><a id="2100" href="IO.Base.html#1796" class="Bound">A</a> <a id="2102" class="Symbol">→</a> <a id="2104" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2107" href="IO.Base.html#1798" class="Bound">B</a><a id="2108" class="Symbol">)</a> <a id="2110" class="Symbol">→</a> <a id="2112" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2115" href="IO.Base.html#1798" class="Bound">B</a>
  <a id="2119" href="IO.Base.html#2119" class="Bound">m</a> <a id="2121" href="IO.Base.html#2084" class="Function Operator">&gt;&gt;=</a> <a id="2125" href="IO.Base.html#2125" class="Bound">f</a> <a id="2127" class="Symbol">=</a> <a id="2129" href="IO.Base.html#1273" class="InductiveConstructor">bind</a> <a id="2134" class="Symbol">(</a><a id="2135" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="2137" href="IO.Base.html#2119" class="Bound">m</a><a id="2138" class="Symbol">)</a> <a id="2140" class="Symbol">λ</a> <a id="2142" href="IO.Base.html#2142" class="Bound">x</a> <a id="2144" class="Symbol">→</a> <a id="2146" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="2148" href="IO.Base.html#2125" class="Bound">f</a> <a id="2150" href="IO.Base.html#2142" class="Bound">x</a>

  <a id="2155" href="IO.Base.html#2155" class="Function Operator">_=&lt;&lt;_</a> <a id="2161" class="Symbol">:</a> <a id="2163" class="Symbol">(</a><a id="2164" href="IO.Base.html#1796" class="Bound">A</a> <a id="2166" class="Symbol">→</a> <a id="2168" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2171" href="IO.Base.html#1798" class="Bound">B</a><a id="2172" class="Symbol">)</a> <a id="2174" class="Symbol">→</a> <a id="2176" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2179" href="IO.Base.html#1796" class="Bound">A</a> <a id="2181" class="Symbol">→</a> <a id="2183" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2186" href="IO.Base.html#1798" class="Bound">B</a>
  <a id="2190" href="IO.Base.html#2155" class="Function Operator">_=&lt;&lt;_</a> <a id="2196" class="Symbol">=</a> <a id="2198" href="Function.Base.html#1638" class="Function">flip</a> <a id="2203" href="IO.Base.html#2084" class="Function Operator">_&gt;&gt;=_</a>

  <a id="2212" href="IO.Base.html#2212" class="Function Operator">_&gt;&gt;_</a> <a id="2217" class="Symbol">:</a> <a id="2219" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2222" href="IO.Base.html#1796" class="Bound">A</a> <a id="2224" class="Symbol">→</a> <a id="2226" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2229" href="IO.Base.html#1798" class="Bound">B</a> <a id="2231" class="Symbol">→</a> <a id="2233" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2236" href="IO.Base.html#1798" class="Bound">B</a>
  <a id="2240" href="IO.Base.html#2240" class="Bound">m₁</a> <a id="2243" href="IO.Base.html#2212" class="Function Operator">&gt;&gt;</a> <a id="2246" href="IO.Base.html#2246" class="Bound">m₂</a> <a id="2249" class="Symbol">=</a> <a id="2251" href="IO.Base.html#1341" class="InductiveConstructor">seq</a> <a id="2255" class="Symbol">(</a><a id="2256" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="2258" href="IO.Base.html#2240" class="Bound">m₁</a><a id="2260" class="Symbol">)</a> <a id="2262" class="Symbol">(</a><a id="2263" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="2265" href="IO.Base.html#2246" class="Bound">m₂</a><a id="2267" class="Symbol">)</a>

  <a id="2272" href="IO.Base.html#2272" class="Function Operator">_&lt;&lt;_</a> <a id="2277" class="Symbol">:</a> <a id="2279" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2282" href="IO.Base.html#1798" class="Bound">B</a> <a id="2284" class="Symbol">→</a> <a id="2286" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2289" href="IO.Base.html#1796" class="Bound">A</a> <a id="2291" class="Symbol">→</a> <a id="2293" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2296" href="IO.Base.html#1798" class="Bound">B</a>
  <a id="2300" href="IO.Base.html#2272" class="Function Operator">_&lt;&lt;_</a> <a id="2305" class="Symbol">=</a> <a id="2307" href="Function.Base.html#1638" class="Function">flip</a> <a id="2312" href="IO.Base.html#2212" class="Function Operator">_&gt;&gt;_</a>

<a id="2318" class="Comment">------------------------------------------------------------------------</a>
<a id="2391" class="Comment">-- Running programs</a>

<a id="2412" class="Comment">-- A value of type `IO A` is a description of a computation that may</a>
<a id="2481" class="Comment">-- eventually produce an `A`. The `run` function converts this</a>
<a id="2544" class="Comment">-- description of a computation into calls to primitive functions that</a>
<a id="2615" class="Comment">-- will actually perform it.</a>

<a id="2645" class="Symbol">{-#</a> <a id="2649" class="Keyword">NON_TERMINATING</a> <a id="2665" class="Symbol">#-}</a>
<a id="run"></a><a id="2669" href="IO.Base.html#2669" class="Function">run</a> <a id="2673" class="Symbol">:</a> <a id="2675" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="2678" href="IO.Base.html#702" class="Generalizable">A</a> <a id="2680" class="Symbol">→</a> <a id="2682" href="Agda.Builtin.IO.html#137" class="Postulate">Prim.IO</a> <a id="2690" href="IO.Base.html#702" class="Generalizable">A</a>
<a id="2692" href="IO.Base.html#2669" class="Function">run</a> <a id="2696" class="Symbol">(</a><a id="2697" href="IO.Base.html#1217" class="InductiveConstructor">lift</a> <a id="2702" href="IO.Base.html#2702" class="Bound">m</a><a id="2703" class="Symbol">)</a>    <a id="2708" class="Symbol">=</a> <a id="2710" href="IO.Base.html#2702" class="Bound">m</a>
<a id="2712" href="IO.Base.html#2669" class="Function">run</a> <a id="2716" class="Symbol">(</a><a id="2717" href="IO.Base.html#1249" class="InductiveConstructor">pure</a> <a id="2722" href="IO.Base.html#2722" class="Bound">x</a><a id="2723" class="Symbol">)</a>    <a id="2728" class="Symbol">=</a> <a id="2730" href="IO.Primitive.html#625" class="Postulate">Prim.pure</a> <a id="2740" href="IO.Base.html#2722" class="Bound">x</a>
<a id="2742" href="IO.Base.html#2669" class="Function">run</a> <a id="2746" class="Symbol">(</a><a id="2747" href="IO.Base.html#1273" class="InductiveConstructor">bind</a> <a id="2752" href="IO.Base.html#2752" class="Bound">m</a> <a id="2754" href="IO.Base.html#2754" class="Bound">f</a><a id="2755" class="Symbol">)</a>  <a id="2758" class="Symbol">=</a> <a id="2760" href="IO.Base.html#2669" class="Function">run</a> <a id="2764" class="Symbol">(</a><a id="2765" href="Agda.Builtin.Coinduction.html#264" class="Field">♭</a> <a id="2767" href="IO.Base.html#2752" class="Bound">m</a> <a id="2769" class="Symbol">)</a> <a id="2771" href="IO.Primitive.html#643" class="Postulate Operator">Prim.&gt;&gt;=</a> <a id="2780" class="Symbol">λ</a> <a id="2782" href="IO.Base.html#2782" class="Bound">x</a> <a id="2784" class="Symbol">→</a> <a id="2786" href="IO.Base.html#2669" class="Function">run</a> <a id="2790" class="Symbol">(</a><a id="2791" href="Agda.Builtin.Coinduction.html#264" class="Field">♭</a> <a id="2793" class="Symbol">(</a><a id="2794" href="IO.Base.html#2754" class="Bound">f</a> <a id="2796" href="IO.Base.html#2782" class="Bound">x</a><a id="2797" class="Symbol">))</a>
<a id="2800" href="IO.Base.html#2669" class="Function">run</a> <a id="2804" class="Symbol">(</a><a id="2805" href="IO.Base.html#1341" class="InductiveConstructor">seq</a> <a id="2809" href="IO.Base.html#2809" class="Bound">m₁</a> <a id="2812" href="IO.Base.html#2812" class="Bound">m₂</a><a id="2814" class="Symbol">)</a> <a id="2816" class="Symbol">=</a> <a id="2818" href="IO.Base.html#2669" class="Function">run</a> <a id="2822" class="Symbol">(</a><a id="2823" href="Agda.Builtin.Coinduction.html#264" class="Field">♭</a> <a id="2825" href="IO.Base.html#2809" class="Bound">m₁</a><a id="2827" class="Symbol">)</a> <a id="2829" href="IO.Primitive.html#643" class="Postulate Operator">Prim.&gt;&gt;=</a> <a id="2838" class="Symbol">λ</a> <a id="2840" href="IO.Base.html#2840" class="Bound">_</a> <a id="2842" class="Symbol">→</a> <a id="2844" href="IO.Base.html#2669" class="Function">run</a> <a id="2848" class="Symbol">(</a><a id="2849" href="Agda.Builtin.Coinduction.html#264" class="Field">♭</a> <a id="2851" href="IO.Base.html#2812" class="Bound">m₂</a><a id="2853" class="Symbol">)</a>

<a id="2856" class="Comment">-- The entrypoint of an Agda program will be assigned type `Main` and</a>
<a id="2926" class="Comment">-- implemented using `run` on some `IO ⊤` program.</a>

<a id="Main"></a><a id="2978" href="IO.Base.html#2978" class="Function">Main</a> <a id="2983" class="Symbol">:</a> <a id="2985" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="2989" href="IO.Base.html#2978" class="Function">Main</a> <a id="2994" class="Symbol">=</a> <a id="2996" href="Agda.Builtin.IO.html#137" class="Postulate">Prim.IO</a> <a id="3004" class="Symbol">{</a><a id="3005" href="Level.html#521" class="Function">0ℓ</a><a id="3007" class="Symbol">}</a> <a id="3009" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a>

<a id="3012" class="Comment">------------------------------------------------------------------------</a>
<a id="3085" class="Comment">-- Utilities</a>

<a id="3099" class="Comment">-- Make a unit-returning primitive level polymorphic</a>
<a id="lift′"></a><a id="3152" href="IO.Base.html#3152" class="Function">lift′</a> <a id="3158" class="Symbol">:</a> <a id="3160" href="Agda.Builtin.IO.html#137" class="Postulate">Prim.IO</a> <a id="3168" href="Agda.Builtin.Unit.html#175" class="Record">Unit0.⊤</a> <a id="3176" class="Symbol">→</a> <a id="3178" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3181" class="Symbol">{</a><a id="3182" href="IO.Base.html#686" class="Generalizable">a</a><a id="3183" class="Symbol">}</a> <a id="3185" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a>
<a id="3187" href="IO.Base.html#3152" class="Function">lift′</a> <a id="3193" href="IO.Base.html#3193" class="Bound">io</a> <a id="3196" class="Symbol">=</a> <a id="3198" href="IO.Base.html#1217" class="InductiveConstructor">lift</a> <a id="3203" class="Symbol">(</a><a id="3204" href="IO.Base.html#3193" class="Bound">io</a> <a id="3207" href="IO.Primitive.html#643" class="Postulate Operator">Prim.&gt;&gt;=</a> <a id="3216" class="Symbol">λ</a> <a id="3218" href="IO.Base.html#3218" class="Bound">_</a> <a id="3220" class="Symbol">→</a> <a id="3222" href="IO.Primitive.html#625" class="Postulate">Prim.pure</a> <a id="3232" class="Symbol">_)</a>

<a id="3236" class="Comment">-- Throw away the result</a>
<a id="ignore"></a><a id="3261" href="IO.Base.html#3261" class="Function">ignore</a> <a id="3268" class="Symbol">:</a> <a id="3270" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3273" href="IO.Base.html#702" class="Generalizable">A</a> <a id="3275" class="Symbol">→</a> <a id="3277" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3280" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a>
<a id="3282" href="IO.Base.html#3261" class="Function">ignore</a> <a id="3289" href="IO.Base.html#3289" class="Bound">io</a> <a id="3292" class="Symbol">=</a> <a id="3294" href="IO.Base.html#3289" class="Bound">io</a> <a id="3297" href="IO.Base.html#2212" class="Function Operator">&gt;&gt;</a> <a id="3300" href="IO.Base.html#1249" class="InductiveConstructor">pure</a> <a id="3305" class="Symbol">_</a>

<a id="3308" class="Comment">-- Conditional executions</a>
<a id="when"></a><a id="3334" href="IO.Base.html#3334" class="Function">when</a> <a id="3339" class="Symbol">:</a> <a id="3341" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="3346" class="Symbol">→</a> <a id="3348" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3351" class="Symbol">{</a><a id="3352" href="IO.Base.html#686" class="Generalizable">a</a><a id="3353" class="Symbol">}</a> <a id="3355" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a> <a id="3357" class="Symbol">→</a> <a id="3359" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3362" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a>
<a id="3364" href="IO.Base.html#3334" class="Function">when</a> <a id="3369" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="3374" href="IO.Base.html#3374" class="Bound">m</a> <a id="3376" class="Symbol">=</a> <a id="3378" href="IO.Base.html#3374" class="Bound">m</a>
<a id="3380" href="IO.Base.html#3334" class="Function">when</a> <a id="3385" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3391" class="Symbol">_</a> <a id="3393" class="Symbol">=</a> <a id="3395" href="IO.Base.html#1249" class="InductiveConstructor">pure</a> <a id="3400" class="Symbol">_</a>

<a id="unless"></a><a id="3403" href="IO.Base.html#3403" class="Function">unless</a> <a id="3410" class="Symbol">:</a> <a id="3412" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="3417" class="Symbol">→</a> <a id="3419" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3422" class="Symbol">{</a><a id="3423" href="IO.Base.html#686" class="Generalizable">a</a><a id="3424" class="Symbol">}</a> <a id="3426" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a> <a id="3428" class="Symbol">→</a> <a id="3430" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3433" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a>
<a id="3435" href="IO.Base.html#3403" class="Function">unless</a> <a id="3442" class="Symbol">=</a> <a id="3444" href="IO.Base.html#3334" class="Function">when</a> <a id="3449" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="3452" href="Data.Bool.Base.html#941" class="Function">not</a>

<a id="whenJust"></a><a id="3457" href="IO.Base.html#3457" class="Function">whenJust</a> <a id="3466" class="Symbol">:</a> <a id="3468" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3474" href="IO.Base.html#702" class="Generalizable">A</a> <a id="3476" class="Symbol">→</a> <a id="3478" class="Symbol">(</a><a id="3479" href="IO.Base.html#702" class="Generalizable">A</a> <a id="3481" class="Symbol">→</a> <a id="3483" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3486" class="Symbol">{</a><a id="3487" href="IO.Base.html#686" class="Generalizable">a</a><a id="3488" class="Symbol">}</a> <a id="3490" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a><a id="3491" class="Symbol">)</a> <a id="3493" class="Symbol">→</a> <a id="3495" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3498" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a>
<a id="3500" href="IO.Base.html#3457" class="Function">whenJust</a> <a id="3509" class="Symbol">(</a><a id="3510" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3515" href="IO.Base.html#3515" class="Bound">a</a><a id="3516" class="Symbol">)</a> <a id="3518" href="IO.Base.html#3518" class="Bound">k</a> <a id="3520" class="Symbol">=</a> <a id="3522" href="IO.Base.html#3518" class="Bound">k</a> <a id="3524" href="IO.Base.html#3515" class="Bound">a</a>
<a id="3526" href="IO.Base.html#3457" class="Function">whenJust</a> <a id="3535" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="3544" class="Symbol">_</a> <a id="3546" class="Symbol">=</a> <a id="3548" href="IO.Base.html#1249" class="InductiveConstructor">pure</a> <a id="3553" class="Symbol">_</a>

<a id="3556" class="Comment">-- Keep running an IO action until we get a value. Convenient when user</a>
<a id="3628" class="Comment">-- input is involved and it may be malformed.</a>
<a id="untilJust"></a><a id="3674" href="IO.Base.html#3674" class="Function">untilJust</a> <a id="3684" class="Symbol">:</a> <a id="3686" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3689" class="Symbol">(</a><a id="3690" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3696" href="IO.Base.html#702" class="Generalizable">A</a><a id="3697" class="Symbol">)</a> <a id="3699" class="Symbol">→</a> <a id="3701" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3704" href="IO.Base.html#702" class="Generalizable">A</a>
<a id="3706" class="Comment">-- Note that here we are forced to use `bind` &amp; the musical notation</a>
<a id="3775" class="Comment">-- explicitly to guarantee that the corecursive call is guarded</a>
<a id="3839" href="IO.Base.html#3674" class="Function">untilJust</a> <a id="3849" href="IO.Base.html#3849" class="Bound">m</a> <a id="3851" class="Symbol">=</a> <a id="3853" href="IO.Base.html#1273" class="InductiveConstructor">bind</a> <a id="3858" class="Symbol">(</a><a id="3859" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="3861" href="IO.Base.html#3849" class="Bound">m</a><a id="3862" class="Symbol">)</a> <a id="3864" class="Symbol">λ</a> <a id="3866" class="Keyword">where</a>
  <a id="3874" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="3883" class="Symbol">→</a> <a id="3885" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="3887" href="IO.Base.html#3674" class="Function">untilJust</a> <a id="3897" href="IO.Base.html#3849" class="Bound">m</a>
  <a id="3901" class="Symbol">(</a><a id="3902" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3907" href="IO.Base.html#3907" class="Bound">a</a><a id="3908" class="Symbol">)</a> <a id="3910" class="Symbol">→</a> <a id="3912" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="3914" href="IO.Base.html#1249" class="InductiveConstructor">pure</a> <a id="3919" href="IO.Base.html#3907" class="Bound">a</a>

<a id="untilRight"></a><a id="3922" href="IO.Base.html#3922" class="Function">untilRight</a> <a id="3933" class="Symbol">:</a> <a id="3935" class="Symbol">{</a><a id="3936" href="IO.Base.html#3936" class="Bound">A</a> <a id="3938" href="IO.Base.html#3938" class="Bound">B</a> <a id="3940" class="Symbol">:</a> <a id="3942" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3946" href="IO.Base.html#686" class="Generalizable">a</a><a id="3947" class="Symbol">}</a> <a id="3949" class="Symbol">→</a> <a id="3951" class="Symbol">(</a><a id="3952" href="IO.Base.html#3936" class="Bound">A</a> <a id="3954" class="Symbol">→</a> <a id="3956" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3959" class="Symbol">(</a><a id="3960" href="IO.Base.html#3936" class="Bound">A</a> <a id="3962" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3964" href="IO.Base.html#3938" class="Bound">B</a><a id="3965" class="Symbol">))</a> <a id="3968" class="Symbol">→</a> <a id="3970" href="IO.Base.html#3936" class="Bound">A</a> <a id="3972" class="Symbol">→</a> <a id="3974" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3977" href="IO.Base.html#3938" class="Bound">B</a>
<a id="3979" href="IO.Base.html#3922" class="Function">untilRight</a> <a id="3990" href="IO.Base.html#3990" class="Bound">f</a> <a id="3992" href="IO.Base.html#3992" class="Bound">x</a> <a id="3994" class="Symbol">=</a> <a id="3996" href="IO.Base.html#1273" class="InductiveConstructor">bind</a> <a id="4001" class="Symbol">(</a><a id="4002" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="4004" href="IO.Base.html#3990" class="Bound">f</a> <a id="4006" href="IO.Base.html#3992" class="Bound">x</a><a id="4007" class="Symbol">)</a> <a id="4009" class="Symbol">λ</a> <a id="4011" class="Keyword">where</a>
  <a id="4019" class="Symbol">(</a><a id="4020" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="4025" href="IO.Base.html#4025" class="Bound">x′</a><a id="4027" class="Symbol">)</a> <a id="4029" class="Symbol">→</a> <a id="4031" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="4033" href="IO.Base.html#3922" class="Function">untilRight</a> <a id="4044" href="IO.Base.html#3990" class="Bound">f</a> <a id="4046" href="IO.Base.html#4025" class="Bound">x′</a>
  <a id="4051" class="Symbol">(</a><a id="4052" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="4057" href="IO.Base.html#4057" class="Bound">y</a><a id="4058" class="Symbol">)</a> <a id="4060" class="Symbol">→</a> <a id="4062" href="Agda.Builtin.Coinduction.html#229" class="CoinductiveConstructor Operator">♯</a> <a id="4064" href="IO.Base.html#1249" class="InductiveConstructor">pure</a> <a id="4069" href="IO.Base.html#4057" class="Bound">y</a>
</pre></body></html>