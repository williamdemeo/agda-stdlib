<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Container.Indexed.Core</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Indexed containers core</a>
<a id="133" class="Comment">------------------------------------------------------------------------</a>

<a id="207" class="Symbol">{-#</a> <a id="211" class="Keyword">OPTIONS</a> <a id="219" class="Pragma">--cubical-compatible</a> <a id="240" class="Pragma">--safe</a> <a id="247" class="Symbol">#-}</a>

<a id="252" class="Keyword">module</a> <a id="259" href="Data.Container.Indexed.Core.html" class="Module">Data.Container.Indexed.Core</a> <a id="287" class="Keyword">where</a>

<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Level.html" class="Module">Level</a>
<a id="312" class="Keyword">open</a> <a id="317" class="Keyword">import</a> <a id="324" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="342" class="Keyword">using</a> <a id="348" class="Symbol">(</a><a id="349" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a><a id="350" class="Symbol">;</a> <a id="352" href="Data.Product.Base.html#1244" class="Function">Σ-syntax</a><a id="360" class="Symbol">;</a> <a id="362" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="365" class="Symbol">;</a> <a id="367" href="Data.Product.Base.html#852" class="Function">∃</a><a id="368" class="Symbol">)</a>
<a id="370" class="Keyword">open</a> <a id="375" class="Keyword">import</a> <a id="382" href="Relation.Unary.html" class="Module">Relation.Unary</a>

<a id="398" class="Keyword">infix</a> <a id="404" class="Number">5</a> <a id="406" href="Data.Container.Indexed.Core.html#541" class="InductiveConstructor Operator">_◃_/_</a>

<a id="413" class="Keyword">record</a> <a id="Container"></a><a id="420" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="430" class="Symbol">{</a><a id="431" href="Data.Container.Indexed.Core.html#431" class="Bound">i</a> <a id="433" href="Data.Container.Indexed.Core.html#433" class="Bound">o</a><a id="434" class="Symbol">}</a> <a id="436" class="Symbol">(</a><a id="437" href="Data.Container.Indexed.Core.html#437" class="Bound">I</a> <a id="439" class="Symbol">:</a> <a id="441" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="445" href="Data.Container.Indexed.Core.html#431" class="Bound">i</a><a id="446" class="Symbol">)</a> <a id="448" class="Symbol">(</a><a id="449" href="Data.Container.Indexed.Core.html#449" class="Bound">O</a> <a id="451" class="Symbol">:</a> <a id="453" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="457" href="Data.Container.Indexed.Core.html#433" class="Bound">o</a><a id="458" class="Symbol">)</a> <a id="460" class="Symbol">(</a><a id="461" href="Data.Container.Indexed.Core.html#461" class="Bound">c</a> <a id="463" href="Data.Container.Indexed.Core.html#463" class="Bound">r</a> <a id="465" class="Symbol">:</a> <a id="467" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="472" class="Symbol">)</a> <a id="474" class="Symbol">:</a>
                 <a id="493" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="497" class="Symbol">(</a><a id="498" href="Data.Container.Indexed.Core.html#431" class="Bound">i</a> <a id="500" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="502" href="Data.Container.Indexed.Core.html#433" class="Bound">o</a> <a id="504" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="506" href="Agda.Primitive.html#931" class="Primitive">suc</a> <a id="510" href="Data.Container.Indexed.Core.html#461" class="Bound">c</a> <a id="512" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="514" href="Agda.Primitive.html#931" class="Primitive">suc</a> <a id="518" href="Data.Container.Indexed.Core.html#463" class="Bound">r</a><a id="519" class="Symbol">)</a> <a id="521" class="Keyword">where</a>
  <a id="529" class="Keyword">constructor</a> <a id="_◃_/_"></a><a id="541" href="Data.Container.Indexed.Core.html#541" class="InductiveConstructor Operator">_◃_/_</a>
  <a id="549" class="Keyword">field</a>
    <a id="Container.Command"></a><a id="559" href="Data.Container.Indexed.Core.html#559" class="Field">Command</a>  <a id="568" class="Symbol">:</a> <a id="570" class="Symbol">(</a><a id="571" href="Data.Container.Indexed.Core.html#571" class="Bound">o</a> <a id="573" class="Symbol">:</a> <a id="575" href="Data.Container.Indexed.Core.html#449" class="Bound">O</a><a id="576" class="Symbol">)</a> <a id="578" class="Symbol">→</a> <a id="580" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="584" href="Data.Container.Indexed.Core.html#461" class="Bound">c</a>
    <a id="Container.Response"></a><a id="590" href="Data.Container.Indexed.Core.html#590" class="Field">Response</a> <a id="599" class="Symbol">:</a> <a id="601" class="Symbol">∀</a> <a id="603" class="Symbol">{</a><a id="604" href="Data.Container.Indexed.Core.html#604" class="Bound">o</a><a id="605" class="Symbol">}</a> <a id="607" class="Symbol">→</a> <a id="609" href="Data.Container.Indexed.Core.html#559" class="Field">Command</a> <a id="617" href="Data.Container.Indexed.Core.html#604" class="Bound">o</a> <a id="619" class="Symbol">→</a> <a id="621" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="625" href="Data.Container.Indexed.Core.html#463" class="Bound">r</a>
    <a id="Container.next"></a><a id="631" href="Data.Container.Indexed.Core.html#631" class="Field">next</a>     <a id="640" class="Symbol">:</a> <a id="642" class="Symbol">∀</a> <a id="644" class="Symbol">{</a><a id="645" href="Data.Container.Indexed.Core.html#645" class="Bound">o</a><a id="646" class="Symbol">}</a> <a id="648" class="Symbol">(</a><a id="649" href="Data.Container.Indexed.Core.html#649" class="Bound">c</a> <a id="651" class="Symbol">:</a> <a id="653" href="Data.Container.Indexed.Core.html#559" class="Field">Command</a> <a id="661" href="Data.Container.Indexed.Core.html#645" class="Bound">o</a><a id="662" class="Symbol">)</a> <a id="664" class="Symbol">→</a> <a id="666" href="Data.Container.Indexed.Core.html#590" class="Field">Response</a> <a id="675" href="Data.Container.Indexed.Core.html#649" class="Bound">c</a> <a id="677" class="Symbol">→</a> <a id="679" href="Data.Container.Indexed.Core.html#437" class="Bound">I</a>

<a id="682" class="Comment">-- The semantics (&quot;extension&quot;) of an indexed container.</a>

<a id="⟦_⟧"></a><a id="739" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟦_⟧</a> <a id="743" class="Symbol">:</a> <a id="745" class="Symbol">∀</a> <a id="747" class="Symbol">{</a><a id="748" href="Data.Container.Indexed.Core.html#748" class="Bound">i</a> <a id="750" href="Data.Container.Indexed.Core.html#750" class="Bound">o</a> <a id="752" href="Data.Container.Indexed.Core.html#752" class="Bound">c</a> <a id="754" href="Data.Container.Indexed.Core.html#754" class="Bound">r</a> <a id="756" href="Data.Container.Indexed.Core.html#756" class="Bound">ℓ</a><a id="757" class="Symbol">}</a> <a id="759" class="Symbol">{</a><a id="760" href="Data.Container.Indexed.Core.html#760" class="Bound">I</a> <a id="762" class="Symbol">:</a> <a id="764" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="768" href="Data.Container.Indexed.Core.html#748" class="Bound">i</a><a id="769" class="Symbol">}</a> <a id="771" class="Symbol">{</a><a id="772" href="Data.Container.Indexed.Core.html#772" class="Bound">O</a> <a id="774" class="Symbol">:</a> <a id="776" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="780" href="Data.Container.Indexed.Core.html#750" class="Bound">o</a><a id="781" class="Symbol">}</a> <a id="783" class="Symbol">→</a> <a id="785" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="795" href="Data.Container.Indexed.Core.html#760" class="Bound">I</a> <a id="797" href="Data.Container.Indexed.Core.html#772" class="Bound">O</a> <a id="799" href="Data.Container.Indexed.Core.html#752" class="Bound">c</a> <a id="801" href="Data.Container.Indexed.Core.html#754" class="Bound">r</a> <a id="803" class="Symbol">→</a>
      <a id="811" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="816" href="Data.Container.Indexed.Core.html#760" class="Bound">I</a> <a id="818" href="Data.Container.Indexed.Core.html#756" class="Bound">ℓ</a> <a id="820" class="Symbol">→</a> <a id="822" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="827" href="Data.Container.Indexed.Core.html#772" class="Bound">O</a> <a id="829" class="Symbol">_</a>
<a id="831" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟦</a> <a id="833" href="Data.Container.Indexed.Core.html#833" class="Bound">C</a> <a id="835" href="Data.Container.Indexed.Core.html#541" class="InductiveConstructor Operator">◃</a> <a id="837" href="Data.Container.Indexed.Core.html#837" class="Bound">R</a> <a id="839" href="Data.Container.Indexed.Core.html#541" class="InductiveConstructor Operator">/</a> <a id="841" href="Data.Container.Indexed.Core.html#841" class="Bound">n</a> <a id="843" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟧</a> <a id="845" href="Data.Container.Indexed.Core.html#845" class="Bound">X</a> <a id="847" href="Data.Container.Indexed.Core.html#847" class="Bound">o</a> <a id="849" class="Symbol">=</a> <a id="851" href="Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="854" href="Data.Container.Indexed.Core.html#854" class="Bound">c</a> <a id="856" href="Data.Product.Base.html#1244" class="Function">∈</a> <a id="858" href="Data.Container.Indexed.Core.html#833" class="Bound">C</a> <a id="860" href="Data.Container.Indexed.Core.html#847" class="Bound">o</a> <a id="862" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="864" class="Symbol">((</a><a id="866" href="Data.Container.Indexed.Core.html#866" class="Bound">r</a> <a id="868" class="Symbol">:</a> <a id="870" href="Data.Container.Indexed.Core.html#837" class="Bound">R</a> <a id="872" href="Data.Container.Indexed.Core.html#854" class="Bound">c</a><a id="873" class="Symbol">)</a> <a id="875" class="Symbol">→</a> <a id="877" href="Data.Container.Indexed.Core.html#845" class="Bound">X</a> <a id="879" class="Symbol">(</a><a id="880" href="Data.Container.Indexed.Core.html#841" class="Bound">n</a> <a id="882" href="Data.Container.Indexed.Core.html#854" class="Bound">c</a> <a id="884" href="Data.Container.Indexed.Core.html#866" class="Bound">r</a><a id="885" class="Symbol">))</a>

<a id="889" class="Comment">------------------------------------------------------------------------</a>
<a id="962" class="Comment">-- All and any</a>

<a id="978" class="Keyword">module</a> <a id="985" href="Data.Container.Indexed.Core.html#985" class="Module">_</a> <a id="987" class="Symbol">{</a><a id="988" href="Data.Container.Indexed.Core.html#988" class="Bound">i</a> <a id="990" href="Data.Container.Indexed.Core.html#990" class="Bound">o</a> <a id="992" href="Data.Container.Indexed.Core.html#992" class="Bound">c</a> <a id="994" href="Data.Container.Indexed.Core.html#994" class="Bound">r</a> <a id="996" href="Data.Container.Indexed.Core.html#996" class="Bound">ℓ</a><a id="997" class="Symbol">}</a> <a id="999" class="Symbol">{</a><a id="1000" href="Data.Container.Indexed.Core.html#1000" class="Bound">I</a> <a id="1002" class="Symbol">:</a> <a id="1004" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1008" href="Data.Container.Indexed.Core.html#988" class="Bound">i</a><a id="1009" class="Symbol">}</a> <a id="1011" class="Symbol">{</a><a id="1012" href="Data.Container.Indexed.Core.html#1012" class="Bound">O</a> <a id="1014" class="Symbol">:</a> <a id="1016" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1020" href="Data.Container.Indexed.Core.html#990" class="Bound">o</a><a id="1021" class="Symbol">}</a>
         <a id="1032" class="Symbol">(</a><a id="1033" href="Data.Container.Indexed.Core.html#1033" class="Bound">C</a> <a id="1035" class="Symbol">:</a> <a id="1037" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="1047" href="Data.Container.Indexed.Core.html#1000" class="Bound">I</a> <a id="1049" href="Data.Container.Indexed.Core.html#1012" class="Bound">O</a> <a id="1051" href="Data.Container.Indexed.Core.html#992" class="Bound">c</a> <a id="1053" href="Data.Container.Indexed.Core.html#994" class="Bound">r</a><a id="1054" class="Symbol">)</a> <a id="1056" class="Symbol">{</a><a id="1057" href="Data.Container.Indexed.Core.html#1057" class="Bound">X</a> <a id="1059" class="Symbol">:</a> <a id="1061" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="1066" href="Data.Container.Indexed.Core.html#1000" class="Bound">I</a> <a id="1068" href="Data.Container.Indexed.Core.html#996" class="Bound">ℓ</a><a id="1069" class="Symbol">}</a> <a id="1071" class="Keyword">where</a>

  <a id="1080" class="Comment">-- All.</a>

  <a id="1091" href="Data.Container.Indexed.Core.html#1091" class="Function">□</a> <a id="1093" class="Symbol">:</a> <a id="1095" class="Symbol">∀</a> <a id="1097" class="Symbol">{</a><a id="1098" href="Data.Container.Indexed.Core.html#1098" class="Bound">ℓ′</a><a id="1100" class="Symbol">}</a> <a id="1102" class="Symbol">→</a> <a id="1104" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="1109" class="Symbol">(</a><a id="1110" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="1112" href="Data.Container.Indexed.Core.html#1000" class="Bound">I</a> <a id="1114" href="Data.Container.Indexed.Core.html#1057" class="Bound">X</a><a id="1115" class="Symbol">)</a> <a id="1117" href="Data.Container.Indexed.Core.html#1098" class="Bound">ℓ′</a> <a id="1120" class="Symbol">→</a> <a id="1122" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="1127" class="Symbol">(</a><a id="1128" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="1130" href="Data.Container.Indexed.Core.html#1012" class="Bound">O</a> <a id="1132" class="Symbol">(</a><a id="1133" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟦</a> <a id="1135" href="Data.Container.Indexed.Core.html#1033" class="Bound">C</a> <a id="1137" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟧</a> <a id="1139" href="Data.Container.Indexed.Core.html#1057" class="Bound">X</a><a id="1140" class="Symbol">))</a> <a id="1143" class="Symbol">_</a>
  <a id="1147" href="Data.Container.Indexed.Core.html#1091" class="Function">□</a> <a id="1149" href="Data.Container.Indexed.Core.html#1149" class="Bound">P</a> <a id="1151" class="Symbol">(_</a> <a id="1154" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1156" class="Symbol">_</a> <a id="1158" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1160" href="Data.Container.Indexed.Core.html#1160" class="Bound">k</a><a id="1161" class="Symbol">)</a> <a id="1163" class="Symbol">=</a> <a id="1165" class="Symbol">∀</a> <a id="1167" href="Data.Container.Indexed.Core.html#1167" class="Bound">r</a> <a id="1169" class="Symbol">→</a> <a id="1171" href="Data.Container.Indexed.Core.html#1149" class="Bound">P</a> <a id="1173" class="Symbol">(_</a> <a id="1176" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1178" href="Data.Container.Indexed.Core.html#1160" class="Bound">k</a> <a id="1180" href="Data.Container.Indexed.Core.html#1167" class="Bound">r</a><a id="1181" class="Symbol">)</a>

  <a id="1186" class="Comment">-- Any.</a>

  <a id="1197" href="Data.Container.Indexed.Core.html#1197" class="Function">◇</a> <a id="1199" class="Symbol">:</a> <a id="1201" class="Symbol">∀</a> <a id="1203" class="Symbol">{</a><a id="1204" href="Data.Container.Indexed.Core.html#1204" class="Bound">ℓ′</a><a id="1206" class="Symbol">}</a> <a id="1208" class="Symbol">→</a> <a id="1210" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="1215" class="Symbol">(</a><a id="1216" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="1218" href="Data.Container.Indexed.Core.html#1000" class="Bound">I</a> <a id="1220" href="Data.Container.Indexed.Core.html#1057" class="Bound">X</a><a id="1221" class="Symbol">)</a> <a id="1223" href="Data.Container.Indexed.Core.html#1204" class="Bound">ℓ′</a> <a id="1226" class="Symbol">→</a> <a id="1228" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="1233" class="Symbol">(</a><a id="1234" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="1236" href="Data.Container.Indexed.Core.html#1012" class="Bound">O</a> <a id="1238" class="Symbol">(</a><a id="1239" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟦</a> <a id="1241" href="Data.Container.Indexed.Core.html#1033" class="Bound">C</a> <a id="1243" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟧</a> <a id="1245" href="Data.Container.Indexed.Core.html#1057" class="Bound">X</a><a id="1246" class="Symbol">))</a> <a id="1249" class="Symbol">_</a>
  <a id="1253" href="Data.Container.Indexed.Core.html#1197" class="Function">◇</a> <a id="1255" href="Data.Container.Indexed.Core.html#1255" class="Bound">P</a> <a id="1257" class="Symbol">(_</a> <a id="1260" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1262" class="Symbol">_</a> <a id="1264" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1266" href="Data.Container.Indexed.Core.html#1266" class="Bound">k</a><a id="1267" class="Symbol">)</a> <a id="1269" class="Symbol">=</a> <a id="1271" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="1273" class="Symbol">λ</a> <a id="1275" href="Data.Container.Indexed.Core.html#1275" class="Bound">r</a> <a id="1277" class="Symbol">→</a> <a id="1279" href="Data.Container.Indexed.Core.html#1255" class="Bound">P</a> <a id="1281" class="Symbol">(_</a> <a id="1284" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1286" href="Data.Container.Indexed.Core.html#1266" class="Bound">k</a> <a id="1288" href="Data.Container.Indexed.Core.html#1275" class="Bound">r</a><a id="1289" class="Symbol">)</a>
</pre></body></html>