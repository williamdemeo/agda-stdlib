<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Tree.AVL.NonEmpty</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Non-empty AVL trees</a>
<a id="129" class="Comment">------------------------------------------------------------------------</a>

<a id="203" class="Comment">-- AVL trees are balanced binary search trees.</a>

<a id="251" class="Comment">-- The search tree invariant is specified using the technique</a>
<a id="313" class="Comment">-- described by Conor McBride in his talk &quot;Pivotal pragmatism&quot;.</a>

<a id="378" class="Symbol">{-#</a> <a id="382" class="Keyword">OPTIONS</a> <a id="390" class="Pragma">--cubical-compatible</a> <a id="411" class="Pragma">--safe</a> <a id="418" class="Symbol">#-}</a>

<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Relation.Binary.Bundles.html" class="Module">Relation.Binary.Bundles</a> <a id="459" class="Keyword">using</a> <a id="465" class="Symbol">(</a><a id="466" href="Relation.Binary.Bundles.html#8031" class="Record">StrictTotalOrder</a><a id="482" class="Symbol">)</a>

<a id="485" class="Keyword">module</a> <a id="492" href="Data.Tree.AVL.NonEmpty.html" class="Module">Data.Tree.AVL.NonEmpty</a>
  <a id="517" class="Symbol">{</a><a id="518" href="Data.Tree.AVL.NonEmpty.html#518" class="Bound">a</a> <a id="520" href="Data.Tree.AVL.NonEmpty.html#520" class="Bound">ℓ₁</a> <a id="523" href="Data.Tree.AVL.NonEmpty.html#523" class="Bound">ℓ₂</a><a id="525" class="Symbol">}</a> <a id="527" class="Symbol">(</a><a id="528" href="Data.Tree.AVL.NonEmpty.html#528" class="Bound">strictTotalOrder</a> <a id="545" class="Symbol">:</a> <a id="547" href="Relation.Binary.Bundles.html#8031" class="Record">StrictTotalOrder</a> <a id="564" href="Data.Tree.AVL.NonEmpty.html#518" class="Bound">a</a> <a id="566" href="Data.Tree.AVL.NonEmpty.html#520" class="Bound">ℓ₁</a> <a id="569" href="Data.Tree.AVL.NonEmpty.html#523" class="Bound">ℓ₂</a><a id="571" class="Symbol">)</a> <a id="573" class="Keyword">where</a>

<a id="580" class="Keyword">open</a> <a id="585" class="Keyword">import</a> <a id="592" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="607" class="Keyword">using</a> <a id="613" class="Symbol">(</a><a id="614" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="618" class="Symbol">)</a>
<a id="620" class="Keyword">open</a> <a id="625" class="Keyword">import</a> <a id="632" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="643" class="Keyword">open</a> <a id="648" class="Keyword">import</a> <a id="655" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="674" class="Symbol">as</a> <a id="677" class="Module">List⁺</a> <a id="683" class="Keyword">using</a> <a id="689" class="Symbol">(</a><a id="690" href="Data.List.NonEmpty.Base.html#1229" class="Record">List⁺</a><a id="695" class="Symbol">;</a> <a id="697" href="Data.List.NonEmpty.Base.html#1275" class="InductiveConstructor Operator">_∷_</a><a id="700" class="Symbol">;</a> <a id="702" href="Data.List.NonEmpty.Base.html#3511" class="Function Operator">_++⁺_</a><a id="707" class="Symbol">)</a>
<a id="709" class="Keyword">open</a> <a id="714" class="Keyword">import</a> <a id="721" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="737" class="Keyword">hiding</a> <a id="744" class="Symbol">(</a><a id="745" href="Data.Maybe.Base.html#2049" class="Function">map</a><a id="748" class="Symbol">)</a>
<a id="750" class="Keyword">open</a> <a id="755" class="Keyword">import</a> <a id="762" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="776" class="Keyword">hiding</a> <a id="783" class="Symbol">(</a><a id="784" href="Data.Nat.Base.html#1801" class="Function Operator">_&lt;_</a><a id="787" class="Symbol">;</a> <a id="789" href="Data.Nat.Base.html#5479" class="Function Operator">_⊔_</a><a id="792" class="Symbol">;</a> <a id="794" href="Data.Nat.Base.html#9352" class="Function">compare</a><a id="801" class="Symbol">)</a>
<a id="803" class="Keyword">open</a> <a id="808" class="Keyword">import</a> <a id="815" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="833" class="Keyword">hiding</a> <a id="840" class="Symbol">(</a><a id="841" href="Data.Product.Base.html#2173" class="Function">map</a><a id="844" class="Symbol">)</a>
<a id="846" class="Keyword">open</a> <a id="851" class="Keyword">import</a> <a id="858" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="868" class="Keyword">open</a> <a id="873" class="Keyword">import</a> <a id="880" href="Function.Base.html" class="Module">Function.Base</a> <a id="894" class="Keyword">using</a> <a id="900" class="Symbol">(</a><a id="901" href="Function.Base.html#1974" class="Function Operator">_$_</a><a id="904" class="Symbol">;</a> <a id="906" href="Function.Base.html#3626" class="Function Operator">_∘′_</a><a id="910" class="Symbol">)</a>
<a id="912" class="Keyword">open</a> <a id="917" class="Keyword">import</a> <a id="924" href="Level.html" class="Module">Level</a> <a id="930" class="Keyword">using</a> <a id="936" class="Symbol">(</a><a id="937" href="Agda.Primitive.html#961" class="Primitive Operator">_⊔_</a><a id="940" class="Symbol">;</a> <a id="942" href="Level.html#409" class="Record">Lift</a><a id="946" class="Symbol">;</a> <a id="948" href="Level.html#466" class="InductiveConstructor">lift</a><a id="952" class="Symbol">)</a>
<a id="954" class="Keyword">open</a> <a id="959" class="Keyword">import</a> <a id="966" href="Relation.Unary.html" class="Module">Relation.Unary</a>

<a id="982" class="Keyword">open</a> <a id="987" href="Relation.Binary.Bundles.html#8031" class="Module">StrictTotalOrder</a> <a id="1004" href="Data.Tree.AVL.NonEmpty.html#528" class="Bound">strictTotalOrder</a> <a id="1021" class="Keyword">renaming</a> <a id="1030" class="Symbol">(</a><a id="1031" href="Relation.Binary.Bundles.html#8118" class="Field">Carrier</a> <a id="1039" class="Symbol">to</a> <a id="1042" class="Field">Key</a><a id="1045" class="Symbol">)</a>
<a id="1047" class="Keyword">open</a> <a id="1052" class="Keyword">import</a> <a id="1059" href="Data.Tree.AVL.Value.html" class="Module">Data.Tree.AVL.Value</a> <a id="1079" href="Relation.Binary.Bundles.html#1803" class="Function">Eq.setoid</a>
<a id="1089" class="Keyword">import</a> <a id="1096" href="Data.Tree.AVL.Indexed.html" class="Module">Data.Tree.AVL.Indexed</a> <a id="1118" href="Data.Tree.AVL.NonEmpty.html#528" class="Bound">strictTotalOrder</a> as <a id="Indexed"></a><a id="1138" href="Data.Tree.AVL.NonEmpty.html#1138" class="Module">Indexed</a>
<a id="1146" class="Keyword">open</a> <a id="1151" href="Data.Tree.AVL.NonEmpty.html#1138" class="Module">Indexed</a> <a id="1159" class="Keyword">using</a> <a id="1165" class="Symbol">(</a><a id="1166" href="Data.Tree.AVL.Key.html#1369" class="InductiveConstructor">⊥⁺</a><a id="1168" class="Symbol">;</a> <a id="1170" href="Data.Tree.AVL.Key.html#1382" class="InductiveConstructor">⊤⁺</a><a id="1172" class="Symbol">;</a> <a id="1174" href="Data.Tree.AVL.Key.html#1847" class="InductiveConstructor">⊥⁺&lt;⊤⁺</a><a id="1179" class="Symbol">;</a> <a id="1181" href="Data.Tree.AVL.Key.html#2044" class="Function Operator">⊥⁺&lt;[_]&lt;⊤⁺</a><a id="1190" class="Symbol">;</a> <a id="1192" href="Data.Tree.AVL.Key.html#1888" class="InductiveConstructor Operator">⊥⁺&lt;[_]</a><a id="1198" class="Symbol">;</a> <a id="1200" href="Data.Tree.AVL.Key.html#1867" class="InductiveConstructor Operator">[_]&lt;⊤⁺</a><a id="1206" class="Symbol">;</a> <a id="1208" href="Data.Tree.AVL.Indexed.html#1727" class="InductiveConstructor">node</a><a id="1212" class="Symbol">;</a> <a id="1214" href="Data.Tree.AVL.Indexed.html#10905" class="Function">toList</a><a id="1220" class="Symbol">)</a>

<a id="1223" class="Comment">------------------------------------------------------------------------</a>
<a id="1296" class="Comment">-- Types and functions with hidden indices</a>

<a id="1340" class="Comment">-- NB: the height is non-zero thus guaranteeing that the AVL tree</a>
<a id="1406" class="Comment">-- contains at least one value.</a>

<a id="1439" class="Keyword">data</a> <a id="Tree⁺"></a><a id="1444" href="Data.Tree.AVL.NonEmpty.html#1444" class="Datatype">Tree⁺</a> <a id="1450" class="Symbol">{</a><a id="1451" href="Data.Tree.AVL.NonEmpty.html#1451" class="Bound">v</a><a id="1452" class="Symbol">}</a> <a id="1454" class="Symbol">(</a><a id="1455" href="Data.Tree.AVL.NonEmpty.html#1455" class="Bound">V</a> <a id="1457" class="Symbol">:</a> <a id="1459" href="Data.Tree.AVL.Value.html#714" class="Record">Value</a> <a id="1465" href="Data.Tree.AVL.NonEmpty.html#1451" class="Bound">v</a><a id="1466" class="Symbol">)</a> <a id="1468" class="Symbol">:</a> <a id="1470" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1474" class="Symbol">(</a><a id="1475" href="Data.Tree.AVL.NonEmpty.html#518" class="Bound">a</a> <a id="1477" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="1479" href="Data.Tree.AVL.NonEmpty.html#1451" class="Bound">v</a> <a id="1481" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="1483" href="Data.Tree.AVL.NonEmpty.html#523" class="Bound">ℓ₂</a><a id="1485" class="Symbol">)</a> <a id="1487" class="Keyword">where</a>
  <a id="Tree⁺.tree"></a><a id="1495" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="1500" class="Symbol">:</a> <a id="1502" class="Symbol">∀</a> <a id="1504" class="Symbol">{</a><a id="1505" href="Data.Tree.AVL.NonEmpty.html#1505" class="Bound">h</a><a id="1506" class="Symbol">}</a> <a id="1508" class="Symbol">→</a> <a id="1510" href="Data.Tree.AVL.Indexed.html#1621" class="Datatype">Indexed.Tree</a> <a id="1523" href="Data.Tree.AVL.NonEmpty.html#1455" class="Bound">V</a> <a id="1525" href="Data.Tree.AVL.Key.html#1369" class="InductiveConstructor">⊥⁺</a> <a id="1528" href="Data.Tree.AVL.Key.html#1382" class="InductiveConstructor">⊤⁺</a> <a id="1531" class="Symbol">(</a><a id="1532" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1536" href="Data.Tree.AVL.NonEmpty.html#1505" class="Bound">h</a><a id="1537" class="Symbol">)</a> <a id="1539" class="Symbol">→</a> <a id="1541" href="Data.Tree.AVL.NonEmpty.html#1444" class="Datatype">Tree⁺</a> <a id="1547" href="Data.Tree.AVL.NonEmpty.html#1455" class="Bound">V</a>

<a id="1550" class="Keyword">module</a> <a id="1557" href="Data.Tree.AVL.NonEmpty.html#1557" class="Module">_</a> <a id="1559" class="Symbol">{</a><a id="1560" href="Data.Tree.AVL.NonEmpty.html#1560" class="Bound">v</a><a id="1561" class="Symbol">}</a> <a id="1563" class="Symbol">{</a><a id="1564" href="Data.Tree.AVL.NonEmpty.html#1564" class="Bound">V</a> <a id="1566" class="Symbol">:</a> <a id="1568" href="Data.Tree.AVL.Value.html#714" class="Record">Value</a> <a id="1574" href="Data.Tree.AVL.NonEmpty.html#1560" class="Bound">v</a><a id="1575" class="Symbol">}</a> <a id="1577" class="Keyword">where</a>

  <a id="1586" class="Keyword">private</a>
    <a id="1598" href="Data.Tree.AVL.NonEmpty.html#1598" class="Function">Val</a> <a id="1602" class="Symbol">=</a> <a id="1604" href="Data.Tree.AVL.Value.html#784" class="Field">Value.family</a> <a id="1617" href="Data.Tree.AVL.NonEmpty.html#1564" class="Bound">V</a>

  <a id="1622" href="Data.Tree.AVL.NonEmpty.html#1622" class="Function">singleton</a> <a id="1632" class="Symbol">:</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Data.Tree.AVL.NonEmpty.html#1635" class="Bound">k</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="Data.Tree.AVL.NonEmpty.html#1042" class="Field">Key</a><a id="1642" class="Symbol">)</a> <a id="1644" class="Symbol">→</a> <a id="1646" href="Data.Tree.AVL.NonEmpty.html#1598" class="Function">Val</a> <a id="1650" href="Data.Tree.AVL.NonEmpty.html#1635" class="Bound">k</a> <a id="1652" class="Symbol">→</a> <a id="1654" href="Data.Tree.AVL.NonEmpty.html#1444" class="Datatype">Tree⁺</a> <a id="1660" href="Data.Tree.AVL.NonEmpty.html#1564" class="Bound">V</a>
  <a id="1664" href="Data.Tree.AVL.NonEmpty.html#1622" class="Function">singleton</a> <a id="1674" href="Data.Tree.AVL.NonEmpty.html#1674" class="Bound">k</a> <a id="1676" href="Data.Tree.AVL.NonEmpty.html#1676" class="Bound">v</a> <a id="1678" class="Symbol">=</a> <a id="1680" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="1685" class="Symbol">(</a><a id="1686" href="Data.Tree.AVL.Indexed.html#8213" class="Function">Indexed.singleton</a> <a id="1704" href="Data.Tree.AVL.NonEmpty.html#1674" class="Bound">k</a> <a id="1706" href="Data.Tree.AVL.NonEmpty.html#1676" class="Bound">v</a> <a id="1708" href="Data.Tree.AVL.Key.html#2044" class="Function Operator">⊥⁺&lt;[</a> <a id="1713" href="Data.Tree.AVL.NonEmpty.html#1674" class="Bound">k</a> <a id="1715" href="Data.Tree.AVL.Key.html#2044" class="Function Operator">]&lt;⊤⁺</a><a id="1719" class="Symbol">)</a>

  <a id="1724" href="Data.Tree.AVL.NonEmpty.html#1724" class="Function">insert</a> <a id="1731" class="Symbol">:</a> <a id="1733" class="Symbol">(</a><a id="1734" href="Data.Tree.AVL.NonEmpty.html#1734" class="Bound">k</a> <a id="1736" class="Symbol">:</a> <a id="1738" href="Data.Tree.AVL.NonEmpty.html#1042" class="Field">Key</a><a id="1741" class="Symbol">)</a> <a id="1743" class="Symbol">→</a> <a id="1745" href="Data.Tree.AVL.NonEmpty.html#1598" class="Function">Val</a> <a id="1749" href="Data.Tree.AVL.NonEmpty.html#1734" class="Bound">k</a> <a id="1751" class="Symbol">→</a> <a id="1753" href="Data.Tree.AVL.NonEmpty.html#1444" class="Datatype">Tree⁺</a> <a id="1759" href="Data.Tree.AVL.NonEmpty.html#1564" class="Bound">V</a> <a id="1761" class="Symbol">→</a> <a id="1763" href="Data.Tree.AVL.NonEmpty.html#1444" class="Datatype">Tree⁺</a> <a id="1769" href="Data.Tree.AVL.NonEmpty.html#1564" class="Bound">V</a>
  <a id="1773" href="Data.Tree.AVL.NonEmpty.html#1724" class="Function">insert</a> <a id="1780" href="Data.Tree.AVL.NonEmpty.html#1780" class="Bound">k</a> <a id="1782" href="Data.Tree.AVL.NonEmpty.html#1782" class="Bound">v</a> <a id="1784" class="Symbol">(</a><a id="1785" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="1790" href="Data.Tree.AVL.NonEmpty.html#1790" class="Bound">t</a><a id="1791" class="Symbol">)</a> <a id="1793" class="Keyword">with</a> <a id="1798" href="Data.Tree.AVL.Indexed.html#9331" class="Function">Indexed.insert</a> <a id="1813" href="Data.Tree.AVL.NonEmpty.html#1780" class="Bound">k</a> <a id="1815" href="Data.Tree.AVL.NonEmpty.html#1782" class="Bound">v</a> <a id="1817" href="Data.Tree.AVL.NonEmpty.html#1790" class="Bound">t</a> <a id="1819" href="Data.Tree.AVL.Key.html#2044" class="Function Operator">⊥⁺&lt;[</a> <a id="1824" href="Data.Tree.AVL.NonEmpty.html#1780" class="Bound">k</a> <a id="1826" href="Data.Tree.AVL.Key.html#2044" class="Function Operator">]&lt;⊤⁺</a>
  <a id="1833" class="Symbol">...</a> <a id="1837" class="Symbol">|</a> <a id="1839" href="Data.Tree.AVL.Height.html#444" class="InductiveConstructor">Indexed.0#</a> <a id="1850" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1852" href="Data.Tree.AVL.NonEmpty.html#1852" class="Bound">t′</a> <a id="1855" class="Symbol">=</a> <a id="1857" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="1862" href="Data.Tree.AVL.NonEmpty.html#1852" class="Bound">t′</a>
  <a id="1867" class="Symbol">...</a> <a id="1871" class="Symbol">|</a> <a id="1873" href="Data.Tree.AVL.Height.html#462" class="InductiveConstructor">Indexed.1#</a> <a id="1884" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1886" href="Data.Tree.AVL.NonEmpty.html#1886" class="Bound">t′</a> <a id="1889" class="Symbol">=</a> <a id="1891" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="1896" href="Data.Tree.AVL.NonEmpty.html#1886" class="Bound">t′</a>

  <a id="1902" href="Data.Tree.AVL.NonEmpty.html#1902" class="Function">insertWith</a> <a id="1913" class="Symbol">:</a> <a id="1915" class="Symbol">(</a><a id="1916" href="Data.Tree.AVL.NonEmpty.html#1916" class="Bound">k</a> <a id="1918" class="Symbol">:</a> <a id="1920" href="Data.Tree.AVL.NonEmpty.html#1042" class="Field">Key</a><a id="1923" class="Symbol">)</a> <a id="1925" class="Symbol">→</a> <a id="1927" class="Symbol">(</a><a id="1928" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1934" class="Symbol">(</a><a id="1935" href="Data.Tree.AVL.NonEmpty.html#1598" class="Function">Val</a> <a id="1939" href="Data.Tree.AVL.NonEmpty.html#1916" class="Bound">k</a><a id="1940" class="Symbol">)</a> <a id="1942" class="Symbol">→</a> <a id="1944" href="Data.Tree.AVL.NonEmpty.html#1598" class="Function">Val</a> <a id="1948" href="Data.Tree.AVL.NonEmpty.html#1916" class="Bound">k</a><a id="1949" class="Symbol">)</a> <a id="1951" class="Symbol">→</a> <a id="1953" href="Data.Tree.AVL.NonEmpty.html#1444" class="Datatype">Tree⁺</a> <a id="1959" href="Data.Tree.AVL.NonEmpty.html#1564" class="Bound">V</a> <a id="1961" class="Symbol">→</a> <a id="1963" href="Data.Tree.AVL.NonEmpty.html#1444" class="Datatype">Tree⁺</a> <a id="1969" href="Data.Tree.AVL.NonEmpty.html#1564" class="Bound">V</a>
  <a id="1973" href="Data.Tree.AVL.NonEmpty.html#1902" class="Function">insertWith</a> <a id="1984" href="Data.Tree.AVL.NonEmpty.html#1984" class="Bound">k</a> <a id="1986" href="Data.Tree.AVL.NonEmpty.html#1986" class="Bound">f</a> <a id="1988" class="Symbol">(</a><a id="1989" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="1994" href="Data.Tree.AVL.NonEmpty.html#1994" class="Bound">t</a><a id="1995" class="Symbol">)</a> <a id="1997" class="Keyword">with</a> <a id="2002" href="Data.Tree.AVL.Indexed.html#8579" class="Function">Indexed.insertWith</a> <a id="2021" href="Data.Tree.AVL.NonEmpty.html#1984" class="Bound">k</a> <a id="2023" href="Data.Tree.AVL.NonEmpty.html#1986" class="Bound">f</a> <a id="2025" href="Data.Tree.AVL.NonEmpty.html#1994" class="Bound">t</a> <a id="2027" href="Data.Tree.AVL.Key.html#2044" class="Function Operator">⊥⁺&lt;[</a> <a id="2032" href="Data.Tree.AVL.NonEmpty.html#1984" class="Bound">k</a> <a id="2034" href="Data.Tree.AVL.Key.html#2044" class="Function Operator">]&lt;⊤⁺</a>
  <a id="2041" class="Symbol">...</a> <a id="2045" class="Symbol">|</a> <a id="2047" href="Data.Tree.AVL.Height.html#444" class="InductiveConstructor">Indexed.0#</a> <a id="2058" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2060" href="Data.Tree.AVL.NonEmpty.html#2060" class="Bound">t′</a> <a id="2063" class="Symbol">=</a> <a id="2065" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="2070" href="Data.Tree.AVL.NonEmpty.html#2060" class="Bound">t′</a>
  <a id="2075" class="Symbol">...</a> <a id="2079" class="Symbol">|</a> <a id="2081" href="Data.Tree.AVL.Height.html#462" class="InductiveConstructor">Indexed.1#</a> <a id="2092" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2094" href="Data.Tree.AVL.NonEmpty.html#2094" class="Bound">t′</a> <a id="2097" class="Symbol">=</a> <a id="2099" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="2104" href="Data.Tree.AVL.NonEmpty.html#2094" class="Bound">t′</a>

  <a id="2110" href="Data.Tree.AVL.NonEmpty.html#2110" class="Function">delete</a> <a id="2117" class="Symbol">:</a> <a id="2119" href="Data.Tree.AVL.NonEmpty.html#1042" class="Field">Key</a> <a id="2123" class="Symbol">→</a> <a id="2125" href="Data.Tree.AVL.NonEmpty.html#1444" class="Datatype">Tree⁺</a> <a id="2131" href="Data.Tree.AVL.NonEmpty.html#1564" class="Bound">V</a> <a id="2133" class="Symbol">→</a> <a id="2135" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2141" class="Symbol">(</a><a id="2142" href="Data.Tree.AVL.NonEmpty.html#1444" class="Datatype">Tree⁺</a> <a id="2148" href="Data.Tree.AVL.NonEmpty.html#1564" class="Bound">V</a><a id="2149" class="Symbol">)</a>
  <a id="2153" href="Data.Tree.AVL.NonEmpty.html#2110" class="Function">delete</a> <a id="2160" href="Data.Tree.AVL.NonEmpty.html#2160" class="Bound">k</a> <a id="2162" class="Symbol">(</a><a id="2163" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="2168" class="Symbol">{</a><a id="2169" href="Data.Tree.AVL.NonEmpty.html#2169" class="Bound">h</a><a id="2170" class="Symbol">}</a>     <a id="2176" href="Data.Tree.AVL.NonEmpty.html#2176" class="Bound">t</a><a id="2177" class="Symbol">)</a> <a id="2179" class="Keyword">with</a> <a id="2184" href="Data.Tree.AVL.Indexed.html#9631" class="Function">Indexed.delete</a> <a id="2199" href="Data.Tree.AVL.NonEmpty.html#2160" class="Bound">k</a> <a id="2201" href="Data.Tree.AVL.NonEmpty.html#2176" class="Bound">t</a> <a id="2203" href="Data.Tree.AVL.Key.html#2044" class="Function Operator">⊥⁺&lt;[</a> <a id="2208" href="Data.Tree.AVL.NonEmpty.html#2160" class="Bound">k</a> <a id="2210" href="Data.Tree.AVL.Key.html#2044" class="Function Operator">]&lt;⊤⁺</a>
  <a id="2217" href="Data.Tree.AVL.NonEmpty.html#2110" class="Function">delete</a> <a id="2224" href="Data.Tree.AVL.NonEmpty.html#2224" class="Bound">k</a> <a id="2226" class="Symbol">(</a><a id="2227" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="2232" class="Symbol">{</a><a id="2233" href="Data.Tree.AVL.NonEmpty.html#2233" class="Bound">h</a><a id="2234" class="Symbol">}</a>     <a id="2240" href="Data.Tree.AVL.NonEmpty.html#2240" class="Bound">t</a><a id="2241" class="Symbol">)</a> <a id="2243" class="Symbol">|</a> <a id="2245" href="Data.Tree.AVL.Height.html#462" class="InductiveConstructor">Indexed.1#</a> <a id="2256" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2258" href="Data.Tree.AVL.NonEmpty.html#2258" class="Bound">t′</a> <a id="2261" class="Symbol">=</a> <a id="2263" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2268" class="Symbol">(</a><a id="2269" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="2274" href="Data.Tree.AVL.NonEmpty.html#2258" class="Bound">t′</a><a id="2276" class="Symbol">)</a>
  <a id="2280" href="Data.Tree.AVL.NonEmpty.html#2110" class="Function">delete</a> <a id="2287" href="Data.Tree.AVL.NonEmpty.html#2287" class="Bound">k</a> <a id="2289" class="Symbol">(</a><a id="2290" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="2295" class="Symbol">{</a><a id="2296" class="Number">0</a><a id="2297" class="Symbol">}</a>     <a id="2303" href="Data.Tree.AVL.NonEmpty.html#2303" class="Bound">t</a><a id="2304" class="Symbol">)</a> <a id="2306" class="Symbol">|</a> <a id="2308" href="Data.Tree.AVL.Height.html#444" class="InductiveConstructor">Indexed.0#</a> <a id="2319" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2321" href="Data.Tree.AVL.NonEmpty.html#2321" class="Bound">t′</a> <a id="2324" class="Symbol">=</a> <a id="2326" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="2336" href="Data.Tree.AVL.NonEmpty.html#2110" class="Function">delete</a> <a id="2343" href="Data.Tree.AVL.NonEmpty.html#2343" class="Bound">k</a> <a id="2345" class="Symbol">(</a><a id="2346" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="2351" class="Symbol">{</a><a id="2352" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2356" href="Data.Tree.AVL.NonEmpty.html#2356" class="Bound">h</a><a id="2357" class="Symbol">}</a> <a id="2359" href="Data.Tree.AVL.NonEmpty.html#2359" class="Bound">t</a><a id="2360" class="Symbol">)</a> <a id="2362" class="Symbol">|</a> <a id="2364" href="Data.Tree.AVL.Height.html#444" class="InductiveConstructor">Indexed.0#</a> <a id="2375" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2377" href="Data.Tree.AVL.NonEmpty.html#2377" class="Bound">t′</a> <a id="2380" class="Symbol">=</a> <a id="2382" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2387" class="Symbol">(</a><a id="2388" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="2393" href="Data.Tree.AVL.NonEmpty.html#2377" class="Bound">t′</a><a id="2395" class="Symbol">)</a>

  <a id="2400" href="Data.Tree.AVL.NonEmpty.html#2400" class="Function">lookup</a> <a id="2407" class="Symbol">:</a> <a id="2409" href="Data.Tree.AVL.NonEmpty.html#1444" class="Datatype">Tree⁺</a> <a id="2415" href="Data.Tree.AVL.NonEmpty.html#1564" class="Bound">V</a> <a id="2417" class="Symbol">→</a> <a id="2419" class="Symbol">(</a><a id="2420" href="Data.Tree.AVL.NonEmpty.html#2420" class="Bound">k</a> <a id="2422" class="Symbol">:</a> <a id="2424" href="Data.Tree.AVL.NonEmpty.html#1042" class="Field">Key</a><a id="2427" class="Symbol">)</a> <a id="2429" class="Symbol">→</a> <a id="2431" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2437" class="Symbol">(</a><a id="2438" href="Data.Tree.AVL.NonEmpty.html#1598" class="Function">Val</a> <a id="2442" href="Data.Tree.AVL.NonEmpty.html#2420" class="Bound">k</a><a id="2443" class="Symbol">)</a>
  <a id="2447" href="Data.Tree.AVL.NonEmpty.html#2400" class="Function">lookup</a> <a id="2454" class="Symbol">(</a><a id="2455" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="2460" href="Data.Tree.AVL.NonEmpty.html#2460" class="Bound">t</a><a id="2461" class="Symbol">)</a> <a id="2463" href="Data.Tree.AVL.NonEmpty.html#2463" class="Bound">k</a> <a id="2465" class="Symbol">=</a> <a id="2467" href="Data.Tree.AVL.Indexed.html#10139" class="Function">Indexed.lookup</a> <a id="2482" href="Data.Tree.AVL.NonEmpty.html#2460" class="Bound">t</a> <a id="2484" href="Data.Tree.AVL.NonEmpty.html#2463" class="Bound">k</a> <a id="2486" href="Data.Tree.AVL.Key.html#2044" class="Function Operator">⊥⁺&lt;[</a> <a id="2491" href="Data.Tree.AVL.NonEmpty.html#2463" class="Bound">k</a> <a id="2493" href="Data.Tree.AVL.Key.html#2044" class="Function Operator">]&lt;⊤⁺</a>

<a id="2499" class="Keyword">module</a> <a id="2506" href="Data.Tree.AVL.NonEmpty.html#2506" class="Module">_</a> <a id="2508" class="Symbol">{</a><a id="2509" href="Data.Tree.AVL.NonEmpty.html#2509" class="Bound">v</a> <a id="2511" href="Data.Tree.AVL.NonEmpty.html#2511" class="Bound">w</a><a id="2512" class="Symbol">}</a> <a id="2514" class="Symbol">{</a><a id="2515" href="Data.Tree.AVL.NonEmpty.html#2515" class="Bound">V</a> <a id="2517" class="Symbol">:</a> <a id="2519" href="Data.Tree.AVL.Value.html#714" class="Record">Value</a> <a id="2525" href="Data.Tree.AVL.NonEmpty.html#2509" class="Bound">v</a><a id="2526" class="Symbol">}</a> <a id="2528" class="Symbol">{</a><a id="2529" href="Data.Tree.AVL.NonEmpty.html#2529" class="Bound">W</a> <a id="2531" class="Symbol">:</a> <a id="2533" href="Data.Tree.AVL.Value.html#714" class="Record">Value</a> <a id="2539" href="Data.Tree.AVL.NonEmpty.html#2511" class="Bound">w</a><a id="2540" class="Symbol">}</a> <a id="2542" class="Keyword">where</a>

  <a id="2551" class="Keyword">private</a>
    <a id="2563" href="Data.Tree.AVL.NonEmpty.html#2563" class="Function">Val</a> <a id="2567" class="Symbol">=</a> <a id="2569" href="Data.Tree.AVL.Value.html#784" class="Field">Value.family</a> <a id="2582" href="Data.Tree.AVL.NonEmpty.html#2515" class="Bound">V</a>
    <a id="2588" href="Data.Tree.AVL.NonEmpty.html#2588" class="Function">Wal</a> <a id="2592" class="Symbol">=</a> <a id="2594" href="Data.Tree.AVL.Value.html#784" class="Field">Value.family</a> <a id="2607" href="Data.Tree.AVL.NonEmpty.html#2529" class="Bound">W</a>

  <a id="2612" href="Data.Tree.AVL.NonEmpty.html#2612" class="Function">map</a> <a id="2616" class="Symbol">:</a> <a id="2618" href="Relation.Unary.html#3629" class="Function">∀[</a> <a id="2621" href="Data.Tree.AVL.NonEmpty.html#2563" class="Function">Val</a> <a id="2625" href="Relation.Unary.html#4621" class="Function Operator">⇒</a> <a id="2627" href="Data.Tree.AVL.NonEmpty.html#2588" class="Function">Wal</a> <a id="2631" href="Relation.Unary.html#3629" class="Function">]</a> <a id="2633" class="Symbol">→</a> <a id="2635" href="Data.Tree.AVL.NonEmpty.html#1444" class="Datatype">Tree⁺</a> <a id="2641" href="Data.Tree.AVL.NonEmpty.html#2515" class="Bound">V</a> <a id="2643" class="Symbol">→</a> <a id="2645" href="Data.Tree.AVL.NonEmpty.html#1444" class="Datatype">Tree⁺</a> <a id="2651" href="Data.Tree.AVL.NonEmpty.html#2529" class="Bound">W</a>
  <a id="2655" href="Data.Tree.AVL.NonEmpty.html#2612" class="Function">map</a> <a id="2659" href="Data.Tree.AVL.NonEmpty.html#2659" class="Bound">f</a> <a id="2661" class="Symbol">(</a><a id="2662" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="2667" href="Data.Tree.AVL.NonEmpty.html#2667" class="Bound">t</a><a id="2668" class="Symbol">)</a> <a id="2670" class="Symbol">=</a> <a id="2672" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="2677" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2679" href="Data.Tree.AVL.Indexed.html#11222" class="Function">Indexed.map</a> <a id="2691" href="Data.Tree.AVL.NonEmpty.html#2659" class="Bound">f</a> <a id="2693" href="Data.Tree.AVL.NonEmpty.html#2667" class="Bound">t</a>

<a id="2696" class="Keyword">module</a> <a id="2703" href="Data.Tree.AVL.NonEmpty.html#2703" class="Module">_</a> <a id="2705" class="Symbol">{</a><a id="2706" href="Data.Tree.AVL.NonEmpty.html#2706" class="Bound">v</a><a id="2707" class="Symbol">}</a> <a id="2709" class="Symbol">{</a><a id="2710" href="Data.Tree.AVL.NonEmpty.html#2710" class="Bound">V</a> <a id="2712" class="Symbol">:</a> <a id="2714" href="Data.Tree.AVL.Value.html#714" class="Record">Value</a> <a id="2720" href="Data.Tree.AVL.NonEmpty.html#2706" class="Bound">v</a><a id="2721" class="Symbol">}</a> <a id="2723" class="Keyword">where</a>

  <a id="2732" class="Comment">-- The input does not need to be ordered.</a>

  <a id="2777" href="Data.Tree.AVL.NonEmpty.html#2777" class="Function">fromList⁺</a> <a id="2787" class="Symbol">:</a> <a id="2789" href="Data.List.NonEmpty.Base.html#1229" class="Record">List⁺</a> <a id="2795" class="Symbol">(</a><a id="2796" href="Data.Tree.AVL.Value.html#957" class="Record Operator">K&amp;</a> <a id="2799" href="Data.Tree.AVL.NonEmpty.html#2710" class="Bound">V</a><a id="2800" class="Symbol">)</a> <a id="2802" class="Symbol">→</a> <a id="2804" href="Data.Tree.AVL.NonEmpty.html#1444" class="Datatype">Tree⁺</a> <a id="2810" href="Data.Tree.AVL.NonEmpty.html#2710" class="Bound">V</a>
  <a id="2814" href="Data.Tree.AVL.NonEmpty.html#2777" class="Function">fromList⁺</a> <a id="2824" class="Symbol">=</a> <a id="2826" href="Data.List.NonEmpty.Base.html#2768" class="Function">List⁺.foldr</a> <a id="2838" class="Symbol">(</a><a id="2839" href="Data.Product.Base.html#3109" class="Function">uncurry</a> <a id="2847" href="Data.Tree.AVL.NonEmpty.html#1724" class="Function">insert</a> <a id="2854" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="2857" href="Data.Tree.AVL.Value.html#1138" class="Function">toPair</a><a id="2863" class="Symbol">)</a> <a id="2865" class="Symbol">(</a><a id="2866" href="Data.Product.Base.html#3109" class="Function">uncurry</a> <a id="2874" href="Data.Tree.AVL.NonEmpty.html#1622" class="Function">singleton</a> <a id="2884" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="2887" href="Data.Tree.AVL.Value.html#1138" class="Function">toPair</a><a id="2893" class="Symbol">)</a>

  <a id="2898" class="Comment">-- The output is ordered</a>

  <a id="2926" href="Data.Tree.AVL.NonEmpty.html#2926" class="Function">toList⁺</a> <a id="2934" class="Symbol">:</a> <a id="2936" href="Data.Tree.AVL.NonEmpty.html#1444" class="Datatype">Tree⁺</a> <a id="2942" href="Data.Tree.AVL.NonEmpty.html#2710" class="Bound">V</a> <a id="2944" class="Symbol">→</a> <a id="2946" href="Data.List.NonEmpty.Base.html#1229" class="Record">List⁺</a> <a id="2952" class="Symbol">(</a><a id="2953" href="Data.Tree.AVL.Value.html#957" class="Record Operator">K&amp;</a> <a id="2956" href="Data.Tree.AVL.NonEmpty.html#2710" class="Bound">V</a><a id="2957" class="Symbol">)</a>
  <a id="2961" href="Data.Tree.AVL.NonEmpty.html#2926" class="Function">toList⁺</a> <a id="2969" class="Symbol">(</a><a id="2970" href="Data.Tree.AVL.NonEmpty.html#1495" class="InductiveConstructor">tree</a> <a id="2975" class="Symbol">(</a><a id="2976" href="Data.Tree.AVL.Indexed.html#1727" class="InductiveConstructor">node</a> <a id="2981" href="Data.Tree.AVL.NonEmpty.html#2981" class="Bound">k&amp;v</a> <a id="2985" href="Data.Tree.AVL.NonEmpty.html#2985" class="Bound">l</a> <a id="2987" href="Data.Tree.AVL.NonEmpty.html#2987" class="Bound">r</a> <a id="2989" href="Data.Tree.AVL.NonEmpty.html#2989" class="Bound">bal</a><a id="2992" class="Symbol">))</a> <a id="2995" class="Symbol">=</a> <a id="2997" href="Data.Tree.AVL.Indexed.html#10905" class="Function">toList</a> <a id="3004" href="Data.Tree.AVL.NonEmpty.html#2985" class="Bound">l</a> <a id="3006" href="Data.List.NonEmpty.Base.html#3511" class="Function Operator">++⁺</a> <a id="3010" href="Data.Tree.AVL.NonEmpty.html#2981" class="Bound">k&amp;v</a> <a id="3014" href="Data.List.NonEmpty.Base.html#1275" class="InductiveConstructor Operator">∷</a> <a id="3016" href="Data.Tree.AVL.Indexed.html#10905" class="Function">toList</a> <a id="3023" href="Data.Tree.AVL.NonEmpty.html#2987" class="Bound">r</a>
</pre></body></html>