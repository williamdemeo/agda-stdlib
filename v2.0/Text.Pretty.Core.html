<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Text.Pretty.Core</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Pretty Printing</a>
<a id="125" class="Comment">-- This module is based on Jean-Philippe Bernardy&#39;s functional pearl</a>
<a id="194" class="Comment">-- &quot;A Pretty But Not Greedy Printer&quot;</a>
<a id="231" class="Comment">------------------------------------------------------------------------</a>

<a id="305" class="Symbol">{-#</a> <a id="309" class="Keyword">OPTIONS</a> <a id="317" class="Pragma">--with-K</a> <a id="326" class="Symbol">#-}</a>

<a id="331" class="Keyword">module</a> <a id="338" href="Text.Pretty.Core.html" class="Module">Text.Pretty.Core</a> <a id="355" class="Keyword">where</a>

<a id="362" class="Keyword">import</a> <a id="369" href="Level.html" class="Module">Level</a>

<a id="376" class="Keyword">open</a> <a id="381" class="Keyword">import</a> <a id="388" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="403" class="Keyword">using</a> <a id="409" class="Symbol">(</a><a id="410" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="414" class="Symbol">)</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="Data.Irrelevant.html" class="Module">Data.Irrelevant</a> <a id="444" class="Symbol">as</a> <a id="447" class="Module">Irrelevant</a> <a id="458" class="Keyword">using</a> <a id="464" class="Symbol">(</a><a id="465" href="Data.Irrelevant.html#725" class="Record">Irrelevant</a><a id="475" class="Symbol">)</a> <a id="477" class="Keyword">hiding</a> <a id="484" class="Symbol">(</a><a id="485" class="Keyword">module</a> <a id="492" href="Data.Irrelevant.html#725" class="Module">Irrelevant</a><a id="502" class="Symbol">)</a>
<a id="504" class="Keyword">open</a> <a id="509" class="Keyword">import</a> <a id="516" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="531" class="Symbol">as</a> <a id="534" class="Module">List</a>   <a id="541" class="Keyword">using</a> <a id="547" class="Symbol">(</a><a id="548" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="552" class="Symbol">;</a> <a id="554" href="Data.List.Base.html#7793" class="InductiveConstructor">[]</a><a id="556" class="Symbol">;</a> <a id="558" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">_∷_</a><a id="561" class="Symbol">)</a>
<a id="563" class="Keyword">open</a> <a id="568" class="Keyword">import</a> <a id="575" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>            <a id="600" class="Keyword">using</a> <a id="606" class="Symbol">(</a><a id="607" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="608" class="Symbol">;</a> <a id="610" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="614" class="Symbol">;</a> <a id="616" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="619" class="Symbol">;</a> <a id="621" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="624" class="Symbol">;</a> <a id="626" href="Data.Nat.Base.html#5479" class="Function Operator">_⊔_</a><a id="629" class="Symbol">;</a> <a id="631" href="Data.Nat.Base.html#1691" class="Datatype Operator">_≤_</a><a id="634" class="Symbol">;</a> <a id="636" href="Data.Nat.Base.html#1714" class="InductiveConstructor">z≤n</a><a id="639" class="Symbol">)</a>
<a id="641" class="Keyword">open</a> <a id="646" class="Keyword">import</a> <a id="653" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>
<a id="673" class="Keyword">open</a> <a id="678" class="Keyword">import</a> <a id="685" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="703" class="Symbol">as</a> <a id="706" class="Module">Prod</a> <a id="711" class="Keyword">using</a> <a id="717" class="Symbol">(</a><a id="718" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="721" class="Symbol">;</a> <a id="723" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="726" class="Symbol">;</a> <a id="728" href="Data.Product.Base.html#3109" class="Function">uncurry</a><a id="735" class="Symbol">;</a> <a id="737" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="742" class="Symbol">;</a> <a id="744" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="749" class="Symbol">)</a>
<a id="751" class="Keyword">import</a> <a id="758" href="Data.Product.Relation.Unary.All.html" class="Module">Data.Product.Relation.Unary.All</a> <a id="790" class="Symbol">as</a> <a id="793" class="Module">Allᴾ</a>

<a id="799" class="Keyword">open</a> <a id="804" class="Keyword">import</a> <a id="811" href="Data.Tree.Binary.html" class="Module">Data.Tree.Binary</a> <a id="828" class="Symbol">as</a> <a id="831" class="Module">Tree</a> <a id="836" class="Keyword">using</a> <a id="842" class="Symbol">(</a><a id="843" href="Data.Tree.Binary.html#700" class="Datatype">Tree</a><a id="847" class="Symbol">;</a> <a id="849" href="Data.Tree.Binary.html#751" class="InductiveConstructor">leaf</a><a id="853" class="Symbol">;</a> <a id="855" href="Data.Tree.Binary.html#773" class="InductiveConstructor">node</a><a id="859" class="Symbol">;</a> <a id="861" href="Data.Tree.Binary.html#1083" class="Function">#nodes</a><a id="867" class="Symbol">;</a> <a id="869" href="Data.Tree.Binary.html#959" class="Function">mapₙ</a><a id="873" class="Symbol">)</a>
<a id="875" class="Keyword">open</a> <a id="880" class="Keyword">import</a> <a id="887" href="Data.Tree.Binary.Relation.Unary.All.html" class="Module">Data.Tree.Binary.Relation.Unary.All</a> <a id="923" class="Symbol">as</a> <a id="926" class="Module">Allᵀ</a> <a id="931" class="Keyword">using</a> <a id="937" class="Symbol">(</a><a id="938" href="Data.Tree.Binary.Relation.Unary.All.html#739" class="InductiveConstructor">leaf</a><a id="942" class="Symbol">;</a> <a id="944" href="Data.Tree.Binary.Relation.Unary.All.html#779" class="InductiveConstructor">node</a><a id="948" class="Symbol">)</a>
<a id="950" class="Keyword">open</a> <a id="955" class="Keyword">import</a> <a id="962" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="972" class="Keyword">using</a> <a id="978" class="Symbol">(</a><a id="979" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="980" class="Symbol">;</a> <a id="982" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="984" class="Symbol">)</a>
<a id="986" class="Keyword">import</a> <a id="993" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Module">Data.Tree.Binary.Relation.Unary.All.Properties</a> <a id="1040" class="Symbol">as</a> <a id="1043" class="Module">Allᵀₚ</a>
<a id="1049" class="Keyword">import</a> <a id="1056" href="Data.Tree.Binary.Properties.html" class="Module">Data.Tree.Binary.Properties</a> <a id="1084" class="Symbol">as</a> <a id="1087" class="Module">Treeₚ</a>

<a id="1094" class="Keyword">open</a> <a id="1099" class="Keyword">import</a> <a id="1106" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="1122" class="Symbol">as</a> <a id="1125" class="Module">Maybe</a> <a id="1131" class="Keyword">using</a> <a id="1137" class="Symbol">(</a><a id="1138" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="1143" class="Symbol">;</a> <a id="1145" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="1152" class="Symbol">;</a> <a id="1154" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="1158" class="Symbol">;</a> <a id="1160" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a><a id="1166" class="Symbol">)</a>
<a id="1168" class="Keyword">open</a> <a id="1173" class="Keyword">import</a> <a id="1180" href="Data.Maybe.Relation.Unary.All.html" class="Module">Data.Maybe.Relation.Unary.All</a> <a id="1210" class="Symbol">as</a> <a id="1213" class="Module">Allᴹ</a> <a id="1218" class="Keyword">using</a> <a id="1224" class="Symbol">(</a><a id="1225" href="Data.Maybe.Relation.Unary.All.html#1057" class="InductiveConstructor">nothing</a><a id="1232" class="Symbol">;</a> <a id="1234" href="Data.Maybe.Relation.Unary.All.html#1016" class="InductiveConstructor">just</a><a id="1238" class="Symbol">)</a>

<a id="1241" class="Keyword">open</a> <a id="1246" class="Keyword">import</a> <a id="1253" href="Data.String.Base.html" class="Module">Data.String.Base</a> <a id="1270" class="Symbol">as</a> <a id="1273" class="Module">String</a>
  <a id="1282" class="Keyword">using</a> <a id="1288" class="Symbol">(</a><a id="1289" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="1295" class="Symbol">;</a> <a id="1297" href="Data.String.Base.html#2468" class="Function">length</a><a id="1303" class="Symbol">;</a> <a id="1305" href="Data.String.Base.html#2519" class="Function">replicate</a><a id="1314" class="Symbol">;</a> <a id="1316" href="Data.String.Base.html#2404" class="Function Operator">_++_</a><a id="1320" class="Symbol">;</a> <a id="1322" href="Data.String.Base.html#2805" class="Function">unlines</a><a id="1329" class="Symbol">)</a>
<a id="1331" class="Keyword">open</a> <a id="1336" class="Keyword">import</a> <a id="1343" href="Data.String.Unsafe.html" class="Module">Data.String.Unsafe</a> <a id="1362" class="Symbol">as</a> <a id="1365" class="Module">Stringₚ</a>
<a id="1373" class="Keyword">open</a> <a id="1378" class="Keyword">import</a> <a id="1385" href="Function.Base.html" class="Module">Function.Base</a>
<a id="1399" class="Keyword">open</a> <a id="1404" class="Keyword">import</a> <a id="1411" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="1438" class="Keyword">using</a> <a id="1444" class="Symbol">(</a><a id="1445" href="Relation.Nullary.Decidable.Core.html#1485" class="Record">Dec</a><a id="1448" class="Symbol">)</a>
<a id="1450" class="Keyword">open</a> <a id="1455" class="Keyword">import</a> <a id="1462" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1477" class="Keyword">using</a> <a id="1483" class="Symbol">(</a><a id="1484" href="Relation.Unary.html#3629" class="Function">IUniversal</a><a id="1494" class="Symbol">;</a> <a id="1496" href="Relation.Unary.html#4621" class="Function Operator">_⇒_</a><a id="1499" class="Symbol">;</a> <a id="1501" href="Relation.Unary.html#1522" class="Function">U</a><a id="1502" class="Symbol">)</a>
<a id="1504" class="Keyword">open</a> <a id="1509" class="Keyword">import</a> <a id="1516" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="1555" class="Keyword">open</a> <a id="1560" class="Keyword">import</a> <a id="1567" href="Data.Refinement.html" class="Module">Data.Refinement</a> <a id="1583" class="Keyword">hiding</a> <a id="1590" class="Symbol">(</a><a id="1591" href="Data.Refinement.html#1082" class="Function">map</a><a id="1594" class="Symbol">)</a>
<a id="1596" class="Keyword">import</a> <a id="1603" href="Data.Refinement.Relation.Unary.All.html" class="Module">Data.Refinement.Relation.Unary.All</a> <a id="1638" class="Symbol">as</a> <a id="1641" class="Module">Allᴿ</a>

<a id="1647" class="Comment">------------------------------------------------------------------------</a>
<a id="1720" class="Comment">-- Block of text</a>

<a id="1738" class="Comment">-- Content is a representation of the first line and the middle of the</a>
<a id="1809" class="Comment">-- block. We use a tree rather than a list for the middle of the block</a>
<a id="1880" class="Comment">-- so that we can extend it with lines on the left and on the line for</a>
<a id="1951" class="Comment">-- free. We will ultimately render the block by traversing the tree left</a>
<a id="2024" class="Comment">-- to right in a depth-first manner.</a>

<a id="Content"></a><a id="2062" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="2070" class="Symbol">:</a> <a id="2072" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="2076" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="2084" class="Symbol">=</a> <a id="2086" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2092" class="Symbol">(</a><a id="2093" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2100" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2102" href="Data.Tree.Binary.html#700" class="Datatype">Tree</a> <a id="2107" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2114" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="2115" class="Symbol">)</a>

<a id="size"></a><a id="2118" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="2123" class="Symbol">:</a> <a id="2125" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="2133" class="Symbol">→</a> <a id="2135" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="2137" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="2142" class="Symbol">=</a> <a id="2144" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="2151" class="Symbol">(</a><a id="2152" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2156" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2158" href="Data.Tree.Binary.html#1083" class="Function">#nodes</a> <a id="2165" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2167" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="2172" class="Symbol">)</a> <a id="2174" class="Number">0</a>

<a id="All"></a><a id="2177" href="Text.Pretty.Core.html#2177" class="Function">All</a> <a id="2181" class="Symbol">:</a> <a id="2183" class="Symbol">∀</a> <a id="2185" class="Symbol">{</a><a id="2186" href="Text.Pretty.Core.html#2186" class="Bound">p</a><a id="2187" class="Symbol">}</a> <a id="2189" class="Symbol">(</a><a id="2190" href="Text.Pretty.Core.html#2190" class="Bound">P</a> <a id="2192" class="Symbol">:</a> <a id="2194" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2201" class="Symbol">→</a> <a id="2203" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2207" href="Text.Pretty.Core.html#2186" class="Bound">p</a><a id="2208" class="Symbol">)</a> <a id="2210" class="Symbol">→</a> <a id="2212" class="Symbol">(</a><a id="2213" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="2221" class="Symbol">→</a> <a id="2223" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2227" href="Text.Pretty.Core.html#2186" class="Bound">p</a><a id="2228" class="Symbol">)</a>
<a id="2230" href="Text.Pretty.Core.html#2177" class="Function">All</a> <a id="2234" href="Text.Pretty.Core.html#2234" class="Bound">P</a> <a id="2236" class="Symbol">=</a> <a id="2238" href="Data.Maybe.Relation.Unary.All.html#946" class="Datatype">Allᴹ.All</a> <a id="2247" class="Symbol">(</a><a id="2248" href="Data.Product.Relation.Unary.All.html#453" class="Function">Allᴾ.All</a> <a id="2257" href="Text.Pretty.Core.html#2234" class="Bound">P</a> <a id="2259" class="Symbol">(</a><a id="2260" href="Data.Tree.Binary.Relation.Unary.All.html#638" class="Datatype">Allᵀ.All</a> <a id="2269" href="Text.Pretty.Core.html#2234" class="Bound">P</a> <a id="2271" href="Relation.Unary.html#1522" class="Function">U</a><a id="2272" class="Symbol">))</a>

<a id="All≤"></a><a id="2276" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="2281" class="Symbol">:</a> <a id="2283" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2285" class="Symbol">→</a> <a id="2287" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="2295" class="Symbol">→</a> <a id="2297" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="2301" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="2306" href="Text.Pretty.Core.html#2306" class="Bound">n</a> <a id="2308" class="Symbol">=</a> <a id="2310" href="Text.Pretty.Core.html#2177" class="Function">All</a> <a id="2314" class="Symbol">(λ</a> <a id="2317" href="Text.Pretty.Core.html#2317" class="Bound">s</a> <a id="2319" class="Symbol">→</a> <a id="2321" href="Data.String.Base.html#2468" class="Function">length</a> <a id="2328" href="Text.Pretty.Core.html#2317" class="Bound">s</a> <a id="2330" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="2332" href="Text.Pretty.Core.html#2306" class="Bound">n</a><a id="2333" class="Symbol">)</a>

<a id="2336" class="Keyword">record</a> <a id="Block"></a><a id="2343" href="Text.Pretty.Core.html#2343" class="Record">Block</a> <a id="2349" class="Symbol">:</a> <a id="2351" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2355" class="Keyword">where</a>
  <a id="2363" class="Keyword">field</a>
    <a id="Block.height"></a><a id="2373" href="Text.Pretty.Core.html#2373" class="Field">height</a>    <a id="2383" class="Symbol">:</a> <a id="2385" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="Block.block"></a><a id="2391" href="Text.Pretty.Core.html#2391" class="Field">block</a>     <a id="2401" class="Symbol">:</a> <a id="2403" href="Data.Refinement.html#947" class="Function">[</a> <a id="2405" href="Text.Pretty.Core.html#2405" class="Bound">xs</a> <a id="2408" href="Data.Refinement.html#947" class="Function">∈</a> <a id="2410" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="2418" href="Data.Refinement.html#947" class="Function">∣</a> <a id="2420" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="2425" href="Text.Pretty.Core.html#2405" class="Bound">xs</a> <a id="2428" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2430" href="Text.Pretty.Core.html#2373" class="Field">height</a> <a id="2437" href="Data.Refinement.html#947" class="Function">]</a>
  <a id="2441" class="Comment">-- last line</a>
    <a id="Block.lastWidth"></a><a id="2458" href="Text.Pretty.Core.html#2458" class="Field">lastWidth</a> <a id="2468" class="Symbol">:</a> <a id="2470" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="Block.last"></a><a id="2476" href="Text.Pretty.Core.html#2476" class="Field">last</a>      <a id="2486" class="Symbol">:</a> <a id="2488" href="Data.Refinement.html#947" class="Function">[</a> <a id="2490" href="Text.Pretty.Core.html#2490" class="Bound">s</a> <a id="2492" href="Data.Refinement.html#947" class="Function">∈</a> <a id="2494" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2501" href="Data.Refinement.html#947" class="Function">∣</a> <a id="2503" href="Data.String.Base.html#2468" class="Function">length</a> <a id="2510" href="Text.Pretty.Core.html#2490" class="Bound">s</a> <a id="2512" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2514" href="Text.Pretty.Core.html#2458" class="Field">lastWidth</a> <a id="2524" href="Data.Refinement.html#947" class="Function">]</a>
  <a id="2528" class="Comment">-- max of all the widths</a>
    <a id="Block.maxWidth"></a><a id="2557" href="Text.Pretty.Core.html#2557" class="Field">maxWidth</a>  <a id="2567" class="Symbol">:</a> <a id="2569" href="Data.Refinement.html#947" class="Function">[</a> <a id="2571" href="Text.Pretty.Core.html#2571" class="Bound">n</a> <a id="2573" href="Data.Refinement.html#947" class="Function">∈</a> <a id="2575" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2577" href="Data.Refinement.html#947" class="Function">∣</a> <a id="2579" href="Text.Pretty.Core.html#2458" class="Field">lastWidth</a> <a id="2589" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="2591" href="Text.Pretty.Core.html#2571" class="Bound">n</a> <a id="2593" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2595" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="2600" href="Text.Pretty.Core.html#2571" class="Bound">n</a> <a id="2602" class="Symbol">(</a><a id="2603" href="Text.Pretty.Core.html#2391" class="Field">block</a> <a id="2609" class="Symbol">.</a><a id="2610" href="Data.Refinement.html#653" class="Field">value</a><a id="2615" class="Symbol">)</a> <a id="2617" href="Data.Refinement.html#947" class="Function">]</a>

<a id="2620" class="Comment">------------------------------------------------------------------------</a>
<a id="2693" class="Comment">-- Raw string</a>

<a id="text"></a><a id="2708" href="Text.Pretty.Core.html#2708" class="Function">text</a> <a id="2713" class="Symbol">:</a> <a id="2715" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2722" class="Symbol">→</a> <a id="2724" href="Text.Pretty.Core.html#2343" class="Record">Block</a>
<a id="2730" href="Text.Pretty.Core.html#2708" class="Function">text</a> <a id="2735" href="Text.Pretty.Core.html#2735" class="Bound">s</a> <a id="2737" class="Symbol">=</a> <a id="2739" class="Keyword">record</a>
  <a id="2748" class="Symbol">{</a> <a id="2750" href="Text.Pretty.Core.html#2373" class="Field">height</a>    <a id="2760" class="Symbol">=</a> <a id="2762" class="Number">0</a>
  <a id="2766" class="Symbol">;</a> <a id="2768" href="Text.Pretty.Core.html#2391" class="Field">block</a>     <a id="2778" class="Symbol">=</a> <a id="2780" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2788" href="Data.Refinement.html#641" class="InductiveConstructor Operator">,</a> <a id="2790" class="Symbol">⦇</a> <a id="2792" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2797" class="Symbol">⦈</a>
  <a id="2801" class="Symbol">;</a> <a id="2803" href="Text.Pretty.Core.html#2458" class="Field">lastWidth</a> <a id="2813" class="Symbol">=</a> <a id="2815" href="Text.Pretty.Core.html#2907" class="Function">width</a>
  <a id="2823" class="Symbol">;</a> <a id="2825" href="Text.Pretty.Core.html#2476" class="Field">last</a>      <a id="2835" class="Symbol">=</a> <a id="2837" href="Text.Pretty.Core.html#2735" class="Bound">s</a> <a id="2839" href="Data.Refinement.html#641" class="InductiveConstructor Operator">,</a> <a id="2841" class="Symbol">⦇</a> <a id="2843" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2848" class="Symbol">⦈</a>
  <a id="2852" class="Symbol">;</a> <a id="2854" href="Text.Pretty.Core.html#2557" class="Field">maxWidth</a>  <a id="2864" class="Symbol">=</a> <a id="2866" href="Text.Pretty.Core.html#2907" class="Function">width</a> <a id="2872" href="Data.Refinement.html#641" class="InductiveConstructor Operator">,</a> <a id="2874" class="Symbol">⦇</a> <a id="2876" class="Symbol">(</a><a id="2877" href="Data.Nat.Properties.html#5242" class="Function">≤-refl</a> <a id="2884" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2886" href="Data.Maybe.Relation.Unary.All.html#1057" class="InductiveConstructor">nothing</a><a id="2893" class="Symbol">)</a> <a id="2895" class="Symbol">⦈</a>
  <a id="2899" class="Symbol">}</a> <a id="2901" class="Keyword">where</a> <a id="2907" href="Text.Pretty.Core.html#2907" class="Function">width</a> <a id="2913" class="Symbol">=</a> <a id="2915" href="Data.String.Base.html#2468" class="Function">length</a> <a id="2922" href="Text.Pretty.Core.html#2735" class="Bound">s</a><a id="2923" class="Symbol">;</a> <a id="2925" class="Keyword">open</a> <a id="2930" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

<a id="2942" class="Comment">------------------------------------------------------------------------</a>
<a id="3015" class="Comment">-- Empty</a>

<a id="empty"></a><a id="3025" href="Text.Pretty.Core.html#3025" class="Function">empty</a> <a id="3031" class="Symbol">:</a> <a id="3033" href="Text.Pretty.Core.html#2343" class="Record">Block</a>
<a id="3039" href="Text.Pretty.Core.html#3025" class="Function">empty</a> <a id="3045" class="Symbol">=</a> <a id="3047" href="Text.Pretty.Core.html#2708" class="Function">text</a> <a id="3052" class="String">&quot;&quot;</a>

<a id="3056" class="Comment">------------------------------------------------------------------------</a>
<a id="3129" class="Comment">-- Helper functions</a>

<a id="node?"></a><a id="3150" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="3156" class="Symbol">:</a> <a id="3158" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="3166" class="Symbol">→</a> <a id="3168" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="3175" class="Symbol">→</a> <a id="3177" href="Data.Tree.Binary.html#700" class="Datatype">Tree</a> <a id="3182" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="3189" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="3191" class="Symbol">→</a> <a id="3193" href="Text.Pretty.Core.html#2062" class="Function">Content</a>
<a id="3201" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="3207" class="Symbol">(</a><a id="3208" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3213" class="Symbol">(</a><a id="3214" href="Text.Pretty.Core.html#3214" class="Bound">x</a> <a id="3216" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3218" href="Text.Pretty.Core.html#3218" class="Bound">xs</a><a id="3220" class="Symbol">))</a> <a id="3223" href="Text.Pretty.Core.html#3223" class="Bound">y</a> <a id="3225" href="Text.Pretty.Core.html#3225" class="Bound">ys</a> <a id="3228" class="Symbol">=</a> <a id="3230" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3235" class="Symbol">(</a><a id="3236" href="Text.Pretty.Core.html#3214" class="Bound">x</a> <a id="3238" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3240" href="Data.Tree.Binary.html#773" class="InductiveConstructor">node</a> <a id="3245" href="Text.Pretty.Core.html#3218" class="Bound">xs</a> <a id="3248" href="Text.Pretty.Core.html#3223" class="Bound">y</a> <a id="3250" href="Text.Pretty.Core.html#3225" class="Bound">ys</a><a id="3252" class="Symbol">)</a>
<a id="3254" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="3260" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>         <a id="3276" href="Text.Pretty.Core.html#3276" class="Bound">y</a> <a id="3278" href="Text.Pretty.Core.html#3278" class="Bound">ys</a> <a id="3281" class="Symbol">=</a> <a id="3283" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3288" class="Symbol">(</a><a id="3289" href="Text.Pretty.Core.html#3276" class="Bound">y</a> <a id="3291" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3293" href="Text.Pretty.Core.html#3278" class="Bound">ys</a><a id="3295" class="Symbol">)</a>

<a id="∣node?∣"></a><a id="3298" href="Text.Pretty.Core.html#3298" class="Function">∣node?∣</a> <a id="3306" class="Symbol">:</a> <a id="3308" class="Symbol">∀</a> <a id="3310" href="Text.Pretty.Core.html#3310" class="Bound">b</a> <a id="3312" href="Text.Pretty.Core.html#3312" class="Bound">y</a> <a id="3314" href="Text.Pretty.Core.html#3314" class="Bound">ys</a> <a id="3317" class="Symbol">→</a> <a id="3319" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="3324" class="Symbol">(</a><a id="3325" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="3331" href="Text.Pretty.Core.html#3310" class="Bound">b</a> <a id="3333" href="Text.Pretty.Core.html#3312" class="Bound">y</a> <a id="3335" href="Text.Pretty.Core.html#3314" class="Bound">ys</a><a id="3337" class="Symbol">)</a>
                   <a id="3358" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3360" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="3365" href="Text.Pretty.Core.html#3310" class="Bound">b</a> <a id="3367" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3369" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3373" class="Symbol">(</a><a id="3374" href="Data.Tree.Binary.html#1083" class="Function">#nodes</a> <a id="3381" href="Text.Pretty.Core.html#3314" class="Bound">ys</a><a id="3383" class="Symbol">)</a>
<a id="3385" href="Text.Pretty.Core.html#3298" class="Function">∣node?∣</a> <a id="3393" class="Symbol">(</a><a id="3394" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3399" class="Symbol">(</a><a id="3400" href="Text.Pretty.Core.html#3400" class="Bound">x</a> <a id="3402" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3404" href="Text.Pretty.Core.html#3404" class="Bound">xs</a><a id="3406" class="Symbol">))</a> <a id="3409" href="Text.Pretty.Core.html#3409" class="Bound">y</a> <a id="3411" href="Text.Pretty.Core.html#3411" class="Bound">ys</a> <a id="3414" class="Symbol">=</a> <a id="3416" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3421" href="Text.Pretty.Core.html#3298" class="Function">∣node?∣</a> <a id="3429" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>         <a id="3445" href="Text.Pretty.Core.html#3445" class="Bound">y</a> <a id="3447" href="Text.Pretty.Core.html#3447" class="Bound">ys</a> <a id="3450" class="Symbol">=</a> <a id="3452" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="≤-Content"></a><a id="3458" href="Text.Pretty.Core.html#3458" class="Function">≤-Content</a> <a id="3468" class="Symbol">:</a> <a id="3470" class="Symbol">∀</a> <a id="3472" class="Symbol">{</a><a id="3473" href="Text.Pretty.Core.html#3473" class="Bound">m</a> <a id="3475" href="Text.Pretty.Core.html#3475" class="Bound">n</a><a id="3476" class="Symbol">}</a> <a id="3478" class="Symbol">{</a><a id="3479" href="Text.Pretty.Core.html#3479" class="Bound">b</a> <a id="3481" class="Symbol">:</a> <a id="3483" href="Text.Pretty.Core.html#2062" class="Function">Content</a><a id="3490" class="Symbol">}</a> <a id="3492" class="Symbol">→</a> <a id="3494" href="Text.Pretty.Core.html#3473" class="Bound">m</a> <a id="3496" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="3498" href="Text.Pretty.Core.html#3475" class="Bound">n</a> <a id="3500" class="Symbol">→</a> <a id="3502" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="3507" href="Text.Pretty.Core.html#3473" class="Bound">m</a> <a id="3509" href="Text.Pretty.Core.html#3479" class="Bound">b</a> <a id="3511" class="Symbol">→</a> <a id="3513" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="3518" href="Text.Pretty.Core.html#3475" class="Bound">n</a> <a id="3520" href="Text.Pretty.Core.html#3479" class="Bound">b</a>
<a id="3522" href="Text.Pretty.Core.html#3458" class="Function">≤-Content</a> <a id="3532" class="Symbol">{</a><a id="3533" href="Text.Pretty.Core.html#3533" class="Bound">m</a><a id="3534" class="Symbol">}</a> <a id="3536" class="Symbol">{</a><a id="3537" href="Text.Pretty.Core.html#3537" class="Bound">n</a><a id="3538" class="Symbol">}</a> <a id="3540" href="Text.Pretty.Core.html#3540" class="Bound">m≤n</a> <a id="3544" class="Symbol">=</a> <a id="3546" href="Data.Maybe.Relation.Unary.All.html#1389" class="Function">Allᴹ.map</a> <a id="3555" class="Symbol">(</a><a id="3556" href="Data.Product.Base.html#2173" class="Function">Prod.map</a> <a id="3565" href="Text.Pretty.Core.html#3600" class="Function">step</a> <a id="3570" class="Symbol">(</a><a id="3571" href="Data.Tree.Binary.Relation.Unary.All.html#998" class="Function">Allᵀ.mapₙ</a> <a id="3581" href="Text.Pretty.Core.html#3600" class="Function">step</a><a id="3585" class="Symbol">))</a>

  <a id="3591" class="Keyword">where</a>

  <a id="3600" href="Text.Pretty.Core.html#3600" class="Function">step</a> <a id="3605" class="Symbol">:</a> <a id="3607" class="Symbol">∀</a> <a id="3609" class="Symbol">{</a><a id="3610" href="Text.Pretty.Core.html#3610" class="Bound">p</a><a id="3611" class="Symbol">}</a> <a id="3613" class="Symbol">→</a> <a id="3615" href="Text.Pretty.Core.html#3610" class="Bound">p</a> <a id="3617" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="3619" href="Text.Pretty.Core.html#3533" class="Bound">m</a> <a id="3621" class="Symbol">→</a> <a id="3623" href="Text.Pretty.Core.html#3610" class="Bound">p</a> <a id="3625" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="3627" href="Text.Pretty.Core.html#3537" class="Bound">n</a>
  <a id="3631" href="Text.Pretty.Core.html#3600" class="Function">step</a> <a id="3636" class="Symbol">=</a> <a id="3638" href="Function.Base.html#1638" class="Function">flip</a> <a id="3643" href="Data.Nat.Properties.html#5425" class="Function">≤-trans</a> <a id="3651" href="Text.Pretty.Core.html#3540" class="Bound">m≤n</a>

<a id="All≤-node?"></a><a id="3656" href="Text.Pretty.Core.html#3656" class="Function">All≤-node?</a> <a id="3667" class="Symbol">:</a> <a id="3669" class="Symbol">∀</a> <a id="3671" class="Symbol">{</a><a id="3672" href="Text.Pretty.Core.html#3672" class="Bound">l</a> <a id="3674" href="Text.Pretty.Core.html#3674" class="Bound">m</a> <a id="3676" href="Text.Pretty.Core.html#3676" class="Bound">r</a> <a id="3678" href="Text.Pretty.Core.html#3678" class="Bound">n</a><a id="3679" class="Symbol">}</a> <a id="3681" class="Symbol">→</a>
             <a id="3696" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="3701" href="Text.Pretty.Core.html#3678" class="Bound">n</a> <a id="3703" href="Text.Pretty.Core.html#3672" class="Bound">l</a> <a id="3705" class="Symbol">→</a> <a id="3707" href="Data.String.Base.html#2468" class="Function">length</a> <a id="3714" href="Text.Pretty.Core.html#3674" class="Bound">m</a> <a id="3716" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="3718" href="Text.Pretty.Core.html#3678" class="Bound">n</a> <a id="3720" class="Symbol">→</a> <a id="3722" href="Data.Tree.Binary.Relation.Unary.All.html#638" class="Datatype">Allᵀ.All</a> <a id="3731" class="Symbol">(λ</a> <a id="3734" href="Text.Pretty.Core.html#3734" class="Bound">s</a> <a id="3736" class="Symbol">→</a> <a id="3738" href="Data.String.Base.html#2468" class="Function">length</a> <a id="3745" href="Text.Pretty.Core.html#3734" class="Bound">s</a> <a id="3747" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="3749" href="Text.Pretty.Core.html#3678" class="Bound">n</a><a id="3750" class="Symbol">)</a> <a id="3752" href="Relation.Unary.html#1522" class="Function">U</a> <a id="3754" href="Text.Pretty.Core.html#3676" class="Bound">r</a> <a id="3756" class="Symbol">→</a>
             <a id="3771" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="3776" href="Text.Pretty.Core.html#3678" class="Bound">n</a> <a id="3778" class="Symbol">(</a><a id="3779" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="3785" href="Text.Pretty.Core.html#3672" class="Bound">l</a> <a id="3787" href="Text.Pretty.Core.html#3674" class="Bound">m</a> <a id="3789" href="Text.Pretty.Core.html#3676" class="Bound">r</a><a id="3790" class="Symbol">)</a>
<a id="3792" href="Text.Pretty.Core.html#3656" class="Function">All≤-node?</a> <a id="3803" href="Data.Maybe.Relation.Unary.All.html#1057" class="InductiveConstructor">nothing</a>           <a id="3821" href="Text.Pretty.Core.html#3821" class="Bound">py</a> <a id="3824" href="Text.Pretty.Core.html#3824" class="Bound">pys</a> <a id="3828" class="Symbol">=</a> <a id="3830" href="Data.Maybe.Relation.Unary.All.html#1016" class="InductiveConstructor">just</a> <a id="3835" class="Symbol">(</a><a id="3836" href="Text.Pretty.Core.html#3821" class="Bound">py</a> <a id="3839" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3841" href="Text.Pretty.Core.html#3824" class="Bound">pys</a><a id="3844" class="Symbol">)</a>
<a id="3846" href="Text.Pretty.Core.html#3656" class="Function">All≤-node?</a> <a id="3857" class="Symbol">(</a><a id="3858" href="Data.Maybe.Relation.Unary.All.html#1016" class="InductiveConstructor">just</a> <a id="3863" class="Symbol">(</a><a id="3864" href="Text.Pretty.Core.html#3864" class="Bound">px</a> <a id="3867" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3869" href="Text.Pretty.Core.html#3869" class="Bound">pxs</a><a id="3872" class="Symbol">))</a> <a id="3875" href="Text.Pretty.Core.html#3875" class="Bound">py</a> <a id="3878" href="Text.Pretty.Core.html#3878" class="Bound">pys</a> <a id="3882" class="Symbol">=</a> <a id="3884" href="Data.Maybe.Relation.Unary.All.html#1016" class="InductiveConstructor">just</a> <a id="3889" class="Symbol">(</a><a id="3890" href="Text.Pretty.Core.html#3864" class="Bound">px</a> <a id="3893" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3895" href="Data.Tree.Binary.Relation.Unary.All.html#779" class="InductiveConstructor">node</a> <a id="3900" href="Text.Pretty.Core.html#3869" class="Bound">pxs</a> <a id="3904" href="Text.Pretty.Core.html#3875" class="Bound">py</a> <a id="3907" href="Text.Pretty.Core.html#3878" class="Bound">pys</a><a id="3910" class="Symbol">)</a>

<a id="3913" class="Comment">------------------------------------------------------------------------</a>
<a id="3986" class="Comment">-- Appending two documents</a>

<a id="4014" class="Keyword">private</a>
  <a id="4024" class="Keyword">module</a> <a id="append"></a><a id="4031" href="Text.Pretty.Core.html#4031" class="Module">append</a> <a id="4038" class="Symbol">(</a><a id="4039" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="4041" href="Text.Pretty.Core.html#4041" class="Bound">y</a> <a id="4043" class="Symbol">:</a> <a id="4045" href="Text.Pretty.Core.html#2343" class="Record">Block</a><a id="4050" class="Symbol">)</a> <a id="4052" class="Keyword">where</a>

    <a id="4063" class="Keyword">module</a> <a id="append.x"></a><a id="4070" href="Text.Pretty.Core.html#4070" class="Module">x</a> <a id="4072" class="Symbol">=</a> <a id="4074" href="Text.Pretty.Core.html#2343" class="Module">Block</a> <a id="4080" href="Text.Pretty.Core.html#4039" class="Bound">x</a>
    <a id="4086" class="Keyword">module</a> <a id="append.y"></a><a id="4093" href="Text.Pretty.Core.html#4093" class="Module">y</a> <a id="4095" class="Symbol">=</a> <a id="4097" href="Text.Pretty.Core.html#2343" class="Module">Block</a> <a id="4103" href="Text.Pretty.Core.html#4041" class="Bound">y</a>

    <a id="append.blockx"></a><a id="4110" href="Text.Pretty.Core.html#4110" class="Function">blockx</a> <a id="4117" class="Symbol">=</a> <a id="4119" href="Text.Pretty.Core.html#2391" class="Function">x.block</a> <a id="4127" class="Symbol">.</a><a id="4128" href="Data.Refinement.html#653" class="Field">value</a>
    <a id="append.blocky"></a><a id="4138" href="Text.Pretty.Core.html#4138" class="Function">blocky</a> <a id="4145" class="Symbol">=</a> <a id="4147" href="Text.Pretty.Core.html#2391" class="Field">y.block</a> <a id="4155" class="Symbol">.</a><a id="4156" href="Data.Refinement.html#653" class="Field">value</a>

    <a id="append.widthx"></a><a id="4167" href="Text.Pretty.Core.html#4167" class="Function">widthx</a> <a id="4174" class="Symbol">=</a> <a id="4176" href="Text.Pretty.Core.html#2557" class="Function">x.maxWidth</a> <a id="4187" class="Symbol">.</a><a id="4188" href="Data.Refinement.html#653" class="Field">value</a>
    <a id="append.widthy"></a><a id="4198" href="Text.Pretty.Core.html#4198" class="Function">widthy</a> <a id="4205" class="Symbol">=</a> <a id="4207" href="Text.Pretty.Core.html#2557" class="Field">y.maxWidth</a> <a id="4218" class="Symbol">.</a><a id="4219" href="Data.Refinement.html#653" class="Field">value</a>

    <a id="append.lastx"></a><a id="4230" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="4236" class="Symbol">=</a> <a id="4238" href="Text.Pretty.Core.html#2476" class="Function">x.last</a> <a id="4245" class="Symbol">.</a><a id="4246" href="Data.Refinement.html#653" class="Field">value</a>
    <a id="append.lasty"></a><a id="4256" href="Text.Pretty.Core.html#4256" class="Function">lasty</a> <a id="4262" class="Symbol">=</a> <a id="4264" href="Text.Pretty.Core.html#2476" class="Field">y.last</a> <a id="4271" class="Symbol">.</a><a id="4272" href="Data.Refinement.html#653" class="Field">value</a>

    <a id="append.height"></a><a id="4283" href="Text.Pretty.Core.html#4283" class="Function">height</a> <a id="4290" class="Symbol">:</a> <a id="4292" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="4298" href="Text.Pretty.Core.html#4283" class="Function">height</a> <a id="4305" class="Symbol">=</a> <a id="4307" class="Symbol">(</a><a id="4308" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="4312" href="Function.Base.html#6209" class="Function Operator">on</a> <a id="4315" href="Text.Pretty.Core.html#2373" class="Field">Block.height</a><a id="4327" class="Symbol">)</a> <a id="4329" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="4331" href="Text.Pretty.Core.html#4041" class="Bound">y</a>

    <a id="append.lastWidth"></a><a id="4338" href="Text.Pretty.Core.html#4338" class="Function">lastWidth</a> <a id="4348" class="Symbol">:</a> <a id="4350" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="4356" href="Text.Pretty.Core.html#4338" class="Function">lastWidth</a> <a id="4366" class="Symbol">=</a> <a id="4368" class="Symbol">(</a><a id="4369" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="4373" href="Function.Base.html#6209" class="Function Operator">on</a> <a id="4376" href="Text.Pretty.Core.html#2458" class="Field">Block.lastWidth</a><a id="4391" class="Symbol">)</a> <a id="4393" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="4395" href="Text.Pretty.Core.html#4041" class="Bound">y</a>

    <a id="append.pad"></a><a id="4402" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="4406" class="Symbol">:</a> <a id="4408" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4414" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
    <a id="4425" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="4429" class="Keyword">with</a> <a id="4434" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a>
    <a id="4450" href="Text.Pretty.Core.html#4402" class="Function">...</a> <a id="4454" class="Symbol">|</a> <a id="4456" class="Number">0</a> <a id="4458" class="Symbol">=</a> <a id="4460" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="4472" href="Text.Pretty.Core.html#4402" class="CatchallClause Function">...</a><a id="4475" class="CatchallClause"> </a><a id="4476" class="CatchallClause Symbol">|</a><a id="4477" class="CatchallClause"> </a><a id="4478" href="Text.Pretty.Core.html#4478" class="CatchallClause Bound">l</a> <a id="4480" class="Symbol">=</a> <a id="4482" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4487" class="Symbol">(</a><a id="4488" href="Data.String.Base.html#2519" class="Function">replicate</a> <a id="4498" href="Text.Pretty.Core.html#4478" class="Bound">l</a> <a id="4500" class="String">&#39; &#39;</a><a id="4503" class="Symbol">)</a>

    <a id="append.size-pad"></a><a id="4510" href="Text.Pretty.Core.html#4510" class="Function">size-pad</a> <a id="4519" class="Symbol">:</a> <a id="4521" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="4528" href="Data.String.Base.html#2468" class="Function">length</a> <a id="4535" class="Number">0</a> <a id="4537" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="4541" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4543" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a>
    <a id="4559" href="Text.Pretty.Core.html#4510" class="Function">size-pad</a> <a id="4568" class="Keyword">with</a> <a id="4573" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a>
    <a id="4589" href="Text.Pretty.Core.html#4510" class="Function">...</a> <a id="4593" class="Symbol">|</a> <a id="4595" class="Number">0</a>         <a id="4605" class="Symbol">=</a> <a id="4607" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="4616" href="Text.Pretty.Core.html#4510" class="Function">...</a> <a id="4620" class="Symbol">|</a> <a id="4622" href="Text.Pretty.Core.html#4622" class="Bound">l</a><a id="4623" class="Symbol">@(</a><a id="4625" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4629" class="Symbol">_)</a> <a id="4632" class="Symbol">=</a> <a id="4634" href="Data.String.Unsafe.html#1656" class="Function">length-replicate</a> <a id="4651" href="Text.Pretty.Core.html#4622" class="Bound">l</a>

    <a id="append.indent"></a><a id="4658" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="4665" class="Symbol">:</a> <a id="4667" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4673" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="4680" class="Symbol">→</a> <a id="4682" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="4689" class="Symbol">→</a> <a id="4691" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
    <a id="4702" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="4709" class="Symbol">=</a> <a id="4711" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="4718" href="Data.String.Base.html#2404" class="Function Operator">_++_</a> <a id="4723" href="Function.Base.html#704" class="Function">id</a>

    <a id="append.size-indent"></a><a id="4731" href="Text.Pretty.Core.html#4731" class="Function">size-indent</a> <a id="4743" class="Symbol">:</a> <a id="4745" class="Symbol">∀</a> <a id="4747" href="Text.Pretty.Core.html#4747" class="Bound">ma</a> <a id="4750" href="Text.Pretty.Core.html#4750" class="Bound">str</a> <a id="4754" class="Symbol">→</a> <a id="4756" href="Data.String.Base.html#2468" class="Function">length</a> <a id="4763" class="Symbol">(</a><a id="4764" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="4771" href="Text.Pretty.Core.html#4747" class="Bound">ma</a> <a id="4774" href="Text.Pretty.Core.html#4750" class="Bound">str</a><a id="4777" class="Symbol">)</a>
                <a id="4795" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4797" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="4804" href="Data.String.Base.html#2468" class="Function">length</a> <a id="4811" class="Number">0</a> <a id="4813" href="Text.Pretty.Core.html#4747" class="Bound">ma</a> <a id="4816" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="4818" href="Data.String.Base.html#2468" class="Function">length</a> <a id="4825" href="Text.Pretty.Core.html#4750" class="Bound">str</a>
    <a id="4833" href="Text.Pretty.Core.html#4731" class="Function">size-indent</a> <a id="4845" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>    <a id="4856" href="Text.Pretty.Core.html#4856" class="Bound">str</a> <a id="4860" class="Symbol">=</a> <a id="4862" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="4871" href="Text.Pretty.Core.html#4731" class="Function">size-indent</a> <a id="4883" class="Symbol">(</a><a id="4884" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4889" href="Text.Pretty.Core.html#4889" class="Bound">pad</a><a id="4892" class="Symbol">)</a> <a id="4894" href="Text.Pretty.Core.html#4894" class="Bound">str</a> <a id="4898" class="Symbol">=</a> <a id="4900" href="Data.String.Unsafe.html#1331" class="Function">length-++</a> <a id="4910" href="Text.Pretty.Core.html#4889" class="Bound">pad</a> <a id="4914" href="Text.Pretty.Core.html#4894" class="Bound">str</a>

    <a id="append.indents"></a><a id="4923" href="Text.Pretty.Core.html#4923" class="Function">indents</a> <a id="4931" class="Symbol">:</a> <a id="4933" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4939" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="4946" class="Symbol">→</a> <a id="4948" href="Data.Tree.Binary.html#700" class="Datatype">Tree</a> <a id="4953" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="4960" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="4962" class="Symbol">→</a> <a id="4964" href="Data.Tree.Binary.html#700" class="Datatype">Tree</a> <a id="4969" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="4976" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="4982" href="Text.Pretty.Core.html#4923" class="Function">indents</a> <a id="4990" class="Symbol">=</a> <a id="4992" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="4999" class="Symbol">(</a><a id="5000" href="Data.Tree.Binary.html#959" class="Function">mapₙ</a> <a id="5005" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5007" href="Data.String.Base.html#2404" class="Function Operator">_++_</a><a id="5011" class="Symbol">)</a> <a id="5013" href="Function.Base.html#704" class="Function">id</a>

    <a id="append.size-indents"></a><a id="5021" href="Text.Pretty.Core.html#5021" class="Function">size-indents</a> <a id="5034" class="Symbol">:</a> <a id="5036" class="Symbol">∀</a> <a id="5038" href="Text.Pretty.Core.html#5038" class="Bound">ma</a> <a id="5041" href="Text.Pretty.Core.html#5041" class="Bound">t</a> <a id="5043" class="Symbol">→</a> <a id="5045" href="Data.Tree.Binary.html#1083" class="Function">#nodes</a> <a id="5052" class="Symbol">(</a><a id="5053" href="Text.Pretty.Core.html#4923" class="Function">indents</a> <a id="5061" href="Text.Pretty.Core.html#5038" class="Bound">ma</a> <a id="5064" href="Text.Pretty.Core.html#5041" class="Bound">t</a><a id="5065" class="Symbol">)</a> <a id="5067" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5069" href="Data.Tree.Binary.html#1083" class="Function">#nodes</a> <a id="5076" href="Text.Pretty.Core.html#5041" class="Bound">t</a>
    <a id="5082" href="Text.Pretty.Core.html#5021" class="Function">size-indents</a> <a id="5095" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>    <a id="5106" href="Text.Pretty.Core.html#5106" class="Bound">t</a> <a id="5108" class="Symbol">=</a> <a id="5110" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="5119" href="Text.Pretty.Core.html#5021" class="Function">size-indents</a> <a id="5132" class="Symbol">(</a><a id="5133" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5138" href="Text.Pretty.Core.html#5138" class="Bound">pad</a><a id="5141" class="Symbol">)</a> <a id="5143" href="Text.Pretty.Core.html#5143" class="Bound">t</a> <a id="5145" class="Symbol">=</a> <a id="5147" href="Data.Tree.Binary.Properties.html#932" class="Function">Treeₚ.#nodes-mapₙ</a> <a id="5165" class="Symbol">(</a><a id="5166" href="Text.Pretty.Core.html#5138" class="Bound">pad</a> <a id="5170" href="Data.String.Base.html#2404" class="Function Operator">++_</a><a id="5173" class="Symbol">)</a> <a id="5175" href="Text.Pretty.Core.html#5143" class="Bound">t</a>

    <a id="append.unfold-indents"></a><a id="5182" href="Text.Pretty.Core.html#5182" class="Function">unfold-indents</a> <a id="5197" class="Symbol">:</a> <a id="5199" class="Symbol">∀</a> <a id="5201" href="Text.Pretty.Core.html#5201" class="Bound">ma</a> <a id="5204" href="Text.Pretty.Core.html#5204" class="Bound">t</a> <a id="5206" class="Symbol">→</a> <a id="5208" href="Text.Pretty.Core.html#4923" class="Function">indents</a> <a id="5216" href="Text.Pretty.Core.html#5201" class="Bound">ma</a> <a id="5219" href="Text.Pretty.Core.html#5204" class="Bound">t</a> <a id="5221" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5223" href="Data.Tree.Binary.html#959" class="Function">mapₙ</a> <a id="5228" class="Symbol">(</a><a id="5229" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="5236" href="Text.Pretty.Core.html#5201" class="Bound">ma</a><a id="5238" class="Symbol">)</a> <a id="5240" href="Text.Pretty.Core.html#5204" class="Bound">t</a>
    <a id="5246" href="Text.Pretty.Core.html#5182" class="Function">unfold-indents</a> <a id="5261" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>    <a id="5272" href="Text.Pretty.Core.html#5272" class="Bound">t</a> <a id="5274" class="Symbol">=</a> <a id="5276" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="5280" class="Symbol">(</a><a id="5281" href="Data.Tree.Binary.Properties.html#1564" class="Function">Treeₚ.map-id</a> <a id="5294" href="Text.Pretty.Core.html#5272" class="Bound">t</a><a id="5295" class="Symbol">)</a>
    <a id="5301" href="Text.Pretty.Core.html#5182" class="Function">unfold-indents</a> <a id="5316" class="Symbol">(</a><a id="5317" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5322" href="Text.Pretty.Core.html#5322" class="Bound">pad</a><a id="5325" class="Symbol">)</a> <a id="5327" href="Text.Pretty.Core.html#5327" class="Bound">t</a> <a id="5329" class="Symbol">=</a> <a id="5331" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

    <a id="append.vContent"></a><a id="5341" href="Text.Pretty.Core.html#5341" class="Function">vContent</a> <a id="5350" class="Symbol">:</a> <a id="5352" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="5360" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5362" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
    <a id="5373" href="Text.Pretty.Core.html#5341" class="Function">vContent</a> <a id="5382" class="Keyword">with</a> <a id="5387" href="Text.Pretty.Core.html#4138" class="Function">blocky</a>
    <a id="5398" href="Text.Pretty.Core.html#5341" class="Function">...</a> <a id="5402" class="Symbol">|</a> <a id="5404" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>        <a id="5419" class="Symbol">=</a> <a id="5421" href="Text.Pretty.Core.html#4110" class="Function">blockx</a>
                         <a id="5453" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5455" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="5461" href="Data.String.Base.html#2404" class="Function Operator">++</a> <a id="5464" href="Text.Pretty.Core.html#4256" class="Function">lasty</a>
    <a id="5474" href="Text.Pretty.Core.html#5341" class="Function">...</a> <a id="5478" class="Symbol">|</a> <a id="5480" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5485" class="Symbol">(</a><a id="5486" href="Text.Pretty.Core.html#5486" class="Bound">hd</a> <a id="5489" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5491" href="Text.Pretty.Core.html#5491" class="Bound">tl</a><a id="5493" class="Symbol">)</a> <a id="5495" class="Symbol">=</a> <a id="5497" href="Text.Pretty.Core.html#3150" class="Function">node?</a>
      <a id="5509" class="Comment">{-,--------------,-}</a>
      <a id="5536" class="Comment">{-|-}</a> <a id="5542" href="Text.Pretty.Core.html#4110" class="Function">blockx</a>   <a id="5551" class="Comment">{-|-}</a>
      <a id="5563" class="Comment">{-|-}</a>          <a id="5578" class="Comment">{-&#39;---,-}</a>    <a id="5591" class="Comment">{-,------------------,-}</a>
      <a id="5622" class="Comment">{-|-}</a> <a id="5628" class="Symbol">(</a><a id="5629" href="Text.Pretty.Core.html#4230" class="Function">lastx</a>       <a id="5641" class="Comment">{-|-}</a> <a id="5647" href="Data.String.Base.html#2404" class="Function Operator">++</a> <a id="5650" class="Comment">{-|-}</a>  <a id="5657" href="Text.Pretty.Core.html#5486" class="Bound">hd</a><a id="5659" class="Symbol">)</a>         <a id="5669" class="Comment">{-|-}</a>
      <a id="5681" class="Comment">{-&#39;------------------&#39;-}</a>    <a id="5709" class="Comment">{-|-}</a>              <a id="5728" class="Comment">{-|-}</a>
      <a id="5740" class="Symbol">(</a><a id="5741" href="Text.Pretty.Core.html#4923" class="Function">indents</a> <a id="5749" href="Text.Pretty.Core.html#4402" class="Function">pad</a>                <a id="5768" class="Comment">{-|-}</a>  <a id="5775" href="Text.Pretty.Core.html#5491" class="Bound">tl</a><a id="5777" class="Symbol">)</a>    <a id="5782" class="Comment">{-,----&#39;-}</a>
      <a id="5799" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5801" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="5808" href="Text.Pretty.Core.html#4402" class="Function">pad</a>                <a id="5827" class="Comment">{-|-}</a> <a id="5833" href="Text.Pretty.Core.html#4256" class="Function">lasty</a>   <a id="5841" class="Comment">{-|-}</a>
                                  <a id="5881" class="Comment">{-&#39;-------------&#39;-}</a>

    <a id="append.vBlock"></a><a id="5906" href="Text.Pretty.Core.html#5906" class="Function">vBlock</a> <a id="5913" class="Symbol">=</a> <a id="5915" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="5921" href="Text.Pretty.Core.html#5341" class="Function">vContent</a>
    <a id="append.vLast"></a><a id="5934" href="Text.Pretty.Core.html#5934" class="Function">vLast</a>  <a id="5941" class="Symbol">=</a> <a id="5943" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="5949" href="Text.Pretty.Core.html#5341" class="Function">vContent</a>

    <a id="append.isBlock"></a><a id="5963" href="Text.Pretty.Core.html#5963" class="Function">isBlock</a> <a id="5971" class="Symbol">:</a> <a id="5973" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="5978" href="Text.Pretty.Core.html#4110" class="Function">blockx</a> <a id="5985" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5987" href="Text.Pretty.Core.html#2373" class="Function">x.height</a> <a id="5996" class="Symbol">→</a> <a id="5998" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="6003" href="Text.Pretty.Core.html#4138" class="Function">blocky</a> <a id="6010" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6012" href="Text.Pretty.Core.html#2373" class="Field">y.height</a> <a id="6021" class="Symbol">→</a>
              <a id="6037" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="6042" href="Text.Pretty.Core.html#5906" class="Function">vBlock</a> <a id="6049" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6051" href="Text.Pretty.Core.html#4283" class="Function">height</a>
    <a id="6062" href="Text.Pretty.Core.html#5963" class="Function">isBlock</a> <a id="6070" href="Text.Pretty.Core.html#6070" class="Bound">∣x∣</a> <a id="6074" href="Text.Pretty.Core.html#6074" class="Bound">∣y∣</a> <a id="6078" class="Keyword">with</a> <a id="6083" href="Text.Pretty.Core.html#4138" class="Function">blocky</a>
    <a id="6094" class="Symbol">...</a> <a id="6098" class="Symbol">|</a> <a id="6100" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>        <a id="6115" class="Symbol">=</a> <a id="6117" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
      <a id="6129" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="6134" href="Text.Pretty.Core.html#4110" class="Function">blockx</a>         <a id="6149" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="6152" class="Bound">∣x∣</a> <a id="6156" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="6164" href="Text.Pretty.Core.html#2373" class="Function">x.height</a>            <a id="6184" href="Relation.Binary.Reasoning.Syntax.html#11078" class="Function">≡⟨</a> <a id="6187" href="Data.Nat.Properties.html#14706" class="Function">+-identityʳ</a> <a id="6199" href="Text.Pretty.Core.html#2373" class="Function">x.height</a> <a id="6208" href="Relation.Binary.Reasoning.Syntax.html#11078" class="Function">⟨</a>
      <a id="6216" href="Text.Pretty.Core.html#2373" class="Function">x.height</a> <a id="6225" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="6227" class="Number">0</a>        <a id="6236" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="6239" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="6244" class="Symbol">(_</a> <a id="6247" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+_</a><a id="6249" class="Symbol">)</a> <a id="6251" class="Bound">∣y∣</a> <a id="6255" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="6263" href="Text.Pretty.Core.html#2373" class="Function">x.height</a> <a id="6272" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="6274" href="Text.Pretty.Core.html#2373" class="Field">y.height</a> <a id="6283" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a> <a id="6285" class="Keyword">where</a> <a id="6291" class="Keyword">open</a> <a id="6296" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a>
    <a id="6312" class="Symbol">...</a> <a id="6316" class="Symbol">|</a> <a id="6318" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6323" class="Symbol">(</a><a id="6324" href="Text.Pretty.Core.html#6324" class="Bound">hd</a> <a id="6327" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6329" href="Text.Pretty.Core.html#6329" class="Bound">tl</a><a id="6331" class="Symbol">)</a> <a id="6333" class="Symbol">=</a> <a id="6335" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
      <a id="6347" href="Text.Pretty.Core.html#6754" class="Function">∣node∣</a>                            <a id="6381" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="6384" href="Text.Pretty.Core.html#3298" class="Function">∣node?∣</a> <a id="6392" href="Text.Pretty.Core.html#4110" class="Function">blockx</a> <a id="6399" href="Text.Pretty.Core.html#6656" class="Function">middle</a> <a id="6406" href="Text.Pretty.Core.html#6685" class="Function">rest</a> <a id="6411" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="6419" href="Text.Pretty.Core.html#6627" class="Function">∣blockx∣</a> <a id="6428" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="6430" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6434" class="Symbol">(</a><a id="6435" href="Data.Tree.Binary.html#1083" class="Function">#nodes</a> <a id="6442" href="Text.Pretty.Core.html#6685" class="Function">rest</a><a id="6446" class="Symbol">)</a> <a id="6448" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="6451" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="6456" class="Symbol">((</a><a id="6458" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="6463" href="Text.Pretty.Core.html#4110" class="Function">blockx</a> <a id="6470" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+_</a><a id="6472" class="Symbol">)</a> <a id="6474" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="6477" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="6480" class="Symbol">)</a> <a id="6482" href="Text.Pretty.Core.html#6717" class="Function">∣rest∣</a> <a id="6489" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="6497" href="Text.Pretty.Core.html#6627" class="Function">∣blockx∣</a> <a id="6506" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="6508" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6512" class="Symbol">(</a><a id="6513" href="Data.Tree.Binary.html#1083" class="Function">#nodes</a> <a id="6520" href="Text.Pretty.Core.html#6329" class="Bound">tl</a><a id="6522" class="Symbol">)</a>   <a id="6526" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="6529" href="Relation.Binary.PropositionalEquality.Core.html#1395" class="Function">cong₂</a> <a id="6535" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="6539" class="Bound">∣x∣</a> <a id="6543" class="Bound">∣y∣</a> <a id="6547" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="6555" href="Text.Pretty.Core.html#2373" class="Function">x.height</a> <a id="6564" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="6566" href="Text.Pretty.Core.html#2373" class="Field">y.height</a>               <a id="6589" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a> <a id="6591" class="Keyword">where</a>

      <a id="6604" class="Keyword">open</a> <a id="6609" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a>
      <a id="6627" href="Text.Pretty.Core.html#6627" class="Function">∣blockx∣</a> <a id="6636" class="Symbol">=</a> <a id="6638" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="6643" href="Text.Pretty.Core.html#4110" class="Function">blockx</a>
      <a id="6656" href="Text.Pretty.Core.html#6656" class="Function">middle</a>   <a id="6665" class="Symbol">=</a> <a id="6667" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="6673" href="Data.String.Base.html#2404" class="Function Operator">++</a> <a id="6676" href="Text.Pretty.Core.html#6324" class="Bound">hd</a>
      <a id="6685" href="Text.Pretty.Core.html#6685" class="Function">rest</a>     <a id="6694" class="Symbol">=</a> <a id="6696" href="Text.Pretty.Core.html#4923" class="Function">indents</a> <a id="6704" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="6708" href="Text.Pretty.Core.html#6329" class="Bound">tl</a>
      <a id="6717" href="Text.Pretty.Core.html#6717" class="Function">∣rest∣</a>   <a id="6726" class="Symbol">=</a> <a id="6728" href="Text.Pretty.Core.html#5021" class="Function">size-indents</a> <a id="6741" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="6745" href="Text.Pretty.Core.html#6329" class="Bound">tl</a>
      <a id="6754" href="Text.Pretty.Core.html#6754" class="Function">∣node∣</a>   <a id="6763" class="Symbol">=</a> <a id="6765" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="6770" class="Symbol">(</a><a id="6771" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="6777" href="Text.Pretty.Core.html#4110" class="Function">blockx</a> <a id="6784" href="Text.Pretty.Core.html#6656" class="Function">middle</a> <a id="6791" href="Text.Pretty.Core.html#6685" class="Function">rest</a><a id="6795" class="Symbol">)</a>

    <a id="append.block"></a><a id="6802" href="Text.Pretty.Core.html#6802" class="Function">block</a> <a id="6808" class="Symbol">:</a> <a id="6810" href="Data.Refinement.html#947" class="Function">[</a> <a id="6812" href="Text.Pretty.Core.html#6812" class="Bound">xs</a> <a id="6815" href="Data.Refinement.html#947" class="Function">∈</a> <a id="6817" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="6825" href="Data.Refinement.html#947" class="Function">∣</a> <a id="6827" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="6832" href="Text.Pretty.Core.html#6812" class="Bound">xs</a> <a id="6835" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6837" href="Text.Pretty.Core.html#4283" class="Function">height</a> <a id="6844" href="Data.Refinement.html#947" class="Function">]</a>
    <a id="6850" href="Text.Pretty.Core.html#6802" class="Function">block</a> <a id="6856" class="Symbol">.</a><a id="6857" href="Data.Refinement.html#653" class="Field">value</a> <a id="6863" class="Symbol">=</a> <a id="6865" href="Text.Pretty.Core.html#5906" class="Function">vBlock</a>
    <a id="6876" href="Text.Pretty.Core.html#6802" class="Function">block</a> <a id="6882" class="Symbol">.</a><a id="6883" href="Data.Refinement.html#671" class="Field">proof</a> <a id="6889" class="Symbol">=</a> <a id="6891" class="Symbol">⦇</a> <a id="6893" href="Text.Pretty.Core.html#5963" class="Function">isBlock</a> <a id="6901" class="Symbol">(</a><a id="6902" href="Text.Pretty.Core.html#2391" class="Field">Block.block</a> <a id="6914" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="6916" class="Symbol">.</a><a id="6917" href="Data.Refinement.html#671" class="Field">proof</a><a id="6922" class="Symbol">)</a> <a id="6924" class="Symbol">(</a><a id="6925" href="Text.Pretty.Core.html#2391" class="Field">Block.block</a> <a id="6937" href="Text.Pretty.Core.html#4041" class="Bound">y</a> <a id="6939" class="Symbol">.</a><a id="6940" href="Data.Refinement.html#671" class="Field">proof</a><a id="6945" class="Symbol">)</a> <a id="6947" class="Symbol">⦈</a>
      <a id="6955" class="Keyword">where</a> <a id="6961" class="Keyword">open</a> <a id="6966" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

    <a id="append.isLastLine"></a><a id="6982" href="Text.Pretty.Core.html#6982" class="Function">isLastLine</a> <a id="6993" class="Symbol">:</a> <a id="6995" href="Data.String.Base.html#2468" class="Function">length</a> <a id="7002" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="7008" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7010" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="7022" class="Symbol">→</a>
                 <a id="7041" href="Data.String.Base.html#2468" class="Function">length</a> <a id="7048" href="Text.Pretty.Core.html#4256" class="Function">lasty</a> <a id="7054" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7056" href="Text.Pretty.Core.html#2458" class="Field">y.lastWidth</a> <a id="7068" class="Symbol">→</a>
                 <a id="7087" href="Data.String.Base.html#2468" class="Function">length</a> <a id="7094" href="Text.Pretty.Core.html#5934" class="Function">vLast</a> <a id="7100" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7102" href="Text.Pretty.Core.html#4338" class="Function">lastWidth</a>
    <a id="7116" href="Text.Pretty.Core.html#6982" class="Function">isLastLine</a> <a id="7127" href="Text.Pretty.Core.html#7127" class="Bound">∣x∣</a> <a id="7131" href="Text.Pretty.Core.html#7131" class="Bound">∣y∣</a> <a id="7135" class="Keyword">with</a> <a id="7140" href="Text.Pretty.Core.html#4138" class="Function">blocky</a>
    <a id="7151" class="Symbol">...</a> <a id="7155" class="Symbol">|</a> <a id="7157" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>        <a id="7172" class="Symbol">=</a> <a id="7174" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
      <a id="7186" href="Data.String.Base.html#2468" class="Function">length</a> <a id="7193" class="Symbol">(</a><a id="7194" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="7200" href="Data.String.Base.html#2404" class="Function Operator">++</a> <a id="7203" href="Text.Pretty.Core.html#4256" class="Function">lasty</a><a id="7208" class="Symbol">)</a>       <a id="7216" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="7219" href="Data.String.Unsafe.html#1331" class="Function">length-++</a> <a id="7229" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="7235" href="Text.Pretty.Core.html#4256" class="Function">lasty</a> <a id="7241" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="7249" href="Data.String.Base.html#2468" class="Function">length</a> <a id="7256" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="7262" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7264" href="Data.String.Base.html#2468" class="Function">length</a> <a id="7271" href="Text.Pretty.Core.html#4256" class="Function">lasty</a>   <a id="7279" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="7282" href="Relation.Binary.PropositionalEquality.Core.html#1395" class="Function">cong₂</a> <a id="7288" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="7292" class="Bound">∣x∣</a> <a id="7296" class="Bound">∣y∣</a> <a id="7300" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="7308" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="7320" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7322" href="Text.Pretty.Core.html#2458" class="Field">y.lastWidth</a>     <a id="7338" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a> <a id="7340" class="Keyword">where</a> <a id="7346" class="Keyword">open</a> <a id="7351" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a>
    <a id="7367" class="Symbol">...</a> <a id="7371" class="Symbol">|</a> <a id="7373" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7378" class="Symbol">(</a><a id="7379" href="Text.Pretty.Core.html#7379" class="Bound">hd</a> <a id="7382" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7384" href="Text.Pretty.Core.html#7384" class="Bound">tl</a><a id="7386" class="Symbol">)</a> <a id="7388" class="Symbol">=</a> <a id="7390" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
      <a id="7402" href="Data.String.Base.html#2468" class="Function">length</a> <a id="7409" class="Symbol">(</a><a id="7410" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="7417" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="7421" href="Text.Pretty.Core.html#4256" class="Function">lasty</a><a id="7426" class="Symbol">)</a>          <a id="7437" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="7440" href="Text.Pretty.Core.html#4731" class="Function">size-indent</a> <a id="7452" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="7456" href="Text.Pretty.Core.html#4256" class="Function">lasty</a> <a id="7462" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="7470" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="7477" href="Data.String.Base.html#2468" class="Function">length</a> <a id="7484" class="Number">0</a> <a id="7486" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="7490" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7492" href="Data.String.Base.html#2468" class="Function">length</a> <a id="7499" href="Text.Pretty.Core.html#4256" class="Function">lasty</a> <a id="7505" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="7508" href="Relation.Binary.PropositionalEquality.Core.html#1395" class="Function">cong₂</a> <a id="7514" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="7518" href="Text.Pretty.Core.html#4510" class="Function">size-pad</a> <a id="7527" class="Bound">∣y∣</a> <a id="7531" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="7539" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="7551" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7553" href="Text.Pretty.Core.html#2458" class="Field">y.lastWidth</a>          <a id="7574" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a> <a id="7576" class="Keyword">where</a> <a id="7582" class="Keyword">open</a> <a id="7587" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a>

    <a id="append.last"></a><a id="7604" href="Text.Pretty.Core.html#7604" class="Function">last</a> <a id="7609" class="Symbol">:</a> <a id="7611" href="Data.Refinement.html#947" class="Function">[</a> <a id="7613" href="Text.Pretty.Core.html#7613" class="Bound">s</a> <a id="7615" href="Data.Refinement.html#947" class="Function">∈</a> <a id="7617" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="7624" href="Data.Refinement.html#947" class="Function">∣</a> <a id="7626" href="Data.String.Base.html#2468" class="Function">length</a> <a id="7633" href="Text.Pretty.Core.html#7613" class="Bound">s</a> <a id="7635" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7637" href="Text.Pretty.Core.html#4338" class="Function">lastWidth</a> <a id="7647" href="Data.Refinement.html#947" class="Function">]</a>
    <a id="7653" href="Text.Pretty.Core.html#7604" class="Function">last</a> <a id="7658" class="Symbol">.</a><a id="7659" href="Data.Refinement.html#653" class="Field">value</a> <a id="7665" class="Symbol">=</a> <a id="7667" href="Text.Pretty.Core.html#5934" class="Function">vLast</a>
    <a id="7677" href="Text.Pretty.Core.html#7604" class="Function">last</a> <a id="7682" class="Symbol">.</a><a id="7683" href="Data.Refinement.html#671" class="Field">proof</a> <a id="7689" class="Symbol">=</a> <a id="7691" class="Symbol">⦇</a> <a id="7693" href="Text.Pretty.Core.html#6982" class="Function">isLastLine</a> <a id="7704" class="Symbol">(</a><a id="7705" href="Text.Pretty.Core.html#2476" class="Field">Block.last</a> <a id="7716" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="7718" class="Symbol">.</a><a id="7719" href="Data.Refinement.html#671" class="Field">proof</a><a id="7724" class="Symbol">)</a> <a id="7726" class="Symbol">(</a><a id="7727" href="Text.Pretty.Core.html#2476" class="Field">Block.last</a> <a id="7738" href="Text.Pretty.Core.html#4041" class="Bound">y</a> <a id="7740" class="Symbol">.</a><a id="7741" href="Data.Refinement.html#671" class="Field">proof</a><a id="7746" class="Symbol">)</a> <a id="7748" class="Symbol">⦈</a>
      <a id="7756" class="Keyword">where</a> <a id="7762" class="Keyword">open</a> <a id="7767" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

    <a id="append.vMaxWidth"></a><a id="7783" href="Text.Pretty.Core.html#7783" class="Function">vMaxWidth</a> <a id="7793" class="Symbol">:</a> <a id="7795" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="7801" href="Text.Pretty.Core.html#7783" class="Function">vMaxWidth</a> <a id="7811" class="Symbol">=</a> <a id="7813" href="Text.Pretty.Core.html#4167" class="Function">widthx</a> <a id="7820" href="Data.Nat.Base.html#5479" class="Function Operator">⊔</a> <a id="7822" class="Symbol">(</a><a id="7823" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="7835" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7837" href="Text.Pretty.Core.html#4198" class="Function">widthy</a><a id="7843" class="Symbol">)</a>

    <a id="append.isMaxWidth₁"></a><a id="7850" href="Text.Pretty.Core.html#7850" class="Function">isMaxWidth₁</a> <a id="7862" class="Symbol">:</a> <a id="7864" href="Text.Pretty.Core.html#2458" class="Field">y.lastWidth</a> <a id="7876" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="7878" href="Text.Pretty.Core.html#4198" class="Function">widthy</a> <a id="7885" class="Symbol">→</a> <a id="7887" href="Text.Pretty.Core.html#4338" class="Function">lastWidth</a> <a id="7897" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="7899" href="Text.Pretty.Core.html#7783" class="Function">vMaxWidth</a>
    <a id="7913" href="Text.Pretty.Core.html#7850" class="Function">isMaxWidth₁</a> <a id="7925" href="Text.Pretty.Core.html#7925" class="Bound">p</a> <a id="7927" class="Symbol">=</a> <a id="7929" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
      <a id="7941" href="Text.Pretty.Core.html#4338" class="Function">lastWidth</a>            <a id="7962" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">≤⟨</a> <a id="7965" href="Data.Nat.Properties.html#19083" class="Function">+-monoʳ-≤</a> <a id="7975" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="7987" href="Text.Pretty.Core.html#7925" class="Bound">p</a> <a id="7989" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">⟩</a>
      <a id="7997" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="8009" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8011" href="Text.Pretty.Core.html#4198" class="Function">widthy</a> <a id="8018" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">≤⟨</a> <a id="8021" href="Data.Nat.Properties.html#36790" class="Function">m≤n⊔m</a> <a id="8027" class="Symbol">_</a> <a id="8029" class="Symbol">_</a> <a id="8031" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">⟩</a>
      <a id="8039" href="Text.Pretty.Core.html#7783" class="Function">vMaxWidth</a>            <a id="8060" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a> <a id="8062" class="Keyword">where</a> <a id="8068" class="Keyword">open</a> <a id="8073" href="Data.Nat.Properties.html#13933" class="Module">≤-Reasoning</a>

    <a id="append.isMaxWidth₂"></a><a id="8090" href="Text.Pretty.Core.html#8090" class="Function">isMaxWidth₂</a> <a id="8102" class="Symbol">:</a> <a id="8104" href="Data.String.Base.html#2468" class="Function">length</a> <a id="8111" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="8117" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8119" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="8131" class="Symbol">→</a>
                  <a id="8151" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="8163" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="8165" href="Text.Pretty.Core.html#4167" class="Function">widthx</a> <a id="8172" class="Symbol">→</a>
                  <a id="8192" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="8197" href="Text.Pretty.Core.html#4167" class="Function">widthx</a> <a id="8204" href="Text.Pretty.Core.html#4110" class="Function">blockx</a> <a id="8211" class="Symbol">→</a>
                  <a id="8231" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="8236" href="Text.Pretty.Core.html#4198" class="Function">widthy</a> <a id="8243" href="Text.Pretty.Core.html#4138" class="Function">blocky</a> <a id="8250" class="Symbol">→</a>
                  <a id="8270" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="8275" href="Text.Pretty.Core.html#7783" class="Function">vMaxWidth</a> <a id="8285" href="Text.Pretty.Core.html#5906" class="Function">vBlock</a>
    <a id="8296" href="Text.Pretty.Core.html#8090" class="Function">isMaxWidth₂</a> <a id="8308" href="Text.Pretty.Core.html#8308" class="Bound">∣x∣≡</a> <a id="8313" href="Text.Pretty.Core.html#8313" class="Bound">∣x∣≤</a> <a id="8318" href="Text.Pretty.Core.html#8318" class="Bound">∣xs∣</a> <a id="8323" href="Text.Pretty.Core.html#8323" class="Bound">∣ys∣</a> <a id="8328" class="Keyword">with</a> <a id="8333" href="Text.Pretty.Core.html#4138" class="Function">blocky</a>
    <a id="8344" class="Symbol">...</a> <a id="8348" class="Symbol">|</a> <a id="8350" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>        <a id="8365" class="Symbol">=</a> <a id="8367" href="Text.Pretty.Core.html#3458" class="Function">≤-Content</a> <a id="8377" class="Symbol">(</a><a id="8378" href="Data.Nat.Properties.html#36737" class="Function">m≤m⊔n</a> <a id="8384" class="Symbol">_</a> <a id="8386" class="Symbol">_)</a> <a id="8389" class="Bound">∣xs∣</a>
    <a id="8398" href="Text.Pretty.Core.html#8090" class="Function">isMaxWidth₂</a> <a id="8410" href="Text.Pretty.Core.html#8410" class="Bound">∣x∣≡</a> <a id="8415" href="Text.Pretty.Core.html#8415" class="Bound">∣x∣≤</a> <a id="8420" href="Text.Pretty.Core.html#8420" class="Bound">∣xs∣</a> <a id="8425" class="Symbol">(</a><a id="8426" href="Data.Maybe.Relation.Unary.All.html#1016" class="InductiveConstructor">just</a> <a id="8431" class="Symbol">(</a><a id="8432" href="Text.Pretty.Core.html#8432" class="Bound">∣hd∣</a> <a id="8437" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8439" href="Text.Pretty.Core.html#8439" class="Bound">∣tl∣</a><a id="8443" class="Symbol">))</a>
        <a id="8454" class="Symbol">|</a> <a id="8456" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8461" class="Symbol">(</a><a id="8462" href="Text.Pretty.Core.html#8462" class="Bound">hd</a> <a id="8465" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8467" href="Text.Pretty.Core.html#8467" class="Bound">tl</a><a id="8469" class="Symbol">)</a> <a id="8471" class="Symbol">=</a>
      <a id="8479" href="Text.Pretty.Core.html#3656" class="Function">All≤-node?</a> <a id="8490" class="Symbol">(</a><a id="8491" href="Text.Pretty.Core.html#3458" class="Function">≤-Content</a> <a id="8501" class="Symbol">(</a><a id="8502" href="Data.Nat.Properties.html#36737" class="Function">m≤m⊔n</a> <a id="8508" class="Symbol">_</a> <a id="8510" class="Symbol">_)</a> <a id="8513" href="Text.Pretty.Core.html#8420" class="Bound">∣xs∣</a><a id="8517" class="Symbol">)</a>
                 <a id="8536" href="Text.Pretty.Core.html#8706" class="Function">middle</a>
                 <a id="8560" class="Symbol">(</a><a id="8561" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="8567" class="Symbol">(</a><a id="8568" href="Data.Tree.Binary.Relation.Unary.All.html#638" class="Datatype">Allᵀ.All</a> <a id="8577" class="Symbol">_</a> <a id="8579" href="Relation.Unary.html#1522" class="Function">U</a><a id="8580" class="Symbol">)</a> <a id="8582" class="Symbol">(</a><a id="8583" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="8587" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8589" href="Text.Pretty.Core.html#5182" class="Function">unfold-indents</a> <a id="8604" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="8608" href="Text.Pretty.Core.html#8467" class="Bound">tl</a><a id="8610" class="Symbol">)</a>
                 <a id="8629" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8631" href="Data.Tree.Binary.Relation.Unary.All.Properties.html#865" class="Function">Allᵀₚ.mapₙ⁺</a> <a id="8643" class="Symbol">(</a><a id="8644" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="8651" href="Text.Pretty.Core.html#4402" class="Function">pad</a><a id="8654" class="Symbol">)</a> <a id="8656" class="Symbol">(</a><a id="8657" href="Data.Tree.Binary.Relation.Unary.All.html#998" class="Function">Allᵀ.mapₙ</a> <a id="8667" class="Symbol">(</a><a id="8668" href="Text.Pretty.Core.html#9059" class="Function">indented</a> <a id="8677" class="Symbol">_)</a> <a id="8680" href="Text.Pretty.Core.html#8439" class="Bound">∣tl∣</a><a id="8684" class="Symbol">))</a>
      <a id="8693" class="Keyword">where</a>

      <a id="8706" href="Text.Pretty.Core.html#8706" class="Function">middle</a> <a id="8713" class="Symbol">:</a> <a id="8715" href="Data.String.Base.html#2468" class="Function">length</a> <a id="8722" class="Symbol">(</a><a id="8723" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="8729" href="Data.String.Base.html#2404" class="Function Operator">++</a> <a id="8732" href="Text.Pretty.Core.html#8462" class="Bound">hd</a><a id="8734" class="Symbol">)</a> <a id="8736" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="8738" href="Text.Pretty.Core.html#7783" class="Function">vMaxWidth</a>
      <a id="8754" href="Text.Pretty.Core.html#8706" class="Function">middle</a> <a id="8761" class="Symbol">=</a> <a id="8763" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
        <a id="8777" href="Data.String.Base.html#2468" class="Function">length</a> <a id="8784" class="Symbol">(</a><a id="8785" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="8791" href="Data.String.Base.html#2404" class="Function Operator">++</a> <a id="8794" href="Text.Pretty.Core.html#8462" class="Bound">hd</a><a id="8796" class="Symbol">)</a>     <a id="8802" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="8805" href="Data.String.Unsafe.html#1331" class="Function">length-++</a> <a id="8815" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="8821" href="Text.Pretty.Core.html#8462" class="Bound">hd</a> <a id="8824" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="8834" href="Data.String.Base.html#2468" class="Function">length</a> <a id="8841" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="8847" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8849" href="Data.String.Base.html#2468" class="Function">length</a> <a id="8856" href="Text.Pretty.Core.html#8462" class="Bound">hd</a> <a id="8859" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="8862" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="8867" class="Symbol">(</a><a id="8868" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+</a> <a id="8871" class="Symbol">_)</a> <a id="8874" href="Text.Pretty.Core.html#8410" class="Bound">∣x∣≡</a> <a id="8879" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="8889" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="8901" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8903" href="Data.String.Base.html#2468" class="Function">length</a> <a id="8910" href="Text.Pretty.Core.html#8462" class="Bound">hd</a>  <a id="8914" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">≤⟨</a> <a id="8917" href="Data.Nat.Properties.html#19083" class="Function">+-monoʳ-≤</a> <a id="8927" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="8939" href="Text.Pretty.Core.html#8432" class="Bound">∣hd∣</a> <a id="8944" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">⟩</a>
        <a id="8954" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="8966" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8968" href="Text.Pretty.Core.html#4198" class="Function">widthy</a>     <a id="8979" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">≤⟨</a> <a id="8982" href="Data.Nat.Properties.html#36790" class="Function">m≤n⊔m</a> <a id="8988" class="Symbol">_</a> <a id="8990" class="Symbol">_</a> <a id="8992" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">⟩</a>
        <a id="9002" href="Text.Pretty.Core.html#7783" class="Function">vMaxWidth</a>                <a id="9027" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a> <a id="9029" class="Keyword">where</a> <a id="9035" class="Keyword">open</a> <a id="9040" href="Data.Nat.Properties.html#13933" class="Module">≤-Reasoning</a>

      <a id="9059" href="Text.Pretty.Core.html#9059" class="Function">indented</a> <a id="9068" class="Symbol">:</a> <a id="9070" class="Symbol">∀</a> <a id="9072" href="Text.Pretty.Core.html#9072" class="Bound">s</a> <a id="9074" class="Symbol">→</a> <a id="9076" href="Data.String.Base.html#2468" class="Function">length</a> <a id="9083" href="Text.Pretty.Core.html#9072" class="Bound">s</a> <a id="9085" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="9087" href="Text.Pretty.Core.html#4198" class="Function">widthy</a> <a id="9094" class="Symbol">→</a>
                 <a id="9113" href="Data.String.Base.html#2468" class="Function">length</a> <a id="9120" class="Symbol">(</a><a id="9121" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="9128" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="9132" href="Text.Pretty.Core.html#9072" class="Bound">s</a><a id="9133" class="Symbol">)</a> <a id="9135" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="9137" href="Text.Pretty.Core.html#7783" class="Function">vMaxWidth</a>
      <a id="9153" href="Text.Pretty.Core.html#9059" class="Function">indented</a> <a id="9162" href="Text.Pretty.Core.html#9162" class="Bound">s</a> <a id="9164" href="Text.Pretty.Core.html#9164" class="Bound">∣s∣</a> <a id="9168" class="Symbol">=</a> <a id="9170" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
        <a id="9184" href="Data.String.Base.html#2468" class="Function">length</a> <a id="9191" class="Symbol">(</a><a id="9192" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="9199" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="9203" href="Text.Pretty.Core.html#9162" class="Bound">s</a><a id="9204" class="Symbol">)</a>          <a id="9215" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="9218" href="Text.Pretty.Core.html#4731" class="Function">size-indent</a> <a id="9230" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="9234" href="Text.Pretty.Core.html#9162" class="Bound">s</a> <a id="9236" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="9246" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="9253" href="Data.String.Base.html#2468" class="Function">length</a> <a id="9260" class="Number">0</a> <a id="9262" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="9266" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="9268" href="Data.String.Base.html#2468" class="Function">length</a> <a id="9275" href="Text.Pretty.Core.html#9162" class="Bound">s</a> <a id="9277" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="9280" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="9285" class="Symbol">(</a><a id="9286" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+</a> <a id="9289" class="Symbol">_)</a> <a id="9292" href="Text.Pretty.Core.html#4510" class="Function">size-pad</a> <a id="9301" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="9311" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="9323" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="9325" href="Data.String.Base.html#2468" class="Function">length</a> <a id="9332" href="Text.Pretty.Core.html#9162" class="Bound">s</a>         <a id="9342" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">≤⟨</a> <a id="9345" href="Data.Nat.Properties.html#19083" class="Function">+-monoʳ-≤</a> <a id="9355" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="9367" href="Text.Pretty.Core.html#9164" class="Bound">∣s∣</a> <a id="9371" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">⟩</a>
        <a id="9381" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="9393" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="9395" href="Text.Pretty.Core.html#4198" class="Function">widthy</a>           <a id="9412" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">≤⟨</a> <a id="9415" href="Data.Nat.Properties.html#36790" class="Function">m≤n⊔m</a> <a id="9421" class="Symbol">(</a><a id="9422" href="Text.Pretty.Core.html#4167" class="Function">widthx</a><a id="9428" class="Symbol">)</a> <a id="9430" class="Symbol">_</a> <a id="9432" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">⟩</a>
        <a id="9442" href="Text.Pretty.Core.html#7783" class="Function">vMaxWidth</a>                      <a id="9473" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a> <a id="9475" class="Keyword">where</a> <a id="9481" class="Keyword">open</a> <a id="9486" href="Data.Nat.Properties.html#13933" class="Module">≤-Reasoning</a>

    <a id="append.maxWidth"></a><a id="9503" href="Text.Pretty.Core.html#9503" class="Function">maxWidth</a> <a id="9512" class="Symbol">:</a> <a id="9514" href="Data.Refinement.html#947" class="Function">[</a> <a id="9516" href="Text.Pretty.Core.html#9516" class="Bound">n</a> <a id="9518" href="Data.Refinement.html#947" class="Function">∈</a> <a id="9520" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="9522" href="Data.Refinement.html#947" class="Function">∣</a> <a id="9524" href="Text.Pretty.Core.html#4338" class="Function">lastWidth</a> <a id="9534" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="9536" href="Text.Pretty.Core.html#9516" class="Bound">n</a> <a id="9538" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9540" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="9545" href="Text.Pretty.Core.html#9516" class="Bound">n</a> <a id="9547" href="Text.Pretty.Core.html#5906" class="Function">vBlock</a> <a id="9554" href="Data.Refinement.html#947" class="Function">]</a>
    <a id="9560" href="Text.Pretty.Core.html#9503" class="Function">maxWidth</a> <a id="9569" class="Symbol">.</a><a id="9570" href="Data.Refinement.html#653" class="Field">value</a> <a id="9576" class="Symbol">=</a> <a id="9578" href="Text.Pretty.Core.html#7783" class="Function">vMaxWidth</a>
    <a id="9592" href="Text.Pretty.Core.html#9503" class="Function">maxWidth</a> <a id="9601" class="Symbol">.</a><a id="9602" href="Data.Refinement.html#671" class="Field">proof</a> <a id="9608" class="Symbol">=</a>
      <a id="9616" class="Symbol">⦇</a> <a id="9618" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="9622" class="Symbol">⦇</a> <a id="9624" href="Text.Pretty.Core.html#7850" class="Function">isMaxWidth₁</a> <a id="9636" class="Symbol">(</a><a id="9637" href="Data.Irrelevant.html#963" class="Function">map</a> <a id="9641" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9647" class="Symbol">(</a><a id="9648" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="9663" href="Text.Pretty.Core.html#4041" class="Bound">y</a> <a id="9665" class="Symbol">.</a><a id="9666" href="Data.Refinement.html#671" class="Field">proof</a><a id="9671" class="Symbol">))</a> <a id="9674" class="Symbol">⦈</a>
            <a id="9688" class="Symbol">⦇</a> <a id="9690" href="Text.Pretty.Core.html#8090" class="Function">isMaxWidth₂</a> <a id="9702" class="Symbol">(</a><a id="9703" href="Text.Pretty.Core.html#2476" class="Field">Block.last</a> <a id="9714" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="9716" class="Symbol">.</a><a id="9717" href="Data.Refinement.html#671" class="Field">proof</a><a id="9722" class="Symbol">)</a>
                          <a id="9750" class="Symbol">(</a><a id="9751" href="Data.Irrelevant.html#963" class="Function">map</a> <a id="9755" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9761" class="Symbol">(</a><a id="9762" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="9777" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="9779" class="Symbol">.</a><a id="9780" href="Data.Refinement.html#671" class="Field">proof</a><a id="9785" class="Symbol">))</a>
                          <a id="9814" class="Symbol">(</a><a id="9815" href="Data.Irrelevant.html#963" class="Function">map</a> <a id="9819" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="9825" class="Symbol">(</a><a id="9826" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="9841" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="9843" class="Symbol">.</a><a id="9844" href="Data.Refinement.html#671" class="Field">proof</a><a id="9849" class="Symbol">))</a>
                          <a id="9878" class="Symbol">(</a><a id="9879" href="Data.Irrelevant.html#963" class="Function">map</a> <a id="9883" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="9889" class="Symbol">(</a><a id="9890" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="9905" href="Text.Pretty.Core.html#4041" class="Bound">y</a> <a id="9907" class="Symbol">.</a><a id="9908" href="Data.Refinement.html#671" class="Field">proof</a><a id="9913" class="Symbol">))</a>
            <a id="9928" class="Symbol">⦈</a>
      <a id="9936" class="Symbol">⦈</a> <a id="9938" class="Keyword">where</a> <a id="9944" class="Keyword">open</a> <a id="9949" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

<a id="9961" class="Keyword">infixl</a> <a id="9968" class="Number">4</a> <a id="9970" href="Text.Pretty.Core.html#9975" class="Function Operator">_&lt;&gt;_</a>
<a id="_&lt;&gt;_"></a><a id="9975" href="Text.Pretty.Core.html#9975" class="Function Operator">_&lt;&gt;_</a> <a id="9980" class="Symbol">:</a> <a id="9982" href="Text.Pretty.Core.html#2343" class="Record">Block</a> <a id="9988" class="Symbol">→</a> <a id="9990" href="Text.Pretty.Core.html#2343" class="Record">Block</a> <a id="9996" class="Symbol">→</a> <a id="9998" href="Text.Pretty.Core.html#2343" class="Record">Block</a>
<a id="10004" href="Text.Pretty.Core.html#10004" class="Bound">x</a> <a id="10006" href="Text.Pretty.Core.html#9975" class="Function Operator">&lt;&gt;</a> <a id="10009" href="Text.Pretty.Core.html#10009" class="Bound">y</a> <a id="10011" class="Symbol">=</a> <a id="10013" class="Keyword">record</a> <a id="10020" class="Symbol">{</a> <a id="10022" href="Text.Pretty.Core.html#10022" class="Module">append</a> <a id="10029" href="Text.Pretty.Core.html#10004" class="Bound">x</a> <a id="10031" href="Text.Pretty.Core.html#10009" class="Bound">y</a> <a id="10033" class="Symbol">}</a>

<a id="10036" class="Comment">------------------------------------------------------------------------</a>
<a id="10109" class="Comment">-- Flush (introduces a new line)</a>

<a id="10143" class="Keyword">private</a>
  <a id="10153" class="Keyword">module</a> <a id="flush"></a><a id="10160" href="Text.Pretty.Core.html#10160" class="Module">flush</a> <a id="10166" class="Symbol">(</a><a id="10167" href="Text.Pretty.Core.html#10167" class="Bound">x</a> <a id="10169" class="Symbol">:</a> <a id="10171" href="Text.Pretty.Core.html#2343" class="Record">Block</a><a id="10176" class="Symbol">)</a> <a id="10178" class="Keyword">where</a>

    <a id="10189" class="Keyword">module</a> <a id="flush.x"></a><a id="10196" href="Text.Pretty.Core.html#10196" class="Module">x</a> <a id="10198" class="Symbol">=</a> <a id="10200" href="Text.Pretty.Core.html#2343" class="Module">Block</a> <a id="10206" href="Text.Pretty.Core.html#10167" class="Bound">x</a>
    <a id="flush.blockx"></a><a id="10212" href="Text.Pretty.Core.html#10212" class="Function">blockx</a>  <a id="10220" class="Symbol">=</a> <a id="10222" href="Text.Pretty.Core.html#2391" class="Field">x.block</a> <a id="10230" class="Symbol">.</a><a id="10231" href="Data.Refinement.html#653" class="Field">value</a>
    <a id="flush.lastx"></a><a id="10241" href="Text.Pretty.Core.html#10241" class="Function">lastx</a>   <a id="10249" class="Symbol">=</a> <a id="10251" href="Text.Pretty.Core.html#2476" class="Field">x.last</a> <a id="10258" class="Symbol">.</a><a id="10259" href="Data.Refinement.html#653" class="Field">value</a>
    <a id="flush.widthx"></a><a id="10269" href="Text.Pretty.Core.html#10269" class="Function">widthx</a>  <a id="10277" class="Symbol">=</a> <a id="10279" href="Text.Pretty.Core.html#2557" class="Field">x.maxWidth</a> <a id="10290" class="Symbol">.</a><a id="10291" href="Data.Refinement.html#653" class="Field">value</a>
    <a id="flush.heightx"></a><a id="10301" href="Text.Pretty.Core.html#10301" class="Function">heightx</a> <a id="10309" class="Symbol">=</a> <a id="10311" href="Text.Pretty.Core.html#2373" class="Field">x.height</a>

    <a id="flush.height"></a><a id="10325" href="Text.Pretty.Core.html#10325" class="Function">height</a>    <a id="10335" class="Symbol">=</a> <a id="10337" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="10341" href="Text.Pretty.Core.html#10301" class="Function">heightx</a>
    <a id="flush.lastWidth"></a><a id="10353" href="Text.Pretty.Core.html#10353" class="Function">lastWidth</a> <a id="10363" class="Symbol">=</a> <a id="10365" class="Number">0</a>
    <a id="flush.vMaxWidth"></a><a id="10371" href="Text.Pretty.Core.html#10371" class="Function">vMaxWidth</a> <a id="10381" class="Symbol">=</a> <a id="10383" href="Text.Pretty.Core.html#10269" class="Function">widthx</a>

    <a id="flush.last"></a><a id="10395" href="Text.Pretty.Core.html#10395" class="Function">last</a> <a id="10400" class="Symbol">:</a> <a id="10402" href="Data.Refinement.html#947" class="Function">[</a> <a id="10404" href="Text.Pretty.Core.html#10404" class="Bound">s</a> <a id="10406" href="Data.Refinement.html#947" class="Function">∈</a> <a id="10408" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="10415" href="Data.Refinement.html#947" class="Function">∣</a> <a id="10417" href="Data.String.Base.html#2468" class="Function">length</a> <a id="10424" href="Text.Pretty.Core.html#10404" class="Bound">s</a> <a id="10426" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10428" href="Text.Pretty.Core.html#10353" class="Function">lastWidth</a> <a id="10438" href="Data.Refinement.html#947" class="Function">]</a>
    <a id="10444" href="Text.Pretty.Core.html#10395" class="Function">last</a> <a id="10449" class="Symbol">=</a> <a id="10451" class="String">&quot;&quot;</a> <a id="10454" href="Data.Refinement.html#641" class="InductiveConstructor Operator">,</a> <a id="10456" class="Symbol">⦇</a> <a id="10458" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="10463" class="Symbol">⦈</a> <a id="10465" class="Keyword">where</a> <a id="10471" class="Keyword">open</a> <a id="10476" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

    <a id="flush.vContent"></a><a id="10492" href="Text.Pretty.Core.html#10492" class="Function">vContent</a> <a id="10501" class="Symbol">=</a> <a id="10503" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="10509" href="Text.Pretty.Core.html#10212" class="Function">blockx</a> <a id="10516" href="Text.Pretty.Core.html#10241" class="Function">lastx</a> <a id="10522" class="Symbol">(</a><a id="10523" href="Data.Tree.Binary.html#751" class="InductiveConstructor">leaf</a> <a id="10528" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="10530" class="Symbol">)</a>

    <a id="flush.isBlock"></a><a id="10537" href="Text.Pretty.Core.html#10537" class="Function">isBlock</a> <a id="10545" class="Symbol">:</a> <a id="10547" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="10552" href="Text.Pretty.Core.html#10212" class="Function">blockx</a> <a id="10559" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10561" href="Text.Pretty.Core.html#10301" class="Function">heightx</a> <a id="10569" class="Symbol">→</a> <a id="10571" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="10576" href="Text.Pretty.Core.html#10492" class="Function">vContent</a> <a id="10585" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10587" href="Text.Pretty.Core.html#10325" class="Function">height</a>
    <a id="10598" href="Text.Pretty.Core.html#10537" class="Function">isBlock</a> <a id="10606" href="Text.Pretty.Core.html#10606" class="Bound">∣x∣</a> <a id="10610" class="Symbol">=</a> <a id="10612" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
      <a id="10624" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="10629" href="Text.Pretty.Core.html#10492" class="Function">vContent</a>   <a id="10640" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="10643" href="Text.Pretty.Core.html#3298" class="Function">∣node?∣</a> <a id="10651" href="Text.Pretty.Core.html#10212" class="Function">blockx</a> <a id="10658" href="Text.Pretty.Core.html#10241" class="Function">lastx</a> <a id="10664" class="Symbol">(</a><a id="10665" href="Data.Tree.Binary.html#751" class="InductiveConstructor">leaf</a> <a id="10670" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="10672" class="Symbol">)</a> <a id="10674" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="10682" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="10687" href="Text.Pretty.Core.html#10212" class="Function">blockx</a> <a id="10694" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="10696" class="Number">1</a> <a id="10698" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="10701" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="10706" class="Symbol">(</a><a id="10707" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+</a> <a id="10710" class="Number">1</a><a id="10711" class="Symbol">)</a> <a id="10713" href="Text.Pretty.Core.html#10606" class="Bound">∣x∣</a> <a id="10717" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="10725" href="Text.Pretty.Core.html#10301" class="Function">heightx</a> <a id="10733" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="10735" class="Number">1</a>     <a id="10741" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="10744" href="Data.Nat.Properties.html#14883" class="Function">+-comm</a> <a id="10751" href="Text.Pretty.Core.html#10301" class="Function">heightx</a> <a id="10759" class="Number">1</a> <a id="10761" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="10769" href="Text.Pretty.Core.html#10325" class="Function">height</a>          <a id="10785" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a> <a id="10787" class="Keyword">where</a> <a id="10793" class="Keyword">open</a> <a id="10798" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a>

    <a id="flush.block"></a><a id="10815" href="Text.Pretty.Core.html#10815" class="Function">block</a> <a id="10821" class="Symbol">:</a> <a id="10823" href="Data.Refinement.html#947" class="Function">[</a> <a id="10825" href="Text.Pretty.Core.html#10825" class="Bound">xs</a> <a id="10828" href="Data.Refinement.html#947" class="Function">∈</a> <a id="10830" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="10838" href="Data.Refinement.html#947" class="Function">∣</a> <a id="10840" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="10845" href="Text.Pretty.Core.html#10825" class="Bound">xs</a> <a id="10848" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10850" href="Text.Pretty.Core.html#10325" class="Function">height</a> <a id="10857" href="Data.Refinement.html#947" class="Function">]</a>
    <a id="10863" href="Text.Pretty.Core.html#10815" class="Function">block</a> <a id="10869" class="Symbol">.</a><a id="10870" href="Data.Refinement.html#653" class="Field">value</a> <a id="10876" class="Symbol">=</a> <a id="10878" href="Text.Pretty.Core.html#10492" class="Function">vContent</a>
    <a id="10891" href="Text.Pretty.Core.html#10815" class="Function">block</a> <a id="10897" class="Symbol">.</a><a id="10898" href="Data.Refinement.html#671" class="Field">proof</a> <a id="10904" class="Symbol">=</a> <a id="10906" href="Data.Irrelevant.html#963" class="Function">Irrelevant.map</a> <a id="10921" href="Text.Pretty.Core.html#10537" class="Function">isBlock</a> <a id="10929" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10931" href="Text.Pretty.Core.html#2391" class="Field">Block.block</a> <a id="10943" href="Text.Pretty.Core.html#10167" class="Bound">x</a> <a id="10945" class="Symbol">.</a><a id="10946" href="Data.Refinement.html#671" class="Field">proof</a>

    <a id="flush.maxWidth"></a><a id="10957" href="Text.Pretty.Core.html#10957" class="Function">maxWidth</a> <a id="10966" class="Symbol">:</a> <a id="10968" href="Data.Refinement.html#947" class="Function">[</a> <a id="10970" href="Text.Pretty.Core.html#10970" class="Bound">n</a> <a id="10972" href="Data.Refinement.html#947" class="Function">∈</a> <a id="10974" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="10976" href="Data.Refinement.html#947" class="Function">∣</a> <a id="10978" href="Text.Pretty.Core.html#10353" class="Function">lastWidth</a> <a id="10988" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="10990" href="Text.Pretty.Core.html#10970" class="Bound">n</a> <a id="10992" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10994" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="10999" href="Text.Pretty.Core.html#10970" class="Bound">n</a> <a id="11001" href="Text.Pretty.Core.html#10492" class="Function">vContent</a> <a id="11010" href="Data.Refinement.html#947" class="Function">]</a>
    <a id="11016" href="Text.Pretty.Core.html#10957" class="Function">maxWidth</a> <a id="11025" class="Symbol">.</a><a id="11026" href="Data.Refinement.html#653" class="Field">value</a> <a id="11032" class="Symbol">=</a> <a id="11034" href="Text.Pretty.Core.html#10269" class="Function">widthx</a>
    <a id="11045" href="Text.Pretty.Core.html#10957" class="Function">maxWidth</a> <a id="11054" class="Symbol">.</a><a id="11055" href="Data.Refinement.html#671" class="Field">proof</a> <a id="11061" class="Symbol">=</a> <a id="11063" href="Data.Irrelevant.html#963" class="Function">map</a> <a id="11067" class="Symbol">(</a><a id="11068" href="Data.Nat.Base.html#1714" class="InductiveConstructor">z≤n</a> <a id="11072" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="11074" class="Symbol">)</a>
      <a id="11082" class="Symbol">⦇</a> <a id="11084" href="Text.Pretty.Core.html#3656" class="Function">All≤-node?</a> <a id="11095" class="Symbol">⦇</a> <a id="11097" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="11103" class="Symbol">(</a><a id="11104" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="11119" href="Text.Pretty.Core.html#10167" class="Bound">x</a> <a id="11121" class="Symbol">.</a><a id="11122" href="Data.Refinement.html#671" class="Field">proof</a><a id="11127" class="Symbol">)</a> <a id="11129" class="Symbol">⦈</a>
                   <a id="11150" class="Symbol">⦇</a> <a id="11152" href="Text.Pretty.Core.html#11299" class="Function">middle</a> <a id="11159" class="Symbol">(</a><a id="11160" href="Text.Pretty.Core.html#2476" class="Field">Block.last</a> <a id="11171" href="Text.Pretty.Core.html#10167" class="Bound">x</a> <a id="11173" class="Symbol">.</a><a id="11174" href="Data.Refinement.html#671" class="Field">proof</a><a id="11179" class="Symbol">)</a> <a id="11181" class="Symbol">⦇</a> <a id="11183" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="11189" class="Symbol">(</a><a id="11190" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="11205" href="Text.Pretty.Core.html#10167" class="Bound">x</a> <a id="11207" class="Symbol">.</a><a id="11208" href="Data.Refinement.html#671" class="Field">proof</a><a id="11213" class="Symbol">)</a> <a id="11215" class="Symbol">⦈</a> <a id="11217" class="Symbol">⦈</a>
                   <a id="11238" class="Symbol">(</a><a id="11239" href="Data.Irrelevant.html#1030" class="Function">pure</a> <a id="11244" class="Symbol">(</a><a id="11245" href="Data.Tree.Binary.Relation.Unary.All.html#739" class="InductiveConstructor">leaf</a> <a id="11250" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="11252" class="Symbol">))</a>
      <a id="11261" class="Symbol">⦈</a> <a id="11263" class="Keyword">where</a>

      <a id="11276" class="Keyword">open</a> <a id="11281" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

      <a id="11299" href="Text.Pretty.Core.html#11299" class="Function">middle</a> <a id="11306" class="Symbol">:</a> <a id="11308" href="Data.String.Base.html#2468" class="Function">length</a> <a id="11315" href="Text.Pretty.Core.html#10241" class="Function">lastx</a> <a id="11321" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11323" href="Text.Pretty.Core.html#2458" class="Field">x.lastWidth</a> <a id="11335" class="Symbol">→</a> <a id="11337" href="Text.Pretty.Core.html#2458" class="Field">x.lastWidth</a> <a id="11349" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="11351" href="Text.Pretty.Core.html#10371" class="Function">vMaxWidth</a> <a id="11361" class="Symbol">→</a>
               <a id="11378" href="Data.String.Base.html#2468" class="Function">length</a> <a id="11385" href="Text.Pretty.Core.html#10241" class="Function">lastx</a> <a id="11391" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="11393" href="Text.Pretty.Core.html#10371" class="Function">vMaxWidth</a>
      <a id="11409" href="Text.Pretty.Core.html#11299" class="Function">middle</a> <a id="11416" href="Text.Pretty.Core.html#11416" class="Bound">p</a> <a id="11418" href="Text.Pretty.Core.html#11418" class="Bound">q</a> <a id="11420" class="Symbol">=</a> <a id="11422" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
        <a id="11436" href="Data.String.Base.html#2468" class="Function">length</a> <a id="11443" href="Text.Pretty.Core.html#10241" class="Function">lastx</a> <a id="11449" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="11452" href="Text.Pretty.Core.html#11416" class="Bound">p</a> <a id="11454" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="11464" href="Text.Pretty.Core.html#2458" class="Field">x.lastWidth</a>  <a id="11477" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">≤⟨</a> <a id="11480" href="Text.Pretty.Core.html#11418" class="Bound">q</a> <a id="11482" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">⟩</a>
        <a id="11492" href="Text.Pretty.Core.html#10371" class="Function">vMaxWidth</a>    <a id="11505" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a> <a id="11507" class="Keyword">where</a> <a id="11513" class="Keyword">open</a> <a id="11518" href="Data.Nat.Properties.html#13933" class="Module">≤-Reasoning</a>

<a id="flush"></a><a id="11531" href="Text.Pretty.Core.html#11531" class="Function">flush</a> <a id="11537" class="Symbol">:</a> <a id="11539" href="Text.Pretty.Core.html#2343" class="Record">Block</a> <a id="11545" class="Symbol">→</a> <a id="11547" href="Text.Pretty.Core.html#2343" class="Record">Block</a>
<a id="11553" href="Text.Pretty.Core.html#11531" class="Function">flush</a> <a id="11559" href="Text.Pretty.Core.html#11559" class="Bound">x</a> <a id="11561" class="Symbol">=</a> <a id="11563" class="Keyword">record</a> <a id="11570" class="Symbol">{</a> <a id="11572" href="Text.Pretty.Core.html#11572" class="Module">flush</a> <a id="11578" href="Text.Pretty.Core.html#11559" class="Bound">x</a> <a id="11580" class="Symbol">}</a>

<a id="11583" class="Comment">------------------------------------------------------------------------</a>
<a id="11656" class="Comment">-- Other functions</a>

<a id="render"></a><a id="11676" href="Text.Pretty.Core.html#11676" class="Function">render</a> <a id="11683" class="Symbol">:</a> <a id="11685" href="Text.Pretty.Core.html#2343" class="Record">Block</a> <a id="11691" class="Symbol">→</a> <a id="11693" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="11700" href="Text.Pretty.Core.html#11676" class="Function">render</a> <a id="11707" href="Text.Pretty.Core.html#11707" class="Bound">x</a> <a id="11709" class="Symbol">=</a> <a id="11711" href="Data.String.Base.html#2805" class="Function">unlines</a>
  <a id="11721" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11723" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="11730" class="Symbol">(</a><a id="11731" href="Data.Product.Base.html#3109" class="Function">uncurry</a> <a id="11739" class="Symbol">(λ</a> <a id="11742" href="Text.Pretty.Core.html#11742" class="Bound">hd</a> <a id="11745" href="Text.Pretty.Core.html#11745" class="Bound">tl</a> <a id="11748" class="Symbol">→</a> <a id="11750" href="Text.Pretty.Core.html#11742" class="Bound">hd</a> <a id="11753" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11755" href="Data.Tree.Binary.html#1837" class="Function">Tree.Infix.toList</a> <a id="11773" href="Text.Pretty.Core.html#11745" class="Bound">tl</a><a id="11775" class="Symbol">))</a> <a id="11778" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="11783" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11785" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="11791" class="Symbol">(</a><a id="11792" href="Text.Pretty.Core.html#2391" class="Field">Block.block</a> <a id="11804" href="Text.Pretty.Core.html#11707" class="Bound">x</a> <a id="11806" class="Symbol">.</a><a id="11807" href="Data.Refinement.html#653" class="Field">value</a><a id="11812" class="Symbol">)</a> <a id="11814" class="Symbol">(</a><a id="11815" href="Text.Pretty.Core.html#2476" class="Field">Block.last</a> <a id="11826" href="Text.Pretty.Core.html#11707" class="Bound">x</a> <a id="11828" class="Symbol">.</a><a id="11829" href="Data.Refinement.html#653" class="Field">value</a><a id="11834" class="Symbol">)</a> <a id="11836" class="Symbol">(</a><a id="11837" href="Data.Tree.Binary.html#751" class="InductiveConstructor">leaf</a> <a id="11842" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="11844" class="Symbol">)</a>

<a id="valid"></a><a id="11847" href="Text.Pretty.Core.html#11847" class="Function">valid</a> <a id="11853" class="Symbol">:</a> <a id="11855" class="Symbol">(</a><a id="11856" href="Text.Pretty.Core.html#11856" class="Bound">width</a> <a id="11862" class="Symbol">:</a> <a id="11864" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="11865" class="Symbol">)</a> <a id="11867" class="Symbol">(</a><a id="11868" href="Text.Pretty.Core.html#11868" class="Bound">b</a> <a id="11870" class="Symbol">:</a> <a id="11872" href="Text.Pretty.Core.html#2343" class="Record">Block</a><a id="11877" class="Symbol">)</a> <a id="11879" class="Symbol">→</a> <a id="11881" href="Relation.Nullary.Decidable.Core.html#1485" class="Record">Dec</a> <a id="11885" class="Symbol">(</a><a id="11886" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="11901" href="Text.Pretty.Core.html#11868" class="Bound">b</a> <a id="11903" class="Symbol">.</a><a id="11904" href="Data.Refinement.html#653" class="Field">value</a> <a id="11910" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="11912" href="Text.Pretty.Core.html#11856" class="Bound">width</a><a id="11917" class="Symbol">)</a>
<a id="11919" href="Text.Pretty.Core.html#11847" class="Function">valid</a> <a id="11925" href="Text.Pretty.Core.html#11925" class="Bound">width</a> <a id="11931" href="Text.Pretty.Core.html#11931" class="Bound">b</a> <a id="11933" class="Symbol">=</a> <a id="11935" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="11950" href="Text.Pretty.Core.html#11931" class="Bound">b</a> <a id="11952" class="Symbol">.</a><a id="11953" href="Data.Refinement.html#653" class="Field">value</a> <a id="11959" href="Data.Nat.Properties.html#6146" class="Function Operator">≤?</a> <a id="11962" href="Text.Pretty.Core.html#11925" class="Bound">width</a>
</pre></body></html>