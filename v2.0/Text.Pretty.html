<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Text.Pretty</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Pretty Printing</a>
<a id="125" class="Comment">-- This module is based on Jean-Philippe Bernardy&#39;s functional pearl</a>
<a id="194" class="Comment">-- &quot;A Pretty But Not Greedy Printer&quot;</a>
<a id="231" class="Comment">------------------------------------------------------------------------</a>

<a id="305" class="Symbol">{-#</a> <a id="309" class="Keyword">OPTIONS</a> <a id="317" class="Pragma">--with-K</a> <a id="326" class="Symbol">#-}</a>

<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="357" class="Keyword">using</a> <a id="363" class="Symbol">(</a><a id="364" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="365" class="Symbol">)</a>

<a id="368" class="Keyword">module</a> <a id="375" href="Text.Pretty.html" class="Module">Text.Pretty</a> <a id="387" class="Symbol">(</a><a id="388" href="Text.Pretty.html#388" class="Bound">width</a> <a id="394" class="Symbol">:</a> <a id="396" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="397" class="Symbol">)</a> <a id="399" class="Keyword">where</a>

<a id="406" class="Keyword">import</a> <a id="413" href="Level.html" class="Module">Level</a>
<a id="419" class="Keyword">open</a> <a id="424" class="Keyword">import</a> <a id="431" href="Data.Char.Base.html" class="Module">Data.Char.Base</a> <a id="446" class="Keyword">using</a> <a id="452" class="Symbol">(</a><a id="453" href="Agda.Builtin.Char.html#238" class="Postulate">Char</a><a id="457" class="Symbol">)</a>
<a id="459" class="Keyword">open</a> <a id="464" class="Keyword">import</a> <a id="471" href="Data.List.Base.html" class="Module">Data.List.Base</a>
  <a id="488" class="Keyword">using</a> <a id="494" class="Symbol">(</a><a id="495" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="499" class="Symbol">;</a> <a id="501" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">_∷_</a><a id="504" class="Symbol">;</a> <a id="506" href="Data.List.Base.html#7793" class="InductiveConstructor">[]</a><a id="508" class="Symbol">;</a> <a id="510" href="Data.List.Base.html#5244" class="Function Operator">[_]</a><a id="513" class="Symbol">;</a> <a id="515" href="Data.List.Base.html#8539" class="Function">uncons</a><a id="521" class="Symbol">;</a> <a id="523" href="Data.List.Base.html#1954" class="Function Operator">_++_</a><a id="527" class="Symbol">;</a> <a id="529" href="Data.List.Base.html#1631" class="Function">map</a><a id="532" class="Symbol">;</a> <a id="534" href="Data.List.Base.html#10878" class="Function">filter</a><a id="540" class="Symbol">)</a>
<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="573" class="Symbol">as</a> <a id="576" class="Module">List⁺</a> <a id="582" class="Keyword">using</a> <a id="588" class="Symbol">(</a><a id="589" href="Data.List.NonEmpty.Base.html#2978" class="Function">foldr₁</a><a id="595" class="Symbol">)</a>
<a id="597" class="Keyword">open</a> <a id="602" class="Keyword">import</a> <a id="609" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="625" class="Keyword">using</a> <a id="631" class="Symbol">(</a><a id="632" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a><a id="638" class="Symbol">)</a>
<a id="640" class="Keyword">open</a> <a id="645" class="Keyword">import</a> <a id="652" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="670" class="Keyword">using</a> <a id="676" class="Symbol">(</a><a id="677" href="Data.Product.Base.html#3109" class="Function">uncurry</a><a id="684" class="Symbol">)</a>
<a id="686" class="Keyword">open</a> <a id="691" class="Keyword">import</a> <a id="698" href="Data.String.Base.html" class="Module">Data.String.Base</a> <a id="715" class="Keyword">using</a> <a id="721" class="Symbol">(</a><a id="722" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="728" class="Symbol">;</a> <a id="730" href="Data.String.Base.html#1570" class="Primitive">fromList</a><a id="738" class="Symbol">;</a> <a id="740" href="Data.String.Base.html#2519" class="Function">replicate</a><a id="749" class="Symbol">)</a>
<a id="751" class="Keyword">open</a> <a id="756" class="Keyword">import</a> <a id="763" href="Function.Base.html" class="Module">Function.Base</a> <a id="777" class="Keyword">using</a> <a id="783" class="Symbol">(</a><a id="784" href="Function.Base.html#1115" class="Function Operator">_∘_</a><a id="787" class="Symbol">;</a> <a id="789" href="Function.Base.html#3626" class="Function Operator">_∘′_</a><a id="793" class="Symbol">;</a> <a id="795" href="Function.Base.html#1974" class="Function Operator">_$_</a><a id="798" class="Symbol">)</a>

<a id="801" class="Keyword">open</a> <a id="806" class="Keyword">import</a> <a id="813" href="Effect.Monad.html" class="Module">Effect.Monad</a> <a id="826" class="Keyword">using</a> <a id="832" class="Symbol">(</a><a id="833" href="Effect.Monad.html#779" class="Record">RawMonad</a><a id="841" class="Symbol">)</a>
<a id="843" class="Keyword">import</a> <a id="850" href="Data.List.Effectful.html" class="Module">Data.List.Effectful</a> <a id="870" class="Symbol">as</a> <a id="873" class="Module">List</a>
<a id="878" class="Keyword">open</a> <a id="883" href="Effect.Monad.html#779" class="Module">RawMonad</a> <a id="892" class="Symbol">(</a><a id="893" href="Data.List.Effectful.html#1477" class="Function">List.monad</a> <a id="904" class="Symbol">{</a><a id="905" href="Agda.Primitive.html#915" class="Primitive">Level.zero</a><a id="915" class="Symbol">})</a>

<a id="919" class="Keyword">import</a> <a id="926" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="946" class="Symbol">as</a> <a id="949" class="Module">ℕₚ</a>
<a id="952" class="Keyword">open</a> <a id="957" class="Keyword">import</a> <a id="964" href="Data.List.Extrema.Core.html" class="Module">Data.List.Extrema.Core</a> <a id="987" href="Data.Nat.Properties.html#7413" class="Function">ℕₚ.≤-totalOrder</a> <a id="1003" class="Keyword">using</a> <a id="1009" class="Symbol">(</a><a id="1010" href="Data.List.Extrema.Core.html#2077" class="Function">⊓ᴸ</a><a id="1012" class="Symbol">)</a>

<a id="1015" class="Comment">------------------------------------------------------------------------</a>
<a id="1088" class="Comment">-- Internal representation of documents and rendering function</a>

<a id="1152" class="Keyword">import</a> <a id="1159" href="Text.Pretty.Core.html" class="Module">Text.Pretty.Core</a> <a id="1176" class="Symbol">as</a> <a id="1179" class="Module">Core</a>

<a id="1185" class="Keyword">record</a> <a id="Doc"></a><a id="1192" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="1196" class="Symbol">:</a> <a id="1198" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1202" class="Keyword">where</a>
  <a id="1210" class="Keyword">constructor</a> <a id="mkDoc"></a><a id="1222" href="Text.Pretty.html#1222" class="InductiveConstructor">mkDoc</a>
  <a id="1230" class="Keyword">field</a> <a id="Doc.runDoc"></a><a id="1236" href="Text.Pretty.html#1236" class="Field">runDoc</a> <a id="1243" class="Symbol">:</a> <a id="1245" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1250" href="Text.Pretty.Core.html#2343" class="Record">Core.Block</a>
<a id="1261" class="Keyword">open</a> <a id="1266" href="Text.Pretty.html#1192" class="Module">Doc</a> <a id="1270" class="Keyword">public</a>

<a id="render"></a><a id="1278" href="Text.Pretty.html#1278" class="Function">render</a> <a id="1285" class="Symbol">:</a> <a id="1287" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="1291" class="Symbol">→</a> <a id="1293" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="1300" href="Text.Pretty.html#1278" class="Function">render</a> <a id="1307" class="Symbol">=</a> <a id="1309" href="Text.Pretty.Core.html#11676" class="Function">Core.render</a>
       <a id="1328" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1330" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="1337" class="Symbol">(</a><a id="1338" href="Data.List.NonEmpty.Base.html#2978" class="Function">foldr₁</a> <a id="1345" class="Symbol">(</a><a id="1346" href="Data.List.Extrema.Core.html#2077" class="Function">⊓ᴸ</a> <a id="1349" href="Text.Pretty.Core.html#2373" class="Field">Core.Block.height</a><a id="1366" class="Symbol">)</a> <a id="1368" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="1371" href="Data.Product.Base.html#3109" class="Function">uncurry</a> <a id="1379" href="Data.List.NonEmpty.Base.html#1275" class="InductiveConstructor Operator">List⁺._∷_</a><a id="1388" class="Symbol">)</a> <a id="1390" href="Text.Pretty.Core.html#3025" class="Function">Core.empty</a>
       <a id="1408" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1410" href="Data.List.Base.html#8539" class="Function">uncons</a>
       <a id="1424" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="1427" href="Text.Pretty.html#1236" class="Field">runDoc</a>

<a id="1435" class="Comment">------------------------------------------------------------------------</a>
<a id="1508" class="Comment">-- Basic building blocks</a>

<a id="fail"></a><a id="1534" href="Text.Pretty.html#1534" class="Function">fail</a> <a id="1539" class="Symbol">:</a> <a id="1541" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="1545" href="Text.Pretty.html#1534" class="Function">fail</a> <a id="1550" class="Symbol">=</a> <a id="1552" href="Text.Pretty.html#1222" class="InductiveConstructor">mkDoc</a> <a id="1558" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="text"></a><a id="1562" href="Text.Pretty.html#1562" class="Function">text</a> <a id="1567" class="Symbol">:</a> <a id="1569" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1576" class="Symbol">→</a> <a id="1578" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="1582" href="Text.Pretty.html#1562" class="Function">text</a> <a id="1587" class="Symbol">=</a> <a id="1589" href="Text.Pretty.html#1222" class="InductiveConstructor">mkDoc</a> <a id="1595" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="1598" href="Data.List.Base.html#10878" class="Function">filter</a> <a id="1605" class="Symbol">(</a><a id="1606" href="Text.Pretty.Core.html#11847" class="Function">Core.valid</a> <a id="1617" href="Text.Pretty.html#388" class="Bound">width</a><a id="1622" class="Symbol">)</a> <a id="1624" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1626" href="Effect.Applicative.html#1152" class="Function">pure</a> <a id="1631" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1633" href="Text.Pretty.Core.html#2708" class="Function">Core.text</a>

<a id="empty"></a><a id="1644" href="Text.Pretty.html#1644" class="Function">empty</a> <a id="1650" class="Symbol">:</a> <a id="1652" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="1656" href="Text.Pretty.html#1644" class="Function">empty</a> <a id="1662" class="Symbol">=</a> <a id="1664" href="Text.Pretty.html#1562" class="Function">text</a> <a id="1669" class="String">&quot;&quot;</a>

<a id="char"></a><a id="1673" href="Text.Pretty.html#1673" class="Function">char</a> <a id="1678" class="Symbol">:</a> <a id="1680" href="Agda.Builtin.Char.html#238" class="Postulate">Char</a> <a id="1685" class="Symbol">→</a> <a id="1687" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="1691" href="Text.Pretty.html#1673" class="Function">char</a> <a id="1696" href="Text.Pretty.html#1696" class="Bound">c</a> <a id="1698" class="Symbol">=</a> <a id="1700" href="Text.Pretty.html#1562" class="Function">text</a> <a id="1705" class="Symbol">(</a><a id="1706" href="Data.String.Base.html#1570" class="Primitive">fromList</a> <a id="1715" class="Symbol">(</a><a id="1716" href="Text.Pretty.html#1696" class="Bound">c</a> <a id="1718" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1720" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1722" class="Symbol">))</a>

<a id="spaces"></a><a id="1726" href="Text.Pretty.html#1726" class="Function">spaces</a> <a id="1733" class="Symbol">:</a> <a id="1735" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1737" class="Symbol">→</a> <a id="1739" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="1743" href="Text.Pretty.html#1726" class="Function">spaces</a> <a id="1750" href="Text.Pretty.html#1750" class="Bound">n</a> <a id="1752" class="Symbol">=</a> <a id="1754" href="Text.Pretty.html#1562" class="Function">text</a> <a id="1759" class="Symbol">(</a><a id="1760" href="Data.String.Base.html#2519" class="Function">replicate</a> <a id="1770" href="Text.Pretty.html#1750" class="Bound">n</a> <a id="1772" class="String">&#39; &#39;</a><a id="1775" class="Symbol">)</a>

<a id="semi"></a><a id="1778" href="Text.Pretty.html#1778" class="Function">semi</a> <a id="colon"></a><a id="1783" href="Text.Pretty.html#1783" class="Function">colon</a> <a id="comma"></a><a id="1789" href="Text.Pretty.html#1789" class="Function">comma</a> <a id="space"></a><a id="1795" href="Text.Pretty.html#1795" class="Function">space</a> <a id="dot"></a><a id="1801" href="Text.Pretty.html#1801" class="Function">dot</a> <a id="1805" class="Symbol">:</a> <a id="1807" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="1811" href="Text.Pretty.html#1778" class="Function">semi</a> <a id="1816" class="Symbol">=</a> <a id="1818" href="Text.Pretty.html#1673" class="Function">char</a> <a id="1823" class="String">&#39;;&#39;</a><a id="1826" class="Symbol">;</a> <a id="1828" href="Text.Pretty.html#1783" class="Function">colon</a> <a id="1834" class="Symbol">=</a> <a id="1836" href="Text.Pretty.html#1673" class="Function">char</a> <a id="1841" class="String">&#39;:&#39;</a>
<a id="1845" href="Text.Pretty.html#1789" class="Function">comma</a> <a id="1851" class="Symbol">=</a> <a id="1853" href="Text.Pretty.html#1673" class="Function">char</a> <a id="1858" class="String">&#39;,&#39;</a><a id="1861" class="Symbol">;</a> <a id="1863" href="Text.Pretty.html#1795" class="Function">space</a> <a id="1869" class="Symbol">=</a> <a id="1871" href="Text.Pretty.html#1673" class="Function">char</a> <a id="1876" class="String">&#39; &#39;</a><a id="1879" class="Symbol">;</a> <a id="1881" href="Text.Pretty.html#1801" class="Function">dot</a> <a id="1885" class="Symbol">=</a> <a id="1887" href="Text.Pretty.html#1673" class="Function">char</a> <a id="1892" class="String">&#39;.&#39;</a>

<a id="backslash"></a><a id="1897" href="Text.Pretty.html#1897" class="Function">backslash</a> <a id="forwardslash"></a><a id="1907" href="Text.Pretty.html#1907" class="Function">forwardslash</a> <a id="equal"></a><a id="1920" href="Text.Pretty.html#1920" class="Function">equal</a> <a id="1926" class="Symbol">:</a> <a id="1928" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="1932" href="Text.Pretty.html#1897" class="Function">backslash</a> <a id="1942" class="Symbol">=</a> <a id="1944" href="Text.Pretty.html#1673" class="Function">char</a> <a id="1949" class="String">&#39;\\&#39;</a><a id="1953" class="Symbol">;</a> <a id="1955" href="Text.Pretty.html#1907" class="Function">forwardslash</a> <a id="1968" class="Symbol">=</a> <a id="1970" href="Text.Pretty.html#1673" class="Function">char</a> <a id="1975" class="String">&#39;/&#39;</a><a id="1978" class="Symbol">;</a> <a id="1980" href="Text.Pretty.html#1920" class="Function">equal</a> <a id="1986" class="Symbol">=</a> <a id="1988" href="Text.Pretty.html#1673" class="Function">char</a> <a id="1993" class="String">&#39;=&#39;</a>

<a id="squote"></a><a id="1998" href="Text.Pretty.html#1998" class="Function">squote</a> <a id="dquote"></a><a id="2005" href="Text.Pretty.html#2005" class="Function">dquote</a> <a id="2012" class="Symbol">:</a> <a id="2014" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="2018" href="Text.Pretty.html#1998" class="Function">squote</a> <a id="2025" class="Symbol">=</a> <a id="2027" href="Text.Pretty.html#1673" class="Function">char</a> <a id="2032" class="String">&#39;\&#39;&#39;</a><a id="2036" class="Symbol">;</a> <a id="2038" href="Text.Pretty.html#2005" class="Function">dquote</a> <a id="2045" class="Symbol">=</a> <a id="2047" href="Text.Pretty.html#1673" class="Function">char</a> <a id="2052" class="String">&#39;&quot;&#39;</a>

<a id="lparen"></a><a id="2057" href="Text.Pretty.html#2057" class="Function">lparen</a> <a id="rparen"></a><a id="2064" href="Text.Pretty.html#2064" class="Function">rparen</a> <a id="langle"></a><a id="2071" href="Text.Pretty.html#2071" class="Function">langle</a> <a id="rangle"></a><a id="2078" href="Text.Pretty.html#2078" class="Function">rangle</a> <a id="2085" class="Symbol">:</a> <a id="2087" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="2091" href="Text.Pretty.html#2057" class="Function">lparen</a> <a id="2098" class="Symbol">=</a> <a id="2100" href="Text.Pretty.html#1673" class="Function">char</a> <a id="2105" class="String">&#39;(&#39;</a><a id="2108" class="Symbol">;</a> <a id="2110" href="Text.Pretty.html#2064" class="Function">rparen</a> <a id="2117" class="Symbol">=</a> <a id="2119" href="Text.Pretty.html#1673" class="Function">char</a> <a id="2124" class="String">&#39;)&#39;</a>
<a id="2128" href="Text.Pretty.html#2071" class="Function">langle</a> <a id="2135" class="Symbol">=</a> <a id="2137" href="Text.Pretty.html#1673" class="Function">char</a> <a id="2142" class="String">&#39;&lt;&#39;</a><a id="2145" class="Symbol">;</a> <a id="2147" href="Text.Pretty.html#2078" class="Function">rangle</a> <a id="2154" class="Symbol">=</a> <a id="2156" href="Text.Pretty.html#1673" class="Function">char</a> <a id="2161" class="String">&#39;&gt;&#39;</a>

<a id="lbrace"></a><a id="2166" href="Text.Pretty.html#2166" class="Function">lbrace</a> <a id="rbrace"></a><a id="2173" href="Text.Pretty.html#2173" class="Function">rbrace</a> <a id="llbrace"></a><a id="2180" href="Text.Pretty.html#2180" class="Function">llbrace</a> <a id="rrbrace"></a><a id="2188" href="Text.Pretty.html#2188" class="Function">rrbrace</a> <a id="2196" class="Symbol">:</a> <a id="2198" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="2202" href="Text.Pretty.html#2166" class="Function">lbrace</a> <a id="2209" class="Symbol">=</a> <a id="2211" href="Text.Pretty.html#1673" class="Function">char</a> <a id="2216" class="String">&#39;{&#39;</a><a id="2219" class="Symbol">;</a> <a id="2221" href="Text.Pretty.html#2173" class="Function">rbrace</a> <a id="2228" class="Symbol">=</a> <a id="2230" href="Text.Pretty.html#1673" class="Function">char</a> <a id="2235" class="String">&#39;}&#39;</a>
<a id="2239" href="Text.Pretty.html#2180" class="Function">llbrace</a> <a id="2247" class="Symbol">=</a> <a id="2249" href="Text.Pretty.html#1673" class="Function">char</a> <a id="2254" class="String">&#39;⦃&#39;</a><a id="2257" class="Symbol">;</a> <a id="2259" href="Text.Pretty.html#2188" class="Function">rrbrace</a> <a id="2267" class="Symbol">=</a> <a id="2269" href="Text.Pretty.html#1673" class="Function">char</a> <a id="2274" class="String">&#39;⦄&#39;</a>

<a id="lbracket"></a><a id="2279" href="Text.Pretty.html#2279" class="Function">lbracket</a> <a id="rbracket"></a><a id="2288" href="Text.Pretty.html#2288" class="Function">rbracket</a> <a id="llbracket"></a><a id="2297" href="Text.Pretty.html#2297" class="Function">llbracket</a> <a id="rrbracket"></a><a id="2307" href="Text.Pretty.html#2307" class="Function">rrbracket</a> <a id="2317" class="Symbol">:</a> <a id="2319" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="2323" href="Text.Pretty.html#2279" class="Function">lbracket</a> <a id="2332" class="Symbol">=</a> <a id="2334" href="Text.Pretty.html#1673" class="Function">char</a> <a id="2339" class="String">&#39;[&#39;</a><a id="2342" class="Symbol">;</a> <a id="2344" href="Text.Pretty.html#2288" class="Function">rbracket</a> <a id="2353" class="Symbol">=</a> <a id="2355" href="Text.Pretty.html#1673" class="Function">char</a> <a id="2360" class="String">&#39;]&#39;</a>
<a id="2364" href="Text.Pretty.html#2297" class="Function">llbracket</a> <a id="2374" class="Symbol">=</a> <a id="2376" href="Text.Pretty.html#1673" class="Function">char</a> <a id="2381" class="String">&#39;⟦&#39;</a><a id="2384" class="Symbol">;</a> <a id="2386" href="Text.Pretty.html#2307" class="Function">rrbracket</a> <a id="2396" class="Symbol">=</a> <a id="2398" href="Text.Pretty.html#1673" class="Function">char</a> <a id="2403" class="String">&#39;⟧&#39;</a>

<a id="2408" class="Comment">------------------------------------------------------------------------</a>
<a id="2481" class="Comment">-- Combining two documents</a>

<a id="2509" class="Keyword">infixr</a> <a id="2516" class="Number">5</a> <a id="2518" href="Text.Pretty.html#2523" class="Function Operator">_&lt;&gt;_</a>
<a id="_&lt;&gt;_"></a><a id="2523" href="Text.Pretty.html#2523" class="Function Operator">_&lt;&gt;_</a> <a id="2528" class="Symbol">:</a> <a id="2530" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="2534" class="Symbol">→</a> <a id="2536" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="2540" class="Symbol">→</a> <a id="2542" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="2546" href="Text.Pretty.html#2546" class="Bound">xs</a> <a id="2549" href="Text.Pretty.html#2523" class="Function Operator">&lt;&gt;</a> <a id="2552" href="Text.Pretty.html#2552" class="Bound">ys</a> <a id="2555" class="Symbol">=</a> <a id="2557" href="Text.Pretty.html#1222" class="InductiveConstructor">mkDoc</a> <a id="2563" href="Function.Base.html#1974" class="Function Operator">$</a>
  <a id="2567" class="Keyword">let</a> <a id="2571" href="Text.Pretty.html#2571" class="Bound">candidates</a> <a id="2582" class="Symbol">=</a> <a id="2584" href="Text.Pretty.Core.html#9975" class="Function Operator">Core._&lt;&gt;_</a> <a id="2594" href="Effect.Functor.html#687" class="Function Operator">&lt;$&gt;</a> <a id="2598" href="Text.Pretty.html#1236" class="Field">runDoc</a> <a id="2605" href="Text.Pretty.html#2546" class="Bound">xs</a> <a id="2608" href="Effect.Applicative.html#1610" class="Function Operator">⊛</a> <a id="2610" href="Text.Pretty.html#1236" class="Field">runDoc</a> <a id="2617" href="Text.Pretty.html#2552" class="Bound">ys</a> <a id="2620" class="Keyword">in</a>
  <a id="2625" href="Data.List.Base.html#10878" class="Function">filter</a> <a id="2632" class="Symbol">(</a><a id="2633" href="Text.Pretty.Core.html#11847" class="Function">Core.valid</a> <a id="2644" href="Text.Pretty.html#388" class="Bound">width</a><a id="2649" class="Symbol">)</a> <a id="2651" href="Text.Pretty.html#2571" class="Bound">candidates</a>


<a id="flush"></a><a id="2664" href="Text.Pretty.html#2664" class="Function">flush</a> <a id="2670" class="Symbol">:</a> <a id="2672" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="2676" class="Symbol">→</a> <a id="2678" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="2682" href="Text.Pretty.html#2664" class="Function">flush</a> <a id="2688" class="Symbol">=</a> <a id="2690" href="Text.Pretty.html#1222" class="InductiveConstructor">mkDoc</a> <a id="2696" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="2699" href="Data.List.Base.html#1631" class="Function">map</a> <a id="2703" href="Text.Pretty.Core.html#11531" class="Function">Core.flush</a> <a id="2714" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="2717" href="Text.Pretty.html#1236" class="Field">runDoc</a>

<a id="2725" class="Keyword">infixr</a> <a id="2732" class="Number">5</a> <a id="2734" href="Text.Pretty.html#2740" class="Function Operator">_&lt;+&gt;_</a>
<a id="_&lt;+&gt;_"></a><a id="2740" href="Text.Pretty.html#2740" class="Function Operator">_&lt;+&gt;_</a> <a id="2746" class="Symbol">:</a> <a id="2748" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="2752" class="Symbol">→</a> <a id="2754" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="2758" class="Symbol">→</a> <a id="2760" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="2764" href="Text.Pretty.html#2764" class="Bound">x</a> <a id="2766" href="Text.Pretty.html#2740" class="Function Operator">&lt;+&gt;</a> <a id="2770" href="Text.Pretty.html#2770" class="Bound">y</a> <a id="2772" class="Symbol">=</a> <a id="2774" href="Text.Pretty.html#2764" class="Bound">x</a> <a id="2776" href="Text.Pretty.html#2523" class="Function Operator">&lt;&gt;</a> <a id="2779" href="Text.Pretty.html#1795" class="Function">space</a> <a id="2785" href="Text.Pretty.html#2523" class="Function Operator">&lt;&gt;</a> <a id="2788" href="Text.Pretty.html#2770" class="Bound">y</a>

<a id="2791" class="Keyword">infixr</a> <a id="2798" class="Number">5</a> <a id="2800" href="Text.Pretty.html#2805" class="Function Operator">_$$_</a>
<a id="_$$_"></a><a id="2805" href="Text.Pretty.html#2805" class="Function Operator">_$$_</a> <a id="2810" class="Symbol">:</a> <a id="2812" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="2816" class="Symbol">→</a> <a id="2818" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="2822" class="Symbol">→</a> <a id="2824" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="2828" href="Text.Pretty.html#2828" class="Bound">x</a> <a id="2830" href="Text.Pretty.html#2805" class="Function Operator">$$</a> <a id="2833" href="Text.Pretty.html#2833" class="Bound">y</a> <a id="2835" class="Symbol">=</a> <a id="2837" href="Text.Pretty.html#2664" class="Function">flush</a> <a id="2843" href="Text.Pretty.html#2828" class="Bound">x</a> <a id="2845" href="Text.Pretty.html#2523" class="Function Operator">&lt;&gt;</a> <a id="2848" href="Text.Pretty.html#2833" class="Bound">y</a>

<a id="2851" class="Keyword">infixr</a> <a id="2858" class="Number">4</a> <a id="2860" href="Text.Pretty.html#2866" class="Function Operator">_&lt;|&gt;_</a>
<a id="_&lt;|&gt;_"></a><a id="2866" href="Text.Pretty.html#2866" class="Function Operator">_&lt;|&gt;_</a> <a id="2872" class="Symbol">:</a> <a id="2874" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="2878" class="Symbol">→</a> <a id="2880" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="2884" class="Symbol">→</a> <a id="2886" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="2890" href="Text.Pretty.html#2890" class="Bound">x</a> <a id="2892" href="Text.Pretty.html#2866" class="Function Operator">&lt;|&gt;</a> <a id="2896" href="Text.Pretty.html#2896" class="Bound">y</a> <a id="2898" class="Symbol">=</a> <a id="2900" href="Text.Pretty.html#1222" class="InductiveConstructor">mkDoc</a> <a id="2906" class="Symbol">(</a><a id="2907" href="Text.Pretty.html#1236" class="Field">runDoc</a> <a id="2914" href="Text.Pretty.html#2890" class="Bound">x</a> <a id="2916" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="2919" href="Text.Pretty.html#1236" class="Field">runDoc</a> <a id="2926" href="Text.Pretty.html#2896" class="Bound">y</a><a id="2927" class="Symbol">)</a>

<a id="2930" class="Comment">------------------------------------------------------------------------</a>
<a id="3003" class="Comment">-- Combining lists of documents</a>

<a id="foldDoc"></a><a id="3036" href="Text.Pretty.html#3036" class="Function">foldDoc</a> <a id="3044" class="Symbol">:</a> <a id="3046" class="Symbol">(</a><a id="3047" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="3051" class="Symbol">→</a> <a id="3053" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="3057" class="Symbol">→</a> <a id="3059" href="Text.Pretty.html#1192" class="Record">Doc</a><a id="3062" class="Symbol">)</a> <a id="3064" class="Symbol">→</a> <a id="3066" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3071" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="3075" class="Symbol">→</a> <a id="3077" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="3081" href="Text.Pretty.html#3036" class="Function">foldDoc</a> <a id="3089" class="Symbol">_</a> <a id="3091" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>       <a id="3100" class="Symbol">=</a> <a id="3102" href="Text.Pretty.html#1644" class="Function">empty</a>
<a id="3108" href="Text.Pretty.html#3036" class="Function">foldDoc</a> <a id="3116" class="Symbol">_</a> <a id="3118" class="Symbol">(</a><a id="3119" href="Text.Pretty.html#3119" class="Bound">x</a> <a id="3121" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3123" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3125" class="Symbol">)</a> <a id="3127" class="Symbol">=</a> <a id="3129" href="Text.Pretty.html#3119" class="Bound">x</a>
<a id="3131" href="Text.Pretty.html#3036" class="CatchallClause Function">foldDoc</a><a id="3138" class="CatchallClause"> </a><a id="3139" href="Text.Pretty.html#3139" class="CatchallClause Bound">f</a><a id="3140" class="CatchallClause"> </a><a id="3141" class="CatchallClause Symbol">(</a><a id="3142" href="Text.Pretty.html#3142" class="CatchallClause Bound">x</a><a id="3143" class="CatchallClause"> </a><a id="3144" href="Agda.Builtin.List.html#199" class="CatchallClause InductiveConstructor Operator">∷</a><a id="3145" class="CatchallClause"> </a><a id="3146" href="Text.Pretty.html#3146" class="CatchallClause Bound">xs</a><a id="3148" class="CatchallClause Symbol">)</a> <a id="3150" class="Symbol">=</a> <a id="3152" href="Text.Pretty.html#3139" class="Bound">f</a> <a id="3154" href="Text.Pretty.html#3142" class="Bound">x</a> <a id="3156" class="Symbol">(</a><a id="3157" href="Text.Pretty.html#3036" class="Function">foldDoc</a> <a id="3165" href="Text.Pretty.html#3139" class="Bound">f</a> <a id="3167" href="Text.Pretty.html#3146" class="Bound">xs</a><a id="3169" class="Symbol">)</a>

<a id="hsep"></a><a id="3172" href="Text.Pretty.html#3172" class="Function">hsep</a> <a id="vcat"></a><a id="3177" href="Text.Pretty.html#3177" class="Function">vcat</a> <a id="3182" class="Symbol">:</a> <a id="3184" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3189" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="3193" class="Symbol">→</a> <a id="3195" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="3199" href="Text.Pretty.html#3172" class="Function">hsep</a> <a id="3204" class="Symbol">=</a> <a id="3206" href="Text.Pretty.html#3036" class="Function">foldDoc</a> <a id="3214" href="Text.Pretty.html#2740" class="Function Operator">_&lt;+&gt;_</a>
<a id="3220" href="Text.Pretty.html#3177" class="Function">vcat</a> <a id="3225" class="Symbol">=</a> <a id="3227" href="Text.Pretty.html#3036" class="Function">foldDoc</a> <a id="3235" href="Text.Pretty.html#2805" class="Function Operator">_$$_</a>

<a id="sep"></a><a id="3241" href="Text.Pretty.html#3241" class="Function">sep</a> <a id="3245" class="Symbol">:</a> <a id="3247" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3252" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="3256" class="Symbol">→</a> <a id="3258" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="3262" href="Text.Pretty.html#3241" class="Function">sep</a> <a id="3266" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3269" class="Symbol">=</a> <a id="3271" href="Text.Pretty.html#1644" class="Function">empty</a>
<a id="3277" href="Text.Pretty.html#3241" class="CatchallClause Function">sep</a><a id="3280" class="CatchallClause"> </a><a id="3281" href="Text.Pretty.html#3281" class="CatchallClause Bound">xs</a> <a id="3284" class="Symbol">=</a> <a id="3286" href="Text.Pretty.html#3172" class="Function">hsep</a> <a id="3291" href="Text.Pretty.html#3281" class="Bound">xs</a> <a id="3294" href="Text.Pretty.html#2866" class="Function Operator">&lt;|&gt;</a> <a id="3298" href="Text.Pretty.html#3177" class="Function">vcat</a> <a id="3303" href="Text.Pretty.html#3281" class="Bound">xs</a>

<a id="3307" class="Comment">------------------------------------------------------------------------</a>
<a id="3380" class="Comment">-- Defined combinators</a>

<a id="parens"></a><a id="3404" href="Text.Pretty.html#3404" class="Function">parens</a> <a id="3411" class="Symbol">:</a> <a id="3413" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="3417" class="Symbol">→</a> <a id="3419" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="3423" href="Text.Pretty.html#3404" class="Function">parens</a> <a id="3430" href="Text.Pretty.html#3430" class="Bound">d</a> <a id="3432" class="Symbol">=</a> <a id="3434" href="Text.Pretty.html#2057" class="Function">lparen</a> <a id="3441" href="Text.Pretty.html#2523" class="Function Operator">&lt;&gt;</a> <a id="3444" href="Text.Pretty.html#3430" class="Bound">d</a> <a id="3446" href="Text.Pretty.html#2523" class="Function Operator">&lt;&gt;</a> <a id="3449" href="Text.Pretty.html#2064" class="Function">rparen</a>

<a id="commaSep"></a><a id="3457" href="Text.Pretty.html#3457" class="Function">commaSep</a> <a id="3466" class="Symbol">:</a> <a id="3468" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3473" href="Text.Pretty.html#1192" class="Record">Doc</a> <a id="3477" class="Symbol">→</a> <a id="3479" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="3483" href="Text.Pretty.html#3457" class="Function">commaSep</a> <a id="3492" class="Symbol">=</a> <a id="3494" href="Text.Pretty.html#3036" class="Function">foldDoc</a> <a id="3502" class="Symbol">(λ</a> <a id="3505" href="Text.Pretty.html#3505" class="Bound">d</a> <a id="3507" href="Text.Pretty.html#3507" class="Bound">e</a> <a id="3509" class="Symbol">→</a> <a id="3511" href="Text.Pretty.html#3505" class="Bound">d</a> <a id="3513" href="Text.Pretty.html#2523" class="Function Operator">&lt;&gt;</a> <a id="3516" href="Text.Pretty.html#1789" class="Function">comma</a> <a id="3522" href="Text.Pretty.html#2740" class="Function Operator">&lt;+&gt;</a> <a id="3526" href="Text.Pretty.html#3507" class="Bound">e</a><a id="3527" class="Symbol">)</a>

<a id="newline"></a><a id="3530" href="Text.Pretty.html#3530" class="Function">newline</a> <a id="3538" class="Symbol">:</a> <a id="3540" href="Text.Pretty.html#1192" class="Record">Doc</a>
<a id="3544" href="Text.Pretty.html#3530" class="Function">newline</a> <a id="3552" class="Symbol">=</a> <a id="3554" href="Text.Pretty.html#2664" class="Function">flush</a> <a id="3560" href="Text.Pretty.html#1644" class="Function">empty</a>
</pre></body></html>