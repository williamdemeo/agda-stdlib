<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>System.Clock.Primitive</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Primitive System.Clock simple bindings to Haskell functions</a>
<a id="169" class="Comment">------------------------------------------------------------------------</a>

<a id="243" class="Symbol">{-#</a> <a id="247" class="Keyword">OPTIONS</a> <a id="255" class="Pragma">--cubical-compatible</a> <a id="276" class="Symbol">#-}</a>

<a id="281" class="Keyword">module</a> <a id="288" href="System.Clock.Primitive.html" class="Module">System.Clock.Primitive</a> <a id="311" class="Keyword">where</a>

<a id="318" class="Keyword">open</a> <a id="323" class="Keyword">import</a> <a id="330" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="347" class="Keyword">using</a> <a id="353" class="Symbol">(</a><a id="354" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a><a id="357" class="Symbol">)</a>
<a id="359" class="Keyword">open</a> <a id="364" class="Keyword">import</a> <a id="371" href="IO.Primitive.html" class="Module">IO.Primitive</a> <a id="384" class="Keyword">using</a> <a id="390" class="Symbol">(</a><a id="391" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a><a id="393" class="Symbol">)</a>
<a id="395" class="Keyword">open</a> <a id="400" class="Keyword">import</a> <a id="407" href="Foreign.Haskell.html" class="Module">Foreign.Haskell</a> <a id="423" class="Keyword">using</a> <a id="429" class="Symbol">(</a><a id="430" href="Foreign.Haskell.Pair.html#534" class="Record">Pair</a><a id="434" class="Symbol">)</a>

<a id="437" class="Keyword">data</a> <a id="Clock"></a><a id="442" href="System.Clock.Primitive.html#442" class="Datatype">Clock</a> <a id="448" class="Symbol">:</a> <a id="450" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="454" class="Keyword">where</a>
  <a id="Clock.monotonic"></a><a id="462" href="System.Clock.Primitive.html#462" class="InductiveConstructor">monotonic</a> <a id="Clock.realTime"></a><a id="472" href="System.Clock.Primitive.html#472" class="InductiveConstructor">realTime</a> <a id="Clock.processCPUTime"></a><a id="481" href="System.Clock.Primitive.html#481" class="InductiveConstructor">processCPUTime</a> <a id="496" class="Symbol">:</a> <a id="498" href="System.Clock.Primitive.html#442" class="Datatype">Clock</a>
  <a id="Clock.threadCPUTime"></a><a id="506" href="System.Clock.Primitive.html#506" class="InductiveConstructor">threadCPUTime</a> <a id="Clock.monotonicRaw"></a><a id="520" href="System.Clock.Primitive.html#520" class="InductiveConstructor">monotonicRaw</a> <a id="Clock.bootTime"></a><a id="533" href="System.Clock.Primitive.html#533" class="InductiveConstructor">bootTime</a> <a id="542" class="Symbol">:</a> <a id="544" href="System.Clock.Primitive.html#442" class="Datatype">Clock</a>
  <a id="Clock.monotonicCoarse"></a><a id="552" href="System.Clock.Primitive.html#552" class="InductiveConstructor">monotonicCoarse</a> <a id="Clock.realTimeCoarse"></a><a id="568" href="System.Clock.Primitive.html#568" class="InductiveConstructor">realTimeCoarse</a> <a id="583" class="Symbol">:</a> <a id="585" href="System.Clock.Primitive.html#442" class="Datatype">Clock</a>

<a id="592" class="Symbol">{-#</a> <a id="596" class="Keyword">COMPILE</a> <a id="604" class="Keyword">GHC</a> <a id="608" href="System.Clock.Primitive.html#442" class="Datatype">Clock</a> <a id="614" class="Pragma">=</a> <a id="616" class="Pragma">data</a> <a id="621" class="Pragma">Clock</a> <a id="627" class="Pragma">(Monotonic</a> <a id="638" class="Pragma">|</a> <a id="640" class="Pragma">Realtime</a> <a id="649" class="Pragma">|</a> <a id="651" class="Pragma">ProcessCPUTime</a>
                                   <a id="701" class="Pragma">|</a> <a id="703" class="Pragma">ThreadCPUTime</a> <a id="717" class="Pragma">|</a> <a id="719" class="Pragma">MonotonicRaw</a> <a id="732" class="Pragma">|</a> <a id="734" class="Pragma">Boottime</a>
                                   <a id="778" class="Pragma">|</a> <a id="780" class="Pragma">MonotonicCoarse</a> <a id="796" class="Pragma">|</a> <a id="798" class="Pragma">RealtimeCoarse</a> <a id="813" class="Pragma">)</a>
<a id="815" class="Symbol">#-}</a>

<a id="820" class="Keyword">postulate</a> <a id="getTime"></a><a id="830" href="System.Clock.Primitive.html#830" class="Postulate">getTime</a> <a id="838" class="Symbol">:</a> <a id="840" href="System.Clock.Primitive.html#442" class="Datatype">Clock</a> <a id="846" class="Symbol">â†’</a> <a id="848" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="851" class="Symbol">(</a><a id="852" href="Foreign.Haskell.Pair.html#534" class="Record">Pair</a> <a id="857" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a> <a id="861" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a><a id="864" class="Symbol">)</a>

<a id="867" class="Symbol">{-#</a> <a id="871" class="Keyword">FOREIGN</a> <a id="879" class="Pragma">GHC</a> <a id="883" class="Pragma">import</a> <a id="890" class="Pragma">System.Clock</a>  <a id="904" class="Symbol">#-}</a>
<a id="908" class="Symbol">{-#</a> <a id="912" class="Keyword">FOREIGN</a> <a id="920" class="Pragma">GHC</a> <a id="924" class="Pragma">import</a> <a id="931" class="Pragma">Data.Function</a> <a id="945" class="Symbol">#-}</a>
<a id="949" class="Symbol">{-#</a> <a id="953" class="Keyword">COMPILE</a> <a id="961" class="Keyword">GHC</a> <a id="965" href="System.Clock.Primitive.html#830" class="Postulate">getTime</a> <a id="973" class="Pragma">=</a> <a id="975" class="Pragma">fmap</a> <a id="980" class="Pragma">(\</a> <a id="983" class="Pragma">(TimeSpec</a> <a id="993" class="Pragma">a</a> <a id="995" class="Pragma">b)</a> <a id="998" class="Pragma">-&gt;</a> <a id="1001" class="Pragma">((,)</a> <a id="1006" class="Pragma">`on`</a> <a id="1011" class="Pragma">fromIntegral)</a> <a id="1025" class="Pragma">a</a> <a id="1027" class="Pragma">b)</a> <a id="1030" class="Pragma">.</a> <a id="1032" class="Pragma">getTime</a> <a id="1040" class="Symbol">#-}</a>
</pre></body></html>