<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effect.Monad.IO</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- The IO monad</a>
<a id="122" class="Comment">------------------------------------------------------------------------</a>

<a id="196" class="Symbol">{-#</a> <a id="200" class="Keyword">OPTIONS</a> <a id="208" class="Pragma">--cubical-compatible</a> <a id="229" class="Pragma">--guardedness</a> <a id="243" class="Symbol">#-}</a>

<a id="248" class="Keyword">open</a> <a id="253" class="Keyword">import</a> <a id="260" href="Level.html" class="Module">Level</a>

<a id="267" class="Keyword">module</a> <a id="274" href="Effect.Monad.IO.html" class="Module">Effect.Monad.IO</a> <a id="290" class="Keyword">where</a>

<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="327" class="Keyword">using</a> <a id="333" class="Symbol">(</a><a id="334" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="337" class="Symbol">)</a>
<a id="339" class="Keyword">open</a> <a id="344" class="Keyword">import</a> <a id="351" href="Function.Base.html" class="Module">Function.Base</a>
<a id="365" class="Keyword">open</a> <a id="370" class="Keyword">import</a> <a id="377" href="IO.Base.html" class="Module">IO.Base</a> <a id="385" class="Keyword">using</a> <a id="391" class="Symbol">(</a><a id="392" href="IO.Base.html#1180" class="Datatype">IO</a><a id="394" class="Symbol">)</a>
<a id="396" class="Keyword">open</a> <a id="401" class="Keyword">import</a> <a id="408" href="Effect.Functor.html" class="Module">Effect.Functor</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Effect.Monad.html" class="Module">Effect.Monad</a>

<a id="449" class="Keyword">private</a>
  <a id="459" class="Keyword">variable</a>
    <a id="472" href="Effect.Monad.IO.html#472" class="Generalizable">f</a> <a id="474" href="Effect.Monad.IO.html#474" class="Generalizable">g</a> <a id="476" class="Symbol">:</a> <a id="478" href="Agda.Primitive.html#742" class="Postulate">Level</a>
    <a id="488" href="Effect.Monad.IO.html#488" class="Generalizable">A</a> <a id="490" class="Symbol">:</a> <a id="492" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="496" href="Effect.Monad.IO.html#472" class="Generalizable">f</a>
    <a id="502" href="Effect.Monad.IO.html#502" class="Generalizable">M</a> <a id="504" class="Symbol">:</a> <a id="506" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="510" href="Effect.Monad.IO.html#472" class="Generalizable">f</a> <a id="512" class="Symbol">→</a> <a id="514" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="518" href="Effect.Monad.IO.html#474" class="Generalizable">g</a>

<a id="521" class="Comment">------------------------------------------------------------------------</a>
<a id="594" class="Comment">-- IO monad operations</a>

<a id="618" class="Keyword">record</a> <a id="RawMonadIO"></a><a id="625" href="Effect.Monad.IO.html#625" class="Record">RawMonadIO</a>
       <a id="643" class="Symbol">(</a><a id="644" href="Effect.Monad.IO.html#644" class="Bound">M</a> <a id="646" class="Symbol">:</a> <a id="648" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="652" href="Effect.Monad.IO.html#472" class="Generalizable">f</a> <a id="654" class="Symbol">→</a> <a id="656" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="660" class="Symbol">(</a><a id="661" href="Agda.Primitive.html#931" class="Primitive">suc</a> <a id="665" href="Effect.Monad.IO.html#472" class="Generalizable">f</a><a id="666" class="Symbol">))</a>
       <a id="676" class="Symbol">:</a> <a id="678" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="682" class="Symbol">(</a><a id="683" href="Agda.Primitive.html#931" class="Primitive">suc</a> <a id="687" href="Effect.Monad.IO.html#652" class="Bound">f</a><a id="688" class="Symbol">)</a> <a id="690" class="Keyword">where</a>
  <a id="698" class="Keyword">field</a>
    <a id="RawMonadIO.liftIO"></a><a id="708" href="Effect.Monad.IO.html#708" class="Field">liftIO</a> <a id="715" class="Symbol">:</a> <a id="717" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="720" href="Effect.Monad.IO.html#488" class="Generalizable">A</a> <a id="722" class="Symbol">→</a> <a id="724" href="Effect.Monad.IO.html#644" class="Bound">M</a> <a id="726" href="Effect.Monad.IO.html#488" class="Generalizable">A</a>

<a id="729" class="Comment">------------------------------------------------------------------------</a>
<a id="802" class="Comment">-- IO monad specifics</a>

<a id="monadIO"></a><a id="825" href="Effect.Monad.IO.html#825" class="Function">monadIO</a> <a id="833" class="Symbol">:</a> <a id="835" href="Effect.Monad.IO.html#625" class="Record">RawMonadIO</a> <a id="846" class="Symbol">{</a><a id="847" href="Effect.Monad.IO.html#472" class="Generalizable">f</a><a id="848" class="Symbol">}</a> <a id="850" href="IO.Base.html#1180" class="Datatype">IO</a>
<a id="853" href="Effect.Monad.IO.html#825" class="Function">monadIO</a> <a id="861" class="Symbol">=</a> <a id="863" class="Keyword">record</a> <a id="870" class="Symbol">{</a> <a id="872" href="Effect.Monad.IO.html#708" class="Field">liftIO</a> <a id="879" class="Symbol">=</a> <a id="881" href="Function.Base.html#704" class="Function">id</a> <a id="884" class="Symbol">}</a>

<a id="887" class="Keyword">open</a> <a id="892" class="Keyword">import</a> <a id="899" href="Effect.Monad.State.Transformer.Base.html" class="Module">Effect.Monad.State.Transformer.Base</a> <a id="935" class="Keyword">using</a> <a id="941" class="Symbol">(</a><a id="942" href="Effect.Monad.State.Transformer.Base.html#1063" class="Record">StateT</a><a id="948" class="Symbol">;</a> <a id="950" href="Effect.Monad.State.Transformer.Base.html#1176" class="InductiveConstructor">mkStateT</a><a id="958" class="Symbol">)</a>

<a id="liftStateT"></a><a id="961" href="Effect.Monad.IO.html#961" class="Function">liftStateT</a> <a id="972" class="Symbol">:</a> <a id="974" class="Symbol">∀</a> <a id="976" class="Symbol">{</a><a id="977" href="Effect.Monad.IO.html#977" class="Bound">S</a><a id="978" class="Symbol">}</a> <a id="980" class="Symbol">→</a> <a id="982" href="Effect.Functor.html#579" class="Record">RawFunctor</a> <a id="993" href="Effect.Monad.IO.html#502" class="Generalizable">M</a> <a id="995" class="Symbol">→</a> <a id="997" href="Effect.Monad.IO.html#625" class="Record">RawMonadIO</a> <a id="1008" href="Effect.Monad.IO.html#502" class="Generalizable">M</a> <a id="1010" class="Symbol">→</a> <a id="1012" href="Effect.Monad.IO.html#625" class="Record">RawMonadIO</a> <a id="1023" class="Symbol">(</a><a id="1024" href="Effect.Monad.State.Transformer.Base.html#1063" class="Record">StateT</a> <a id="1031" href="Effect.Monad.IO.html#977" class="Bound">S</a> <a id="1033" href="Effect.Monad.IO.html#502" class="Generalizable">M</a><a id="1034" class="Symbol">)</a>
<a id="1036" href="Effect.Monad.IO.html#961" class="Function">liftStateT</a> <a id="1047" href="Effect.Monad.IO.html#1047" class="Bound">M</a> <a id="1049" href="Effect.Monad.IO.html#1049" class="Bound">MIO</a> <a id="1053" class="Symbol">=</a> <a id="1055" class="Keyword">record</a>
  <a id="1064" class="Symbol">{</a> <a id="1066" href="Effect.Monad.IO.html#708" class="Field">liftIO</a> <a id="1073" class="Symbol">=</a> <a id="1075" class="Symbol">λ</a> <a id="1077" href="Effect.Monad.IO.html#1077" class="Bound">io</a> <a id="1080" class="Symbol">→</a> <a id="1082" href="Effect.Monad.State.Transformer.Base.html#1176" class="InductiveConstructor">mkStateT</a> <a id="1091" class="Symbol">(λ</a> <a id="1094" href="Effect.Monad.IO.html#1094" class="Bound">s</a> <a id="1096" class="Symbol">→</a> <a id="1098" class="Symbol">(</a><a id="1099" href="Effect.Monad.IO.html#1094" class="Bound">s</a> <a id="1101" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="1103" class="Symbol">)</a> <a id="1105" href="Effect.Functor.html#687" class="Function Operator">&lt;$&gt;</a> <a id="1109" href="Effect.Monad.IO.html#708" class="Field">liftIO</a> <a id="1116" href="Effect.Monad.IO.html#1077" class="Bound">io</a><a id="1118" class="Symbol">)</a>
  <a id="1122" class="Symbol">}</a> <a id="1124" class="Keyword">where</a> <a id="1130" class="Keyword">open</a> <a id="1135" href="Effect.Functor.html#579" class="Module">RawFunctor</a> <a id="1146" href="Effect.Monad.IO.html#1047" class="Bound">M</a><a id="1147" class="Symbol">;</a> <a id="1149" class="Keyword">open</a> <a id="1154" href="Effect.Monad.IO.html#625" class="Module">RawMonadIO</a> <a id="1165" href="Effect.Monad.IO.html#1049" class="Bound">MIO</a>

<a id="1170" class="Keyword">open</a> <a id="1175" class="Keyword">import</a> <a id="1182" href="Effect.Monad.Reader.Transformer.Base.html" class="Module">Effect.Monad.Reader.Transformer.Base</a> <a id="1219" class="Keyword">using</a> <a id="1225" class="Symbol">(</a><a id="1226" href="Effect.Monad.Reader.Transformer.Base.html#871" class="Record">ReaderT</a><a id="1233" class="Symbol">;</a> <a id="1235" href="Effect.Monad.Reader.Transformer.Base.html#966" class="InductiveConstructor">mkReaderT</a><a id="1244" class="Symbol">)</a>

<a id="liftReaderT"></a><a id="1247" href="Effect.Monad.IO.html#1247" class="Function">liftReaderT</a> <a id="1259" class="Symbol">:</a> <a id="1261" class="Symbol">∀</a> <a id="1263" class="Symbol">{</a><a id="1264" href="Effect.Monad.IO.html#1264" class="Bound">R</a><a id="1265" class="Symbol">}</a> <a id="1267" class="Symbol">→</a> <a id="1269" href="Effect.Monad.IO.html#625" class="Record">RawMonadIO</a> <a id="1280" href="Effect.Monad.IO.html#502" class="Generalizable">M</a> <a id="1282" class="Symbol">→</a> <a id="1284" href="Effect.Monad.IO.html#625" class="Record">RawMonadIO</a> <a id="1295" class="Symbol">(</a><a id="1296" href="Effect.Monad.Reader.Transformer.Base.html#871" class="Record">ReaderT</a> <a id="1304" href="Effect.Monad.IO.html#1264" class="Bound">R</a> <a id="1306" href="Effect.Monad.IO.html#502" class="Generalizable">M</a><a id="1307" class="Symbol">)</a>
<a id="1309" href="Effect.Monad.IO.html#1247" class="Function">liftReaderT</a> <a id="1321" href="Effect.Monad.IO.html#1321" class="Bound">MIO</a> <a id="1325" class="Symbol">=</a> <a id="1327" class="Keyword">record</a>
  <a id="1336" class="Symbol">{</a> <a id="1338" href="Effect.Monad.IO.html#708" class="Field">liftIO</a> <a id="1345" class="Symbol">=</a> <a id="1347" class="Symbol">λ</a> <a id="1349" href="Effect.Monad.IO.html#1349" class="Bound">io</a> <a id="1352" class="Symbol">→</a> <a id="1354" href="Effect.Monad.Reader.Transformer.Base.html#966" class="InductiveConstructor">mkReaderT</a> <a id="1364" class="Symbol">(λ</a> <a id="1367" href="Effect.Monad.IO.html#1367" class="Bound">r</a> <a id="1369" class="Symbol">→</a> <a id="1371" href="Effect.Monad.IO.html#708" class="Field">liftIO</a> <a id="1378" href="Effect.Monad.IO.html#1349" class="Bound">io</a><a id="1380" class="Symbol">)</a>
  <a id="1384" class="Symbol">}</a> <a id="1386" class="Keyword">where</a> <a id="1392" class="Keyword">open</a> <a id="1397" href="Effect.Monad.IO.html#625" class="Module">RawMonadIO</a> <a id="1408" href="Effect.Monad.IO.html#1321" class="Bound">MIO</a>

<a id="1413" class="Keyword">open</a> <a id="1418" class="Keyword">import</a> <a id="1425" href="Effect.Monad.Writer.Transformer.Base.html" class="Module">Effect.Monad.Writer.Transformer.Base</a> <a id="1462" class="Keyword">using</a> <a id="1468" class="Symbol">(</a><a id="1469" href="Effect.Monad.Writer.Transformer.Base.html#1230" class="Record">WriterT</a><a id="1476" class="Symbol">;</a> <a id="1478" href="Effect.Monad.Writer.Transformer.Base.html#1352" class="InductiveConstructor">mkWriterT</a><a id="1487" class="Symbol">)</a>

<a id="liftWriterT"></a><a id="1490" href="Effect.Monad.IO.html#1490" class="Function">liftWriterT</a> <a id="1502" class="Symbol">:</a> <a id="1504" class="Symbol">∀</a> <a id="1506" class="Symbol">{</a><a id="1507" href="Effect.Monad.IO.html#1507" class="Bound">f</a> <a id="1509" href="Effect.Monad.IO.html#1509" class="Bound">𝕎</a><a id="1510" class="Symbol">}</a> <a id="1512" class="Symbol">→</a> <a id="1514" href="Effect.Functor.html#579" class="Record">RawFunctor</a> <a id="1525" href="Effect.Monad.IO.html#502" class="Generalizable">M</a> <a id="1527" class="Symbol">→</a> <a id="1529" href="Effect.Monad.IO.html#625" class="Record">RawMonadIO</a> <a id="1540" href="Effect.Monad.IO.html#502" class="Generalizable">M</a> <a id="1542" class="Symbol">→</a> <a id="1544" href="Effect.Monad.IO.html#625" class="Record">RawMonadIO</a> <a id="1555" class="Symbol">(</a><a id="1556" href="Effect.Monad.Writer.Transformer.Base.html#1230" class="Record">WriterT</a> <a id="1564" class="Symbol">{</a><a id="1565" class="Argument">f</a> <a id="1567" class="Symbol">=</a> <a id="1569" href="Effect.Monad.IO.html#1507" class="Bound">f</a><a id="1570" class="Symbol">}</a> <a id="1572" href="Effect.Monad.IO.html#1509" class="Bound">𝕎</a> <a id="1574" href="Effect.Monad.IO.html#502" class="Generalizable">M</a><a id="1575" class="Symbol">)</a>
<a id="1577" href="Effect.Monad.IO.html#1490" class="Function">liftWriterT</a> <a id="1589" href="Effect.Monad.IO.html#1589" class="Bound">M</a> <a id="1591" href="Effect.Monad.IO.html#1591" class="Bound">MIO</a> <a id="1595" class="Symbol">=</a> <a id="1597" class="Keyword">record</a>
  <a id="1606" class="Symbol">{</a> <a id="1608" href="Effect.Monad.IO.html#708" class="Field">liftIO</a> <a id="1615" class="Symbol">=</a> <a id="1617" class="Symbol">λ</a> <a id="1619" href="Effect.Monad.IO.html#1619" class="Bound">io</a> <a id="1622" class="Symbol">→</a> <a id="1624" href="Effect.Monad.Writer.Transformer.Base.html#1352" class="InductiveConstructor">mkWriterT</a> <a id="1634" class="Symbol">(λ</a> <a id="1637" href="Effect.Monad.IO.html#1637" class="Bound">w</a> <a id="1639" class="Symbol">→</a> <a id="1641" class="Symbol">(</a><a id="1642" href="Effect.Monad.IO.html#1637" class="Bound">w</a> <a id="1644" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="1646" class="Symbol">)</a> <a id="1648" href="Effect.Functor.html#687" class="Function Operator">&lt;$&gt;</a> <a id="1652" href="Effect.Monad.IO.html#708" class="Field">liftIO</a> <a id="1659" href="Effect.Monad.IO.html#1619" class="Bound">io</a><a id="1661" class="Symbol">)</a>
  <a id="1665" class="Symbol">}</a> <a id="1667" class="Keyword">where</a> <a id="1673" class="Keyword">open</a> <a id="1678" href="Effect.Functor.html#579" class="Module">RawFunctor</a> <a id="1689" href="Effect.Monad.IO.html#1589" class="Bound">M</a><a id="1690" class="Symbol">;</a> <a id="1692" class="Keyword">open</a> <a id="1697" href="Effect.Monad.IO.html#625" class="Module">RawMonadIO</a> <a id="1708" href="Effect.Monad.IO.html#1591" class="Bound">MIO</a>
</pre></body></html>