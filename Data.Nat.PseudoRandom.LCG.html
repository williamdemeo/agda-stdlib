<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.PseudoRandom.LCG</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Linear congruential pseudo random generators for natural numbers</a>
<a id="174" class="Comment">-- /!\ NB: LCGs must not be used for cryptographic applications</a>
<a id="238" class="Comment">------------------------------------------------------------------------</a>

<a id="312" class="Symbol">{-#</a> <a id="316" class="Keyword">OPTIONS</a> <a id="324" class="Pragma">--without-K</a> <a id="336" class="Pragma">--safe</a> <a id="343" class="Symbol">#-}</a>

<a id="348" class="Keyword">module</a> <a id="355" href="Data.Nat.PseudoRandom.LCG.html" class="Module">Data.Nat.PseudoRandom.LCG</a> <a id="381" class="Keyword">where</a>

<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="414" class="Keyword">open</a> <a id="419" class="Keyword">import</a> <a id="426" href="Data.Nat.DivMod.html" class="Module">Data.Nat.DivMod</a> <a id="442" class="Keyword">using</a> <a id="448" class="Symbol">(</a><a id="449" href="Data.Nat.Base.html#5260" class="Function Operator">_%_</a><a id="452" class="Symbol">)</a>
<a id="454" class="Keyword">open</a> <a id="459" class="Keyword">import</a> <a id="466" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="481" class="Keyword">using</a> <a id="487" class="Symbol">(</a><a id="488" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="492" class="Symbol">;</a> <a id="494" href="Data.List.Base.html#7361" class="InductiveConstructor">[]</a><a id="496" class="Symbol">;</a> <a id="498" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="501" class="Symbol">)</a>

<a id="504" class="Comment">------------------------------------------------------------------------</a>
<a id="577" class="Comment">-- Type and generator</a>

<a id="600" class="Keyword">record</a> <a id="Generator"></a><a id="607" href="Data.Nat.PseudoRandom.LCG.html#607" class="Record">Generator</a> <a id="617" class="Symbol">:</a> <a id="619" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="623" class="Keyword">where</a>
  <a id="631" class="Keyword">field</a> <a id="Generator.multiplier"></a><a id="637" href="Data.Nat.PseudoRandom.LCG.html#637" class="Field">multiplier</a>     <a id="652" class="Symbol">:</a> <a id="654" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
        <a id="Generator.increment"></a><a id="664" href="Data.Nat.PseudoRandom.LCG.html#664" class="Field">increment</a>      <a id="679" class="Symbol">:</a> <a id="681" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
        <a id="Generator.modulus"></a><a id="691" href="Data.Nat.PseudoRandom.LCG.html#691" class="Field">modulus</a>        <a id="706" class="Symbol">:</a> <a id="708" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
        <a id="718" class="Symbol">.{{</a><a id="Generator.modulus≢0"></a><a id="721" href="Data.Nat.PseudoRandom.LCG.html#721" class="Field">modulus≢0</a><a id="730" class="Symbol">}}</a> <a id="733" class="Symbol">:</a> <a id="735" href="Data.Nat.Base.html#2561" class="Record">NonZero</a> <a id="743" href="Data.Nat.PseudoRandom.LCG.html#691" class="Field">modulus</a>

<a id="step"></a><a id="752" href="Data.Nat.PseudoRandom.LCG.html#752" class="Function">step</a> <a id="757" class="Symbol">:</a> <a id="759" href="Data.Nat.PseudoRandom.LCG.html#607" class="Record">Generator</a> <a id="769" class="Symbol">→</a> <a id="771" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="773" class="Symbol">→</a> <a id="775" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="777" href="Data.Nat.PseudoRandom.LCG.html#752" class="Function">step</a> <a id="782" href="Data.Nat.PseudoRandom.LCG.html#782" class="Bound">gen</a> <a id="786" href="Data.Nat.PseudoRandom.LCG.html#786" class="Bound">x</a> <a id="788" class="Symbol">=</a>
  <a id="792" class="Keyword">let</a> <a id="796" class="Keyword">open</a> <a id="801" href="Data.Nat.PseudoRandom.LCG.html#607" class="Module">Generator</a> <a id="811" href="Data.Nat.PseudoRandom.LCG.html#782" class="Bound">gen</a> <a id="815" class="Keyword">in</a>
  <a id="820" class="Symbol">((</a><a id="822" href="Data.Nat.PseudoRandom.LCG.html#637" class="Function">multiplier</a> <a id="833" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">*</a> <a id="835" href="Data.Nat.PseudoRandom.LCG.html#786" class="Bound">x</a> <a id="837" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="839" href="Data.Nat.PseudoRandom.LCG.html#664" class="Function">increment</a><a id="848" class="Symbol">)</a> <a id="850" href="Data.Nat.Base.html#5260" class="Function Operator">%</a> <a id="852" href="Data.Nat.PseudoRandom.LCG.html#691" class="Function">modulus</a><a id="859" class="Symbol">)</a>

<a id="list"></a><a id="862" href="Data.Nat.PseudoRandom.LCG.html#862" class="Function">list</a> <a id="867" class="Symbol">:</a> <a id="869" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="871" class="Symbol">→</a> <a id="873" href="Data.Nat.PseudoRandom.LCG.html#607" class="Record">Generator</a> <a id="883" class="Symbol">→</a> <a id="885" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="887" class="Symbol">→</a> <a id="889" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="894" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="896" href="Data.Nat.PseudoRandom.LCG.html#862" class="Function">list</a> <a id="901" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="909" href="Data.Nat.PseudoRandom.LCG.html#909" class="Bound">gen</a> <a id="913" href="Data.Nat.PseudoRandom.LCG.html#913" class="Bound">x</a> <a id="915" class="Symbol">=</a> <a id="917" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="920" href="Data.Nat.PseudoRandom.LCG.html#862" class="Function">list</a> <a id="925" class="Symbol">(</a><a id="926" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="930" href="Data.Nat.PseudoRandom.LCG.html#930" class="Bound">k</a><a id="931" class="Symbol">)</a> <a id="933" href="Data.Nat.PseudoRandom.LCG.html#933" class="Bound">gen</a> <a id="937" href="Data.Nat.PseudoRandom.LCG.html#937" class="Bound">x</a> <a id="939" class="Symbol">=</a> <a id="941" href="Data.Nat.PseudoRandom.LCG.html#937" class="Bound">x</a> <a id="943" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="945" href="Data.Nat.PseudoRandom.LCG.html#862" class="Function">list</a> <a id="950" href="Data.Nat.PseudoRandom.LCG.html#930" class="Bound">k</a> <a id="952" href="Data.Nat.PseudoRandom.LCG.html#933" class="Bound">gen</a> <a id="956" class="Symbol">(</a><a id="957" href="Data.Nat.PseudoRandom.LCG.html#752" class="Function">step</a> <a id="962" href="Data.Nat.PseudoRandom.LCG.html#933" class="Bound">gen</a> <a id="966" href="Data.Nat.PseudoRandom.LCG.html#937" class="Bound">x</a><a id="967" class="Symbol">)</a>

<a id="970" class="Comment">------------------------------------------------------------------------</a>
<a id="1043" class="Comment">-- Examples of parameters</a>
<a id="1069" class="Comment">-- Taken from https://en.wikipedia.org/wiki/Linear_congruential_generator</a>

<a id="1144" class="Comment">-- /!\ As explained in that wikipedia entry, none of these are claimed to</a>
<a id="1218" class="Comment">-- be good parameters.</a>

<a id="1242" class="Comment">-- Note also that if you need your output to have good properties you may</a>
<a id="1316" class="Comment">-- need to postprocess the stream of values to only use some of the bits of</a>
<a id="1392" class="Comment">-- the output!</a>

<a id="glibc"></a><a id="1408" href="Data.Nat.PseudoRandom.LCG.html#1408" class="Function">glibc</a> <a id="1414" class="Symbol">:</a> <a id="1416" href="Data.Nat.PseudoRandom.LCG.html#607" class="Record">Generator</a>
<a id="1426" href="Data.Nat.PseudoRandom.LCG.html#1408" class="Function">glibc</a> <a id="1432" class="Symbol">=</a> <a id="1434" class="Keyword">record</a>
  <a id="1443" class="Symbol">{</a> <a id="1445" href="Data.Nat.PseudoRandom.LCG.html#637" class="Field">multiplier</a> <a id="1456" class="Symbol">=</a> <a id="1458" class="Number">1103515245</a>
  <a id="1471" class="Symbol">;</a> <a id="1473" href="Data.Nat.PseudoRandom.LCG.html#664" class="Field">increment</a>  <a id="1484" class="Symbol">=</a> <a id="1486" class="Number">12345</a>
  <a id="1494" class="Symbol">;</a> <a id="1496" href="Data.Nat.PseudoRandom.LCG.html#691" class="Field">modulus</a>    <a id="1507" class="Symbol">=</a> <a id="1509" class="Number">2</a> <a id="1511" href="Data.Nat.Base.html#4542" class="Function Operator">^</a> <a id="1513" class="Number">31</a>
  <a id="1518" class="Symbol">}</a>

<a id="random0"></a><a id="1521" href="Data.Nat.PseudoRandom.LCG.html#1521" class="Function">random0</a> <a id="1529" class="Symbol">:</a> <a id="1531" href="Data.Nat.PseudoRandom.LCG.html#607" class="Record">Generator</a>
<a id="1541" href="Data.Nat.PseudoRandom.LCG.html#1521" class="Function">random0</a> <a id="1549" class="Symbol">=</a> <a id="1551" class="Keyword">record</a>
  <a id="1560" class="Symbol">{</a> <a id="1562" href="Data.Nat.PseudoRandom.LCG.html#637" class="Field">multiplier</a> <a id="1573" class="Symbol">=</a> <a id="1575" class="Number">8121</a>
  <a id="1582" class="Symbol">;</a> <a id="1584" href="Data.Nat.PseudoRandom.LCG.html#664" class="Field">increment</a>  <a id="1595" class="Symbol">=</a> <a id="1597" class="Number">28411</a>
  <a id="1605" class="Symbol">;</a> <a id="1607" href="Data.Nat.PseudoRandom.LCG.html#691" class="Field">modulus</a>    <a id="1618" class="Symbol">=</a> <a id="1620" class="Number">134456</a>
  <a id="1629" class="Symbol">}</a>
</pre></body></html>