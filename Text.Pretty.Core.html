<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Text.Pretty.Core</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Pretty Printing</a>
<a id="125" class="Comment">-- This module is based on Jean-Philippe Bernardy&#39;s functional pearl</a>
<a id="194" class="Comment">-- &quot;A Pretty But Not Greedy Printer&quot;</a>
<a id="231" class="Comment">------------------------------------------------------------------------</a>

<a id="305" class="Symbol">{-#</a> <a id="309" class="Keyword">OPTIONS</a> <a id="317" class="Pragma">--with-K</a> <a id="326" class="Symbol">#-}</a>

<a id="331" class="Keyword">module</a> <a id="338" href="Text.Pretty.Core.html" class="Module">Text.Pretty.Core</a> <a id="355" class="Keyword">where</a>

<a id="362" class="Keyword">import</a> <a id="369" href="Level.html" class="Module">Level</a>

<a id="376" class="Keyword">open</a> <a id="381" class="Keyword">import</a> <a id="388" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="403" class="Keyword">using</a> <a id="409" class="Symbol">(</a><a id="410" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="414" class="Symbol">)</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="Data.Irrelevant.html" class="Module">Data.Irrelevant</a> <a id="444" class="Symbol">as</a> <a id="447" class="Module">Irrelevant</a> <a id="458" class="Keyword">using</a> <a id="464" class="Symbol">(</a><a id="465" href="Data.Irrelevant.html#716" class="Record">Irrelevant</a><a id="475" class="Symbol">)</a> <a id="477" class="Keyword">hiding</a> <a id="484" class="Symbol">(</a><a id="485" class="Keyword">module</a> <a id="492" href="Data.Irrelevant.html#716" class="Module">Irrelevant</a><a id="502" class="Symbol">)</a>
<a id="504" class="Keyword">open</a> <a id="509" class="Keyword">import</a> <a id="516" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="531" class="Symbol">as</a> <a id="534" class="Module">List</a>   <a id="541" class="Keyword">using</a> <a id="547" class="Symbol">(</a><a id="548" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="552" class="Symbol">;</a> <a id="554" href="Data.List.Base.html#7361" class="InductiveConstructor">[]</a><a id="556" class="Symbol">;</a> <a id="558" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="561" class="Symbol">)</a>
<a id="563" class="Keyword">open</a> <a id="568" class="Keyword">import</a> <a id="575" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>            <a id="600" class="Keyword">using</a> <a id="606" class="Symbol">(</a><a id="607" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="608" class="Symbol">;</a> <a id="610" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="614" class="Symbol">;</a> <a id="616" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="619" class="Symbol">;</a> <a id="621" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="624" class="Symbol">;</a> <a id="626" href="Data.Nat.Base.html#3474" class="Function Operator">_⊔_</a><a id="629" class="Symbol">;</a> <a id="631" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a><a id="634" class="Symbol">;</a> <a id="636" href="Data.Nat.Base.html#1558" class="InductiveConstructor">z≤n</a><a id="639" class="Symbol">)</a>
<a id="641" class="Keyword">open</a> <a id="646" class="Keyword">import</a> <a id="653" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>
<a id="673" class="Keyword">open</a> <a id="678" class="Keyword">import</a> <a id="685" href="Data.Product.html" class="Module">Data.Product</a> <a id="698" class="Symbol">as</a> <a id="701" class="Module">Prod</a> <a id="706" class="Keyword">using</a> <a id="712" class="Symbol">(</a><a id="713" href="Data.Product.Base.html#1109" class="Function Operator">_×_</a><a id="716" class="Symbol">;</a> <a id="718" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="721" class="Symbol">;</a> <a id="723" href="Data.Product.Base.html#2600" class="Function">uncurry</a><a id="730" class="Symbol">;</a> <a id="732" href="Data.Product.Base.html#608" class="Field">proj₁</a><a id="737" class="Symbol">;</a> <a id="739" href="Data.Product.Base.html#622" class="Field">proj₂</a><a id="744" class="Symbol">)</a>
<a id="746" class="Keyword">import</a> <a id="753" href="Data.Product.Relation.Unary.All.html" class="Module">Data.Product.Relation.Unary.All</a> <a id="785" class="Symbol">as</a> <a id="788" class="Module">Allᴾ</a>

<a id="794" class="Keyword">open</a> <a id="799" class="Keyword">import</a> <a id="806" href="Data.Tree.Binary.html" class="Module">Data.Tree.Binary</a> <a id="823" class="Symbol">as</a> <a id="826" class="Module">Tree</a> <a id="831" class="Keyword">using</a> <a id="837" class="Symbol">(</a><a id="838" href="Data.Tree.Binary.html#691" class="Datatype">Tree</a><a id="842" class="Symbol">;</a> <a id="844" href="Data.Tree.Binary.html#742" class="InductiveConstructor">leaf</a><a id="848" class="Symbol">;</a> <a id="850" href="Data.Tree.Binary.html#764" class="InductiveConstructor">node</a><a id="854" class="Symbol">;</a> <a id="856" href="Data.Tree.Binary.html#1074" class="Function">#nodes</a><a id="862" class="Symbol">;</a> <a id="864" href="Data.Tree.Binary.html#950" class="Function">mapₙ</a><a id="868" class="Symbol">)</a>
<a id="870" class="Keyword">open</a> <a id="875" class="Keyword">import</a> <a id="882" href="Data.Tree.Binary.Relation.Unary.All.html" class="Module">Data.Tree.Binary.Relation.Unary.All</a> <a id="918" class="Symbol">as</a> <a id="921" class="Module">Allᵀ</a> <a id="926" class="Keyword">using</a> <a id="932" class="Symbol">(</a><a id="933" href="Data.Tree.Binary.Relation.Unary.All.html#730" class="InductiveConstructor">leaf</a><a id="937" class="Symbol">;</a> <a id="939" href="Data.Tree.Binary.Relation.Unary.All.html#770" class="InductiveConstructor">node</a><a id="943" class="Symbol">)</a>
<a id="945" class="Keyword">open</a> <a id="950" class="Keyword">import</a> <a id="957" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="967" class="Keyword">using</a> <a id="973" class="Symbol">(</a><a id="974" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="975" class="Symbol">;</a> <a id="977" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="979" class="Symbol">)</a>
<a id="981" class="Keyword">import</a> <a id="988" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Module">Data.Tree.Binary.Relation.Unary.All.Properties</a> <a id="1035" class="Symbol">as</a> <a id="1038" class="Module">Allᵀₚ</a>
<a id="1044" class="Keyword">import</a> <a id="1051" href="Data.Tree.Binary.Properties.html" class="Module">Data.Tree.Binary.Properties</a> <a id="1079" class="Symbol">as</a> <a id="1082" class="Module">Treeₚ</a>

<a id="1089" class="Keyword">open</a> <a id="1094" class="Keyword">import</a> <a id="1101" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="1117" class="Symbol">as</a> <a id="1120" class="Module">Maybe</a> <a id="1126" class="Keyword">using</a> <a id="1132" class="Symbol">(</a><a id="1133" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a><a id="1138" class="Symbol">;</a> <a id="1140" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a><a id="1147" class="Symbol">;</a> <a id="1149" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a><a id="1153" class="Symbol">;</a> <a id="1155" href="Data.Maybe.Base.html#1569" class="Function">maybe′</a><a id="1161" class="Symbol">)</a>
<a id="1163" class="Keyword">open</a> <a id="1168" class="Keyword">import</a> <a id="1175" href="Data.Maybe.Relation.Unary.All.html" class="Module">Data.Maybe.Relation.Unary.All</a> <a id="1205" class="Symbol">as</a> <a id="1208" class="Module">Allᴹ</a> <a id="1213" class="Keyword">using</a> <a id="1219" class="Symbol">(</a><a id="1220" href="Data.Maybe.Relation.Unary.All.html#1038" class="InductiveConstructor">nothing</a><a id="1227" class="Symbol">;</a> <a id="1229" href="Data.Maybe.Relation.Unary.All.html#997" class="InductiveConstructor">just</a><a id="1233" class="Symbol">)</a>

<a id="1236" class="Keyword">open</a> <a id="1241" class="Keyword">import</a> <a id="1248" href="Data.String.Base.html" class="Module">Data.String.Base</a> <a id="1265" class="Symbol">as</a> <a id="1268" class="Module">String</a>
  <a id="1277" class="Keyword">using</a> <a id="1283" class="Symbol">(</a><a id="1284" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="1290" class="Symbol">;</a> <a id="1292" href="Data.String.Base.html#2478" class="Function">length</a><a id="1298" class="Symbol">;</a> <a id="1300" href="Data.String.Base.html#2529" class="Function">replicate</a><a id="1309" class="Symbol">;</a> <a id="1311" href="Data.String.Base.html#2414" class="Function Operator">_++_</a><a id="1315" class="Symbol">;</a> <a id="1317" href="Data.String.Base.html#2815" class="Function">unlines</a><a id="1324" class="Symbol">)</a>
<a id="1326" class="Keyword">open</a> <a id="1331" class="Keyword">import</a> <a id="1338" href="Data.String.Unsafe.html" class="Module">Data.String.Unsafe</a> <a id="1357" class="Symbol">as</a> <a id="1360" class="Module">Stringₚ</a>
<a id="1368" class="Keyword">open</a> <a id="1373" class="Keyword">import</a> <a id="1380" href="Function.Base.html" class="Module">Function.Base</a>
<a id="1394" class="Keyword">open</a> <a id="1399" class="Keyword">import</a> <a id="1406" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="1433" class="Keyword">using</a> <a id="1439" class="Symbol">(</a><a id="1440" href="Relation.Nullary.Decidable.Core.html#1476" class="Record">Dec</a><a id="1443" class="Symbol">)</a>
<a id="1445" class="Keyword">open</a> <a id="1450" class="Keyword">import</a> <a id="1457" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1472" class="Keyword">using</a> <a id="1478" class="Symbol">(</a><a id="1479" href="Relation.Unary.html#3508" class="Function">IUniversal</a><a id="1489" class="Symbol">;</a> <a id="1491" href="Relation.Unary.html#4500" class="Function Operator">_⇒_</a><a id="1494" class="Symbol">;</a> <a id="1496" href="Relation.Unary.html#1401" class="Function">U</a><a id="1497" class="Symbol">)</a>
<a id="1499" class="Keyword">open</a> <a id="1504" class="Keyword">import</a> <a id="1511" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="1550" class="Keyword">open</a> <a id="1555" class="Keyword">import</a> <a id="1562" href="Data.Refinement.html" class="Module">Data.Refinement</a> <a id="1578" class="Keyword">hiding</a> <a id="1585" class="Symbol">(</a><a id="1586" href="Data.Refinement.html#1060" class="Function">map</a><a id="1589" class="Symbol">)</a>
<a id="1591" class="Keyword">import</a> <a id="1598" href="Data.Refinement.Relation.Unary.All.html" class="Module">Data.Refinement.Relation.Unary.All</a> <a id="1633" class="Symbol">as</a> <a id="1636" class="Module">Allᴿ</a>

<a id="1642" class="Comment">------------------------------------------------------------------------</a>
<a id="1715" class="Comment">-- Block of text</a>

<a id="1733" class="Comment">-- Content is a representation of the first line and the middle of the block.</a>
<a id="1811" class="Comment">-- We use a tree rather than a list for the middle of the block so that we can</a>
<a id="1890" class="Comment">-- extend it with lines on the left and on the line for free. We will ultimately</a>
<a id="1971" class="Comment">-- render the block by traversing the tree left to right in a depth-first manner.</a>

<a id="Content"></a><a id="2054" href="Text.Pretty.Core.html#2054" class="Function">Content</a> <a id="2062" class="Symbol">:</a> <a id="2064" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2068" href="Text.Pretty.Core.html#2054" class="Function">Content</a> <a id="2076" class="Symbol">=</a> <a id="2078" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2084" class="Symbol">(</a><a id="2085" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="2092" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="2094" href="Data.Tree.Binary.html#691" class="Datatype">Tree</a> <a id="2099" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="2106" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="2107" class="Symbol">)</a>

<a id="size"></a><a id="2110" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="2115" class="Symbol">:</a> <a id="2117" href="Text.Pretty.Core.html#2054" class="Function">Content</a> <a id="2125" class="Symbol">→</a> <a id="2127" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="2129" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="2134" class="Symbol">=</a> <a id="2136" href="Data.Maybe.Base.html#1569" class="Function">maybe′</a> <a id="2143" class="Symbol">(</a><a id="2144" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2148" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="2150" href="Data.Tree.Binary.html#1074" class="Function">#nodes</a> <a id="2157" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="2159" href="Data.Product.Base.html#622" class="Field">proj₂</a><a id="2164" class="Symbol">)</a> <a id="2166" class="Number">0</a>

<a id="All"></a><a id="2169" href="Text.Pretty.Core.html#2169" class="Function">All</a> <a id="2173" class="Symbol">:</a> <a id="2175" class="Symbol">∀</a> <a id="2177" class="Symbol">{</a><a id="2178" href="Text.Pretty.Core.html#2178" class="Bound">p</a><a id="2179" class="Symbol">}</a> <a id="2181" class="Symbol">(</a><a id="2182" href="Text.Pretty.Core.html#2182" class="Bound">P</a> <a id="2184" class="Symbol">:</a> <a id="2186" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="2193" class="Symbol">→</a> <a id="2195" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2199" href="Text.Pretty.Core.html#2178" class="Bound">p</a><a id="2200" class="Symbol">)</a> <a id="2202" class="Symbol">→</a> <a id="2204" class="Symbol">(</a><a id="2205" href="Text.Pretty.Core.html#2054" class="Function">Content</a> <a id="2213" class="Symbol">→</a> <a id="2215" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2219" href="Text.Pretty.Core.html#2178" class="Bound">p</a><a id="2220" class="Symbol">)</a>
<a id="2222" href="Text.Pretty.Core.html#2169" class="Function">All</a> <a id="2226" href="Text.Pretty.Core.html#2226" class="Bound">P</a> <a id="2228" class="Symbol">=</a> <a id="2230" href="Data.Maybe.Relation.Unary.All.html#927" class="Datatype">Allᴹ.All</a> <a id="2239" class="Symbol">(</a><a id="2240" href="Data.Product.Relation.Unary.All.html#456" class="Function">Allᴾ.All</a> <a id="2249" href="Text.Pretty.Core.html#2226" class="Bound">P</a> <a id="2251" class="Symbol">(</a><a id="2252" href="Data.Tree.Binary.Relation.Unary.All.html#629" class="Datatype">Allᵀ.All</a> <a id="2261" href="Text.Pretty.Core.html#2226" class="Bound">P</a> <a id="2263" href="Relation.Unary.html#1401" class="Function">U</a><a id="2264" class="Symbol">))</a>

<a id="All≤"></a><a id="2268" href="Text.Pretty.Core.html#2268" class="Function">All≤</a> <a id="2273" class="Symbol">:</a> <a id="2275" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2277" class="Symbol">→</a> <a id="2279" href="Text.Pretty.Core.html#2054" class="Function">Content</a> <a id="2287" class="Symbol">→</a> <a id="2289" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2293" href="Text.Pretty.Core.html#2268" class="Function">All≤</a> <a id="2298" href="Text.Pretty.Core.html#2298" class="Bound">n</a> <a id="2300" class="Symbol">=</a> <a id="2302" href="Text.Pretty.Core.html#2169" class="Function">All</a> <a id="2306" class="Symbol">(λ</a> <a id="2309" href="Text.Pretty.Core.html#2309" class="Bound">s</a> <a id="2311" class="Symbol">→</a> <a id="2313" href="Data.String.Base.html#2478" class="Function">length</a> <a id="2320" href="Text.Pretty.Core.html#2309" class="Bound">s</a> <a id="2322" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="2324" href="Text.Pretty.Core.html#2298" class="Bound">n</a><a id="2325" class="Symbol">)</a>

<a id="2328" class="Keyword">record</a> <a id="Block"></a><a id="2335" href="Text.Pretty.Core.html#2335" class="Record">Block</a> <a id="2341" class="Symbol">:</a> <a id="2343" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2347" class="Keyword">where</a>
  <a id="2355" class="Keyword">field</a>
    <a id="Block.height"></a><a id="2365" href="Text.Pretty.Core.html#2365" class="Field">height</a>    <a id="2375" class="Symbol">:</a> <a id="2377" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="Block.block"></a><a id="2383" href="Text.Pretty.Core.html#2383" class="Field">block</a>     <a id="2393" class="Symbol">:</a> <a id="2395" href="Data.Refinement.html#925" class="Function">[</a> <a id="2397" href="Text.Pretty.Core.html#2397" class="Bound">xs</a> <a id="2400" href="Data.Refinement.html#925" class="Function">∈</a> <a id="2402" href="Text.Pretty.Core.html#2054" class="Function">Content</a> <a id="2410" href="Data.Refinement.html#925" class="Function">∣</a> <a id="2412" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="2417" href="Text.Pretty.Core.html#2397" class="Bound">xs</a> <a id="2420" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2422" href="Text.Pretty.Core.html#2365" class="Field">height</a> <a id="2429" href="Data.Refinement.html#925" class="Function">]</a>
  <a id="2433" class="Comment">-- last line</a>
    <a id="Block.lastWidth"></a><a id="2450" href="Text.Pretty.Core.html#2450" class="Field">lastWidth</a> <a id="2460" class="Symbol">:</a> <a id="2462" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="Block.last"></a><a id="2468" href="Text.Pretty.Core.html#2468" class="Field">last</a>      <a id="2478" class="Symbol">:</a> <a id="2480" href="Data.Refinement.html#925" class="Function">[</a> <a id="2482" href="Text.Pretty.Core.html#2482" class="Bound">s</a> <a id="2484" href="Data.Refinement.html#925" class="Function">∈</a> <a id="2486" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="2493" href="Data.Refinement.html#925" class="Function">∣</a> <a id="2495" href="Data.String.Base.html#2478" class="Function">length</a> <a id="2502" href="Text.Pretty.Core.html#2482" class="Bound">s</a> <a id="2504" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2506" href="Text.Pretty.Core.html#2450" class="Field">lastWidth</a> <a id="2516" href="Data.Refinement.html#925" class="Function">]</a>
  <a id="2520" class="Comment">-- max of all the widths</a>
    <a id="Block.maxWidth"></a><a id="2549" href="Text.Pretty.Core.html#2549" class="Field">maxWidth</a>  <a id="2559" class="Symbol">:</a> <a id="2561" href="Data.Refinement.html#925" class="Function">[</a> <a id="2563" href="Text.Pretty.Core.html#2563" class="Bound">n</a> <a id="2565" href="Data.Refinement.html#925" class="Function">∈</a> <a id="2567" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2569" href="Data.Refinement.html#925" class="Function">∣</a> <a id="2571" href="Text.Pretty.Core.html#2450" class="Field">lastWidth</a> <a id="2581" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="2583" href="Text.Pretty.Core.html#2563" class="Bound">n</a> <a id="2585" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="2587" href="Text.Pretty.Core.html#2268" class="Function">All≤</a> <a id="2592" href="Text.Pretty.Core.html#2563" class="Bound">n</a> <a id="2594" class="Symbol">(</a><a id="2595" href="Text.Pretty.Core.html#2383" class="Field">block</a> <a id="2601" class="Symbol">.</a><a id="2602" href="Data.Refinement.html#644" class="Field">value</a><a id="2607" class="Symbol">)</a> <a id="2609" href="Data.Refinement.html#925" class="Function">]</a>

<a id="2612" class="Comment">------------------------------------------------------------------------</a>
<a id="2685" class="Comment">-- Raw string</a>

<a id="text"></a><a id="2700" href="Text.Pretty.Core.html#2700" class="Function">text</a> <a id="2705" class="Symbol">:</a> <a id="2707" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="2714" class="Symbol">→</a> <a id="2716" href="Text.Pretty.Core.html#2335" class="Record">Block</a>
<a id="2722" href="Text.Pretty.Core.html#2700" class="Function">text</a> <a id="2727" href="Text.Pretty.Core.html#2727" class="Bound">s</a> <a id="2729" class="Symbol">=</a> <a id="2731" class="Keyword">record</a>
  <a id="2740" class="Symbol">{</a> <a id="2742" href="Text.Pretty.Core.html#2365" class="Field">height</a>    <a id="2752" class="Symbol">=</a> <a id="2754" class="Number">0</a>
  <a id="2758" class="Symbol">;</a> <a id="2760" href="Text.Pretty.Core.html#2383" class="Field">block</a>     <a id="2770" class="Symbol">=</a> <a id="2772" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a> <a id="2780" href="Data.Refinement.html#632" class="InductiveConstructor Operator">,</a> <a id="2782" class="Symbol">⦇</a> <a id="2784" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2789" class="Symbol">⦈</a>
  <a id="2793" class="Symbol">;</a> <a id="2795" href="Text.Pretty.Core.html#2450" class="Field">lastWidth</a> <a id="2805" class="Symbol">=</a> <a id="2807" href="Text.Pretty.Core.html#2899" class="Function">width</a>
  <a id="2815" class="Symbol">;</a> <a id="2817" href="Text.Pretty.Core.html#2468" class="Field">last</a>      <a id="2827" class="Symbol">=</a> <a id="2829" href="Text.Pretty.Core.html#2727" class="Bound">s</a> <a id="2831" href="Data.Refinement.html#632" class="InductiveConstructor Operator">,</a> <a id="2833" class="Symbol">⦇</a> <a id="2835" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2840" class="Symbol">⦈</a>
  <a id="2844" class="Symbol">;</a> <a id="2846" href="Text.Pretty.Core.html#2549" class="Field">maxWidth</a>  <a id="2856" class="Symbol">=</a> <a id="2858" href="Text.Pretty.Core.html#2899" class="Function">width</a> <a id="2864" href="Data.Refinement.html#632" class="InductiveConstructor Operator">,</a> <a id="2866" class="Symbol">⦇</a> <a id="2868" class="Symbol">(</a><a id="2869" href="Data.Nat.Properties.html#4919" class="Function">≤-refl</a> <a id="2876" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2878" href="Data.Maybe.Relation.Unary.All.html#1038" class="InductiveConstructor">nothing</a><a id="2885" class="Symbol">)</a> <a id="2887" class="Symbol">⦈</a>
  <a id="2891" class="Symbol">}</a> <a id="2893" class="Keyword">where</a> <a id="2899" href="Text.Pretty.Core.html#2899" class="Function">width</a> <a id="2905" class="Symbol">=</a> <a id="2907" href="Data.String.Base.html#2478" class="Function">length</a> <a id="2914" href="Text.Pretty.Core.html#2727" class="Bound">s</a><a id="2915" class="Symbol">;</a> <a id="2917" class="Keyword">open</a> <a id="2922" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

<a id="2934" class="Comment">------------------------------------------------------------------------</a>
<a id="3007" class="Comment">-- Empty</a>

<a id="empty"></a><a id="3017" href="Text.Pretty.Core.html#3017" class="Function">empty</a> <a id="3023" class="Symbol">:</a> <a id="3025" href="Text.Pretty.Core.html#2335" class="Record">Block</a>
<a id="3031" href="Text.Pretty.Core.html#3017" class="Function">empty</a> <a id="3037" class="Symbol">=</a> <a id="3039" href="Text.Pretty.Core.html#2700" class="Function">text</a> <a id="3044" class="String">&quot;&quot;</a>

<a id="3048" class="Comment">------------------------------------------------------------------------</a>
<a id="3121" class="Comment">-- Helper functions</a>

<a id="node?"></a><a id="3142" href="Text.Pretty.Core.html#3142" class="Function">node?</a> <a id="3148" class="Symbol">:</a> <a id="3150" href="Text.Pretty.Core.html#2054" class="Function">Content</a> <a id="3158" class="Symbol">→</a> <a id="3160" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="3167" class="Symbol">→</a> <a id="3169" href="Data.Tree.Binary.html#691" class="Datatype">Tree</a> <a id="3174" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="3181" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a> <a id="3183" class="Symbol">→</a> <a id="3185" href="Text.Pretty.Core.html#2054" class="Function">Content</a>
<a id="3193" href="Text.Pretty.Core.html#3142" class="Function">node?</a> <a id="3199" class="Symbol">(</a><a id="3200" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="3205" class="Symbol">(</a><a id="3206" href="Text.Pretty.Core.html#3206" class="Bound">x</a> <a id="3208" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3210" href="Text.Pretty.Core.html#3210" class="Bound">xs</a><a id="3212" class="Symbol">))</a> <a id="3215" href="Text.Pretty.Core.html#3215" class="Bound">y</a> <a id="3217" href="Text.Pretty.Core.html#3217" class="Bound">ys</a> <a id="3220" class="Symbol">=</a> <a id="3222" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="3227" class="Symbol">(</a><a id="3228" href="Text.Pretty.Core.html#3206" class="Bound">x</a> <a id="3230" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3232" href="Data.Tree.Binary.html#764" class="InductiveConstructor">node</a> <a id="3237" href="Text.Pretty.Core.html#3210" class="Bound">xs</a> <a id="3240" href="Text.Pretty.Core.html#3215" class="Bound">y</a> <a id="3242" href="Text.Pretty.Core.html#3217" class="Bound">ys</a><a id="3244" class="Symbol">)</a>
<a id="3246" href="Text.Pretty.Core.html#3142" class="Function">node?</a> <a id="3252" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>         <a id="3268" href="Text.Pretty.Core.html#3268" class="Bound">y</a> <a id="3270" href="Text.Pretty.Core.html#3270" class="Bound">ys</a> <a id="3273" class="Symbol">=</a> <a id="3275" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="3280" class="Symbol">(</a><a id="3281" href="Text.Pretty.Core.html#3268" class="Bound">y</a> <a id="3283" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3285" href="Text.Pretty.Core.html#3270" class="Bound">ys</a><a id="3287" class="Symbol">)</a>

<a id="∣node?∣"></a><a id="3290" href="Text.Pretty.Core.html#3290" class="Function">∣node?∣</a> <a id="3298" class="Symbol">:</a> <a id="3300" class="Symbol">∀</a> <a id="3302" href="Text.Pretty.Core.html#3302" class="Bound">b</a> <a id="3304" href="Text.Pretty.Core.html#3304" class="Bound">y</a> <a id="3306" href="Text.Pretty.Core.html#3306" class="Bound">ys</a> <a id="3309" class="Symbol">→</a> <a id="3311" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="3316" class="Symbol">(</a><a id="3317" href="Text.Pretty.Core.html#3142" class="Function">node?</a> <a id="3323" href="Text.Pretty.Core.html#3302" class="Bound">b</a> <a id="3325" href="Text.Pretty.Core.html#3304" class="Bound">y</a> <a id="3327" href="Text.Pretty.Core.html#3306" class="Bound">ys</a><a id="3329" class="Symbol">)</a>
                   <a id="3350" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3352" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="3357" href="Text.Pretty.Core.html#3302" class="Bound">b</a> <a id="3359" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3361" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3365" class="Symbol">(</a><a id="3366" href="Data.Tree.Binary.html#1074" class="Function">#nodes</a> <a id="3373" href="Text.Pretty.Core.html#3306" class="Bound">ys</a><a id="3375" class="Symbol">)</a>
<a id="3377" href="Text.Pretty.Core.html#3290" class="Function">∣node?∣</a> <a id="3385" class="Symbol">(</a><a id="3386" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="3391" class="Symbol">(</a><a id="3392" href="Text.Pretty.Core.html#3392" class="Bound">x</a> <a id="3394" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3396" href="Text.Pretty.Core.html#3396" class="Bound">xs</a><a id="3398" class="Symbol">))</a> <a id="3401" href="Text.Pretty.Core.html#3401" class="Bound">y</a> <a id="3403" href="Text.Pretty.Core.html#3403" class="Bound">ys</a> <a id="3406" class="Symbol">=</a> <a id="3408" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="3413" href="Text.Pretty.Core.html#3290" class="Function">∣node?∣</a> <a id="3421" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>         <a id="3437" href="Text.Pretty.Core.html#3437" class="Bound">y</a> <a id="3439" href="Text.Pretty.Core.html#3439" class="Bound">ys</a> <a id="3442" class="Symbol">=</a> <a id="3444" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="≤-Content"></a><a id="3450" href="Text.Pretty.Core.html#3450" class="Function">≤-Content</a> <a id="3460" class="Symbol">:</a> <a id="3462" class="Symbol">∀</a> <a id="3464" class="Symbol">{</a><a id="3465" href="Text.Pretty.Core.html#3465" class="Bound">m</a> <a id="3467" href="Text.Pretty.Core.html#3467" class="Bound">n</a><a id="3468" class="Symbol">}</a> <a id="3470" class="Symbol">{</a><a id="3471" href="Text.Pretty.Core.html#3471" class="Bound">b</a> <a id="3473" class="Symbol">:</a> <a id="3475" href="Text.Pretty.Core.html#2054" class="Function">Content</a><a id="3482" class="Symbol">}</a> <a id="3484" class="Symbol">→</a> <a id="3486" href="Text.Pretty.Core.html#3465" class="Bound">m</a> <a id="3488" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="3490" href="Text.Pretty.Core.html#3467" class="Bound">n</a> <a id="3492" class="Symbol">→</a> <a id="3494" href="Text.Pretty.Core.html#2268" class="Function">All≤</a> <a id="3499" href="Text.Pretty.Core.html#3465" class="Bound">m</a> <a id="3501" href="Text.Pretty.Core.html#3471" class="Bound">b</a> <a id="3503" class="Symbol">→</a> <a id="3505" href="Text.Pretty.Core.html#2268" class="Function">All≤</a> <a id="3510" href="Text.Pretty.Core.html#3467" class="Bound">n</a> <a id="3512" href="Text.Pretty.Core.html#3471" class="Bound">b</a>
<a id="3514" href="Text.Pretty.Core.html#3450" class="Function">≤-Content</a> <a id="3524" class="Symbol">{</a><a id="3525" href="Text.Pretty.Core.html#3525" class="Bound">m</a><a id="3526" class="Symbol">}</a> <a id="3528" class="Symbol">{</a><a id="3529" href="Text.Pretty.Core.html#3529" class="Bound">n</a><a id="3530" class="Symbol">}</a> <a id="3532" href="Text.Pretty.Core.html#3532" class="Bound">m≤n</a> <a id="3536" class="Symbol">=</a> <a id="3538" href="Data.Maybe.Relation.Unary.All.html#1370" class="Function">Allᴹ.map</a> <a id="3547" class="Symbol">(</a><a id="3548" href="Data.Product.Base.html#1664" class="Function">Prod.map</a> <a id="3557" href="Text.Pretty.Core.html#3592" class="Function">step</a> <a id="3562" class="Symbol">(</a><a id="3563" href="Data.Tree.Binary.Relation.Unary.All.html#989" class="Function">Allᵀ.mapₙ</a> <a id="3573" href="Text.Pretty.Core.html#3592" class="Function">step</a><a id="3577" class="Symbol">))</a>

  <a id="3583" class="Keyword">where</a>

  <a id="3592" href="Text.Pretty.Core.html#3592" class="Function">step</a> <a id="3597" class="Symbol">:</a> <a id="3599" class="Symbol">∀</a> <a id="3601" class="Symbol">{</a><a id="3602" href="Text.Pretty.Core.html#3602" class="Bound">p</a><a id="3603" class="Symbol">}</a> <a id="3605" class="Symbol">→</a> <a id="3607" href="Text.Pretty.Core.html#3602" class="Bound">p</a> <a id="3609" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="3611" href="Text.Pretty.Core.html#3525" class="Bound">m</a> <a id="3613" class="Symbol">→</a> <a id="3615" href="Text.Pretty.Core.html#3602" class="Bound">p</a> <a id="3617" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="3619" href="Text.Pretty.Core.html#3529" class="Bound">n</a>
  <a id="3623" href="Text.Pretty.Core.html#3592" class="Function">step</a> <a id="3628" class="Symbol">=</a> <a id="3630" href="Function.Base.html#1629" class="Function">flip</a> <a id="3635" href="Data.Nat.Properties.html#5102" class="Function">≤-trans</a> <a id="3643" href="Text.Pretty.Core.html#3532" class="Bound">m≤n</a>

<a id="All≤-node?"></a><a id="3648" href="Text.Pretty.Core.html#3648" class="Function">All≤-node?</a> <a id="3659" class="Symbol">:</a> <a id="3661" class="Symbol">∀</a> <a id="3663" class="Symbol">{</a><a id="3664" href="Text.Pretty.Core.html#3664" class="Bound">l</a> <a id="3666" href="Text.Pretty.Core.html#3666" class="Bound">m</a> <a id="3668" href="Text.Pretty.Core.html#3668" class="Bound">r</a> <a id="3670" href="Text.Pretty.Core.html#3670" class="Bound">n</a><a id="3671" class="Symbol">}</a> <a id="3673" class="Symbol">→</a>
             <a id="3688" href="Text.Pretty.Core.html#2268" class="Function">All≤</a> <a id="3693" href="Text.Pretty.Core.html#3670" class="Bound">n</a> <a id="3695" href="Text.Pretty.Core.html#3664" class="Bound">l</a> <a id="3697" class="Symbol">→</a> <a id="3699" href="Data.String.Base.html#2478" class="Function">length</a> <a id="3706" href="Text.Pretty.Core.html#3666" class="Bound">m</a> <a id="3708" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="3710" href="Text.Pretty.Core.html#3670" class="Bound">n</a> <a id="3712" class="Symbol">→</a> <a id="3714" href="Data.Tree.Binary.Relation.Unary.All.html#629" class="Datatype">Allᵀ.All</a> <a id="3723" class="Symbol">(λ</a> <a id="3726" href="Text.Pretty.Core.html#3726" class="Bound">s</a> <a id="3728" class="Symbol">→</a> <a id="3730" href="Data.String.Base.html#2478" class="Function">length</a> <a id="3737" href="Text.Pretty.Core.html#3726" class="Bound">s</a> <a id="3739" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="3741" href="Text.Pretty.Core.html#3670" class="Bound">n</a><a id="3742" class="Symbol">)</a> <a id="3744" href="Relation.Unary.html#1401" class="Function">U</a> <a id="3746" href="Text.Pretty.Core.html#3668" class="Bound">r</a> <a id="3748" class="Symbol">→</a>
             <a id="3763" href="Text.Pretty.Core.html#2268" class="Function">All≤</a> <a id="3768" href="Text.Pretty.Core.html#3670" class="Bound">n</a> <a id="3770" class="Symbol">(</a><a id="3771" href="Text.Pretty.Core.html#3142" class="Function">node?</a> <a id="3777" href="Text.Pretty.Core.html#3664" class="Bound">l</a> <a id="3779" href="Text.Pretty.Core.html#3666" class="Bound">m</a> <a id="3781" href="Text.Pretty.Core.html#3668" class="Bound">r</a><a id="3782" class="Symbol">)</a>
<a id="3784" href="Text.Pretty.Core.html#3648" class="Function">All≤-node?</a> <a id="3795" href="Data.Maybe.Relation.Unary.All.html#1038" class="InductiveConstructor">nothing</a>           <a id="3813" href="Text.Pretty.Core.html#3813" class="Bound">py</a> <a id="3816" href="Text.Pretty.Core.html#3816" class="Bound">pys</a> <a id="3820" class="Symbol">=</a> <a id="3822" href="Data.Maybe.Relation.Unary.All.html#997" class="InductiveConstructor">just</a> <a id="3827" class="Symbol">(</a><a id="3828" href="Text.Pretty.Core.html#3813" class="Bound">py</a> <a id="3831" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3833" href="Text.Pretty.Core.html#3816" class="Bound">pys</a><a id="3836" class="Symbol">)</a>
<a id="3838" href="Text.Pretty.Core.html#3648" class="Function">All≤-node?</a> <a id="3849" class="Symbol">(</a><a id="3850" href="Data.Maybe.Relation.Unary.All.html#997" class="InductiveConstructor">just</a> <a id="3855" class="Symbol">(</a><a id="3856" href="Text.Pretty.Core.html#3856" class="Bound">px</a> <a id="3859" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3861" href="Text.Pretty.Core.html#3861" class="Bound">pxs</a><a id="3864" class="Symbol">))</a> <a id="3867" href="Text.Pretty.Core.html#3867" class="Bound">py</a> <a id="3870" href="Text.Pretty.Core.html#3870" class="Bound">pys</a> <a id="3874" class="Symbol">=</a> <a id="3876" href="Data.Maybe.Relation.Unary.All.html#997" class="InductiveConstructor">just</a> <a id="3881" class="Symbol">(</a><a id="3882" href="Text.Pretty.Core.html#3856" class="Bound">px</a> <a id="3885" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3887" href="Data.Tree.Binary.Relation.Unary.All.html#770" class="InductiveConstructor">node</a> <a id="3892" href="Text.Pretty.Core.html#3861" class="Bound">pxs</a> <a id="3896" href="Text.Pretty.Core.html#3867" class="Bound">py</a> <a id="3899" href="Text.Pretty.Core.html#3870" class="Bound">pys</a><a id="3902" class="Symbol">)</a>

<a id="3905" class="Comment">------------------------------------------------------------------------</a>
<a id="3978" class="Comment">-- Appending two documents</a>

<a id="4006" class="Keyword">private</a>
  <a id="4016" class="Keyword">module</a> <a id="append"></a><a id="4023" href="Text.Pretty.Core.html#4023" class="Module">append</a> <a id="4030" class="Symbol">(</a><a id="4031" href="Text.Pretty.Core.html#4031" class="Bound">x</a> <a id="4033" href="Text.Pretty.Core.html#4033" class="Bound">y</a> <a id="4035" class="Symbol">:</a> <a id="4037" href="Text.Pretty.Core.html#2335" class="Record">Block</a><a id="4042" class="Symbol">)</a> <a id="4044" class="Keyword">where</a>

    <a id="4055" class="Keyword">module</a> <a id="append.x"></a><a id="4062" href="Text.Pretty.Core.html#4062" class="Module">x</a> <a id="4064" class="Symbol">=</a> <a id="4066" href="Text.Pretty.Core.html#2335" class="Module">Block</a> <a id="4072" href="Text.Pretty.Core.html#4031" class="Bound">x</a>
    <a id="4078" class="Keyword">module</a> <a id="append.y"></a><a id="4085" href="Text.Pretty.Core.html#4085" class="Module">y</a> <a id="4087" class="Symbol">=</a> <a id="4089" href="Text.Pretty.Core.html#2335" class="Module">Block</a> <a id="4095" href="Text.Pretty.Core.html#4033" class="Bound">y</a>

    <a id="append.blockx"></a><a id="4102" href="Text.Pretty.Core.html#4102" class="Function">blockx</a> <a id="4109" class="Symbol">=</a> <a id="4111" href="Text.Pretty.Core.html#2383" class="Function">x.block</a> <a id="4119" class="Symbol">.</a><a id="4120" href="Data.Refinement.html#644" class="Field">value</a>
    <a id="append.blocky"></a><a id="4130" href="Text.Pretty.Core.html#4130" class="Function">blocky</a> <a id="4137" class="Symbol">=</a> <a id="4139" href="Text.Pretty.Core.html#2383" class="Field">y.block</a> <a id="4147" class="Symbol">.</a><a id="4148" href="Data.Refinement.html#644" class="Field">value</a>

    <a id="append.widthx"></a><a id="4159" href="Text.Pretty.Core.html#4159" class="Function">widthx</a> <a id="4166" class="Symbol">=</a> <a id="4168" href="Text.Pretty.Core.html#2549" class="Function">x.maxWidth</a> <a id="4179" class="Symbol">.</a><a id="4180" href="Data.Refinement.html#644" class="Field">value</a>
    <a id="append.widthy"></a><a id="4190" href="Text.Pretty.Core.html#4190" class="Function">widthy</a> <a id="4197" class="Symbol">=</a> <a id="4199" href="Text.Pretty.Core.html#2549" class="Field">y.maxWidth</a> <a id="4210" class="Symbol">.</a><a id="4211" href="Data.Refinement.html#644" class="Field">value</a>

    <a id="append.lastx"></a><a id="4222" href="Text.Pretty.Core.html#4222" class="Function">lastx</a> <a id="4228" class="Symbol">=</a> <a id="4230" href="Text.Pretty.Core.html#2468" class="Function">x.last</a> <a id="4237" class="Symbol">.</a><a id="4238" href="Data.Refinement.html#644" class="Field">value</a>
    <a id="append.lasty"></a><a id="4248" href="Text.Pretty.Core.html#4248" class="Function">lasty</a> <a id="4254" class="Symbol">=</a> <a id="4256" href="Text.Pretty.Core.html#2468" class="Field">y.last</a> <a id="4263" class="Symbol">.</a><a id="4264" href="Data.Refinement.html#644" class="Field">value</a>

    <a id="append.height"></a><a id="4275" href="Text.Pretty.Core.html#4275" class="Function">height</a> <a id="4282" class="Symbol">:</a> <a id="4284" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="4290" href="Text.Pretty.Core.html#4275" class="Function">height</a> <a id="4297" class="Symbol">=</a> <a id="4299" class="Symbol">(</a><a id="4300" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a> <a id="4304" href="Function.Base.html#6217" class="Function Operator">on</a> <a id="4307" href="Text.Pretty.Core.html#2365" class="Field">Block.height</a><a id="4319" class="Symbol">)</a> <a id="4321" href="Text.Pretty.Core.html#4031" class="Bound">x</a> <a id="4323" href="Text.Pretty.Core.html#4033" class="Bound">y</a>

    <a id="append.lastWidth"></a><a id="4330" href="Text.Pretty.Core.html#4330" class="Function">lastWidth</a> <a id="4340" class="Symbol">:</a> <a id="4342" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="4348" href="Text.Pretty.Core.html#4330" class="Function">lastWidth</a> <a id="4358" class="Symbol">=</a> <a id="4360" class="Symbol">(</a><a id="4361" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a> <a id="4365" href="Function.Base.html#6217" class="Function Operator">on</a> <a id="4368" href="Text.Pretty.Core.html#2450" class="Field">Block.lastWidth</a><a id="4383" class="Symbol">)</a> <a id="4385" href="Text.Pretty.Core.html#4031" class="Bound">x</a> <a id="4387" href="Text.Pretty.Core.html#4033" class="Bound">y</a>

    <a id="append.pad"></a><a id="4394" href="Text.Pretty.Core.html#4394" class="Function">pad</a> <a id="4398" class="Symbol">:</a> <a id="4400" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="4406" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
    <a id="4417" href="Text.Pretty.Core.html#4394" class="Function">pad</a> <a id="4421" class="Keyword">with</a> <a id="4426" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a>
    <a id="4442" href="Text.Pretty.Core.html#4394" class="Function">...</a> <a id="4446" class="Symbol">|</a> <a id="4448" class="Number">0</a> <a id="4450" class="Symbol">=</a> <a id="4452" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
    <a id="4464" href="Text.Pretty.Core.html#4394" class="CatchallClause Function">...</a><a id="4467" class="CatchallClause"> </a><a id="4468" class="CatchallClause Symbol">|</a><a id="4469" class="CatchallClause"> </a><a id="4470" href="Text.Pretty.Core.html#4470" class="CatchallClause Bound">l</a> <a id="4472" class="Symbol">=</a> <a id="4474" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="4479" class="Symbol">(</a><a id="4480" href="Data.String.Base.html#2529" class="Function">replicate</a> <a id="4490" href="Text.Pretty.Core.html#4470" class="Bound">l</a> <a id="4492" class="String">&#39; &#39;</a><a id="4495" class="Symbol">)</a>

    <a id="append.size-pad"></a><a id="4502" href="Text.Pretty.Core.html#4502" class="Function">size-pad</a> <a id="4511" class="Symbol">:</a> <a id="4513" href="Data.Maybe.Base.html#1569" class="Function">maybe′</a> <a id="4520" href="Data.String.Base.html#2478" class="Function">length</a> <a id="4527" class="Number">0</a> <a id="4529" href="Text.Pretty.Core.html#4394" class="Function">pad</a> <a id="4533" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4535" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a>
    <a id="4551" href="Text.Pretty.Core.html#4502" class="Function">size-pad</a> <a id="4560" class="Keyword">with</a> <a id="4565" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a>
    <a id="4581" href="Text.Pretty.Core.html#4502" class="Function">...</a> <a id="4585" class="Symbol">|</a> <a id="4587" class="Number">0</a>         <a id="4597" class="Symbol">=</a> <a id="4599" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
    <a id="4608" href="Text.Pretty.Core.html#4502" class="Function">...</a> <a id="4612" class="Symbol">|</a> <a id="4614" href="Text.Pretty.Core.html#4614" class="Bound">l</a><a id="4615" class="Symbol">@(</a><a id="4617" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="4621" class="Symbol">_)</a> <a id="4624" class="Symbol">=</a> <a id="4626" href="Data.String.Unsafe.html#1557" class="Function">length-replicate</a> <a id="4643" href="Text.Pretty.Core.html#4614" class="Bound">l</a>

    <a id="append.indent"></a><a id="4650" href="Text.Pretty.Core.html#4650" class="Function">indent</a> <a id="4657" class="Symbol">:</a> <a id="4659" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="4665" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="4672" class="Symbol">→</a> <a id="4674" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="4681" class="Symbol">→</a> <a id="4683" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
    <a id="4694" href="Text.Pretty.Core.html#4650" class="Function">indent</a> <a id="4701" class="Symbol">=</a> <a id="4703" href="Data.Maybe.Base.html#1569" class="Function">maybe′</a> <a id="4710" href="Data.String.Base.html#2414" class="Function Operator">_++_</a> <a id="4715" href="Function.Base.html#695" class="Function">id</a>

    <a id="append.size-indent"></a><a id="4723" href="Text.Pretty.Core.html#4723" class="Function">size-indent</a> <a id="4735" class="Symbol">:</a> <a id="4737" class="Symbol">∀</a> <a id="4739" href="Text.Pretty.Core.html#4739" class="Bound">ma</a> <a id="4742" href="Text.Pretty.Core.html#4742" class="Bound">str</a> <a id="4746" class="Symbol">→</a> <a id="4748" href="Data.String.Base.html#2478" class="Function">length</a> <a id="4755" class="Symbol">(</a><a id="4756" href="Text.Pretty.Core.html#4650" class="Function">indent</a> <a id="4763" href="Text.Pretty.Core.html#4739" class="Bound">ma</a> <a id="4766" href="Text.Pretty.Core.html#4742" class="Bound">str</a><a id="4769" class="Symbol">)</a>
                <a id="4787" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4789" href="Data.Maybe.Base.html#1569" class="Function">maybe′</a> <a id="4796" href="Data.String.Base.html#2478" class="Function">length</a> <a id="4803" class="Number">0</a> <a id="4805" href="Text.Pretty.Core.html#4739" class="Bound">ma</a> <a id="4808" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="4810" href="Data.String.Base.html#2478" class="Function">length</a> <a id="4817" href="Text.Pretty.Core.html#4742" class="Bound">str</a>
    <a id="4825" href="Text.Pretty.Core.html#4723" class="Function">size-indent</a> <a id="4837" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>    <a id="4848" href="Text.Pretty.Core.html#4848" class="Bound">str</a> <a id="4852" class="Symbol">=</a> <a id="4854" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
    <a id="4863" href="Text.Pretty.Core.html#4723" class="Function">size-indent</a> <a id="4875" class="Symbol">(</a><a id="4876" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="4881" href="Text.Pretty.Core.html#4881" class="Bound">pad</a><a id="4884" class="Symbol">)</a> <a id="4886" href="Text.Pretty.Core.html#4886" class="Bound">str</a> <a id="4890" class="Symbol">=</a> <a id="4892" href="Data.String.Unsafe.html#1232" class="Function">length-++</a> <a id="4902" href="Text.Pretty.Core.html#4881" class="Bound">pad</a> <a id="4906" href="Text.Pretty.Core.html#4886" class="Bound">str</a>

    <a id="append.indents"></a><a id="4915" href="Text.Pretty.Core.html#4915" class="Function">indents</a> <a id="4923" class="Symbol">:</a> <a id="4925" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="4931" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="4938" class="Symbol">→</a> <a id="4940" href="Data.Tree.Binary.html#691" class="Datatype">Tree</a> <a id="4945" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="4952" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a> <a id="4954" class="Symbol">→</a> <a id="4956" href="Data.Tree.Binary.html#691" class="Datatype">Tree</a> <a id="4961" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="4968" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
    <a id="4974" href="Text.Pretty.Core.html#4915" class="Function">indents</a> <a id="4982" class="Symbol">=</a> <a id="4984" href="Data.Maybe.Base.html#1569" class="Function">maybe′</a> <a id="4991" class="Symbol">(</a><a id="4992" href="Data.Tree.Binary.html#950" class="Function">mapₙ</a> <a id="4997" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="4999" href="Data.String.Base.html#2414" class="Function Operator">_++_</a><a id="5003" class="Symbol">)</a> <a id="5005" href="Function.Base.html#695" class="Function">id</a>

    <a id="append.size-indents"></a><a id="5013" href="Text.Pretty.Core.html#5013" class="Function">size-indents</a> <a id="5026" class="Symbol">:</a> <a id="5028" class="Symbol">∀</a> <a id="5030" href="Text.Pretty.Core.html#5030" class="Bound">ma</a> <a id="5033" href="Text.Pretty.Core.html#5033" class="Bound">t</a> <a id="5035" class="Symbol">→</a> <a id="5037" href="Data.Tree.Binary.html#1074" class="Function">#nodes</a> <a id="5044" class="Symbol">(</a><a id="5045" href="Text.Pretty.Core.html#4915" class="Function">indents</a> <a id="5053" href="Text.Pretty.Core.html#5030" class="Bound">ma</a> <a id="5056" href="Text.Pretty.Core.html#5033" class="Bound">t</a><a id="5057" class="Symbol">)</a> <a id="5059" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5061" href="Data.Tree.Binary.html#1074" class="Function">#nodes</a> <a id="5068" href="Text.Pretty.Core.html#5033" class="Bound">t</a>
    <a id="5074" href="Text.Pretty.Core.html#5013" class="Function">size-indents</a> <a id="5087" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>    <a id="5098" href="Text.Pretty.Core.html#5098" class="Bound">t</a> <a id="5100" class="Symbol">=</a> <a id="5102" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
    <a id="5111" href="Text.Pretty.Core.html#5013" class="Function">size-indents</a> <a id="5124" class="Symbol">(</a><a id="5125" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="5130" href="Text.Pretty.Core.html#5130" class="Bound">pad</a><a id="5133" class="Symbol">)</a> <a id="5135" href="Text.Pretty.Core.html#5135" class="Bound">t</a> <a id="5137" class="Symbol">=</a> <a id="5139" href="Data.Tree.Binary.Properties.html#918" class="Function">Treeₚ.#nodes-mapₙ</a> <a id="5157" class="Symbol">(</a><a id="5158" href="Text.Pretty.Core.html#5130" class="Bound">pad</a> <a id="5162" href="Data.String.Base.html#2414" class="Function Operator">++_</a><a id="5165" class="Symbol">)</a> <a id="5167" href="Text.Pretty.Core.html#5135" class="Bound">t</a>

    <a id="append.unfold-indents"></a><a id="5174" href="Text.Pretty.Core.html#5174" class="Function">unfold-indents</a> <a id="5189" class="Symbol">:</a> <a id="5191" class="Symbol">∀</a> <a id="5193" href="Text.Pretty.Core.html#5193" class="Bound">ma</a> <a id="5196" href="Text.Pretty.Core.html#5196" class="Bound">t</a> <a id="5198" class="Symbol">→</a> <a id="5200" href="Text.Pretty.Core.html#4915" class="Function">indents</a> <a id="5208" href="Text.Pretty.Core.html#5193" class="Bound">ma</a> <a id="5211" href="Text.Pretty.Core.html#5196" class="Bound">t</a> <a id="5213" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5215" href="Data.Tree.Binary.html#950" class="Function">mapₙ</a> <a id="5220" class="Symbol">(</a><a id="5221" href="Text.Pretty.Core.html#4650" class="Function">indent</a> <a id="5228" href="Text.Pretty.Core.html#5193" class="Bound">ma</a><a id="5230" class="Symbol">)</a> <a id="5232" href="Text.Pretty.Core.html#5196" class="Bound">t</a>
    <a id="5238" href="Text.Pretty.Core.html#5174" class="Function">unfold-indents</a> <a id="5253" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>    <a id="5264" href="Text.Pretty.Core.html#5264" class="Bound">t</a> <a id="5266" class="Symbol">=</a> <a id="5268" href="Relation.Binary.PropositionalEquality.Core.html#1698" class="Function">sym</a> <a id="5272" class="Symbol">(</a><a id="5273" href="Data.Tree.Binary.Properties.html#1550" class="Function">Treeₚ.map-id</a> <a id="5286" href="Text.Pretty.Core.html#5264" class="Bound">t</a><a id="5287" class="Symbol">)</a>
    <a id="5293" href="Text.Pretty.Core.html#5174" class="Function">unfold-indents</a> <a id="5308" class="Symbol">(</a><a id="5309" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="5314" href="Text.Pretty.Core.html#5314" class="Bound">pad</a><a id="5317" class="Symbol">)</a> <a id="5319" href="Text.Pretty.Core.html#5319" class="Bound">t</a> <a id="5321" class="Symbol">=</a> <a id="5323" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="append.vContent"></a><a id="5333" href="Text.Pretty.Core.html#5333" class="Function">vContent</a> <a id="5342" class="Symbol">:</a> <a id="5344" href="Text.Pretty.Core.html#2054" class="Function">Content</a> <a id="5352" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="5354" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
    <a id="5365" href="Text.Pretty.Core.html#5333" class="Function">vContent</a> <a id="5374" class="Keyword">with</a> <a id="5379" href="Text.Pretty.Core.html#4130" class="Function">blocky</a>
    <a id="5390" href="Text.Pretty.Core.html#5333" class="Function">...</a> <a id="5394" class="Symbol">|</a> <a id="5396" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>        <a id="5411" class="Symbol">=</a> <a id="5413" href="Text.Pretty.Core.html#4102" class="Function">blockx</a>
                         <a id="5445" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5447" href="Text.Pretty.Core.html#4222" class="Function">lastx</a> <a id="5453" href="Data.String.Base.html#2414" class="Function Operator">++</a> <a id="5456" href="Text.Pretty.Core.html#4248" class="Function">lasty</a>
    <a id="5466" href="Text.Pretty.Core.html#5333" class="Function">...</a> <a id="5470" class="Symbol">|</a> <a id="5472" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="5477" class="Symbol">(</a><a id="5478" href="Text.Pretty.Core.html#5478" class="Bound">hd</a> <a id="5481" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5483" href="Text.Pretty.Core.html#5483" class="Bound">tl</a><a id="5485" class="Symbol">)</a> <a id="5487" class="Symbol">=</a> <a id="5489" href="Text.Pretty.Core.html#3142" class="Function">node?</a>
      <a id="5501" class="Comment">{-,--------------,-}</a>
      <a id="5528" class="Comment">{-|-}</a> <a id="5534" href="Text.Pretty.Core.html#4102" class="Function">blockx</a>   <a id="5543" class="Comment">{-|-}</a>
      <a id="5555" class="Comment">{-|-}</a>          <a id="5570" class="Comment">{-&#39;---,-}</a>    <a id="5583" class="Comment">{-,------------------,-}</a>
      <a id="5614" class="Comment">{-|-}</a> <a id="5620" class="Symbol">(</a><a id="5621" href="Text.Pretty.Core.html#4222" class="Function">lastx</a>       <a id="5633" class="Comment">{-|-}</a> <a id="5639" href="Data.String.Base.html#2414" class="Function Operator">++</a> <a id="5642" class="Comment">{-|-}</a>  <a id="5649" href="Text.Pretty.Core.html#5478" class="Bound">hd</a><a id="5651" class="Symbol">)</a>         <a id="5661" class="Comment">{-|-}</a>
      <a id="5673" class="Comment">{-&#39;------------------&#39;-}</a>    <a id="5701" class="Comment">{-|-}</a>              <a id="5720" class="Comment">{-|-}</a>
      <a id="5732" class="Symbol">(</a><a id="5733" href="Text.Pretty.Core.html#4915" class="Function">indents</a> <a id="5741" href="Text.Pretty.Core.html#4394" class="Function">pad</a>                <a id="5760" class="Comment">{-|-}</a>  <a id="5767" href="Text.Pretty.Core.html#5483" class="Bound">tl</a><a id="5769" class="Symbol">)</a>    <a id="5774" class="Comment">{-,----&#39;-}</a>
      <a id="5791" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5793" href="Text.Pretty.Core.html#4650" class="Function">indent</a> <a id="5800" href="Text.Pretty.Core.html#4394" class="Function">pad</a>                <a id="5819" class="Comment">{-|-}</a> <a id="5825" href="Text.Pretty.Core.html#4248" class="Function">lasty</a>   <a id="5833" class="Comment">{-|-}</a>
                                  <a id="5873" class="Comment">{-&#39;-------------&#39;-}</a>

    <a id="append.vBlock"></a><a id="5898" href="Text.Pretty.Core.html#5898" class="Function">vBlock</a> <a id="5905" class="Symbol">=</a> <a id="5907" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="5913" href="Text.Pretty.Core.html#5333" class="Function">vContent</a>
    <a id="append.vLast"></a><a id="5926" href="Text.Pretty.Core.html#5926" class="Function">vLast</a>  <a id="5933" class="Symbol">=</a> <a id="5935" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="5941" href="Text.Pretty.Core.html#5333" class="Function">vContent</a>

    <a id="append.isBlock"></a><a id="5955" href="Text.Pretty.Core.html#5955" class="Function">isBlock</a> <a id="5963" class="Symbol">:</a> <a id="5965" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="5970" href="Text.Pretty.Core.html#4102" class="Function">blockx</a> <a id="5977" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5979" href="Text.Pretty.Core.html#2365" class="Function">x.height</a> <a id="5988" class="Symbol">→</a> <a id="5990" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="5995" href="Text.Pretty.Core.html#4130" class="Function">blocky</a> <a id="6002" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6004" href="Text.Pretty.Core.html#2365" class="Field">y.height</a> <a id="6013" class="Symbol">→</a>
              <a id="6029" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="6034" href="Text.Pretty.Core.html#5898" class="Function">vBlock</a> <a id="6041" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6043" href="Text.Pretty.Core.html#4275" class="Function">height</a>
    <a id="6054" href="Text.Pretty.Core.html#5955" class="Function">isBlock</a> <a id="6062" href="Text.Pretty.Core.html#6062" class="Bound">∣x∣</a> <a id="6066" href="Text.Pretty.Core.html#6066" class="Bound">∣y∣</a> <a id="6070" class="Keyword">with</a> <a id="6075" href="Text.Pretty.Core.html#4130" class="Function">blocky</a>
    <a id="6086" class="Symbol">...</a> <a id="6090" class="Symbol">|</a> <a id="6092" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>        <a id="6107" class="Symbol">=</a> <a id="6109" href="Relation.Binary.PropositionalEquality.Core.html#2820" class="Function Operator">begin</a>
      <a id="6121" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="6126" href="Text.Pretty.Core.html#4102" class="Function">blockx</a>         <a id="6141" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="6144" class="Bound">∣x∣</a> <a id="6148" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
      <a id="6156" href="Text.Pretty.Core.html#2365" class="Function">x.height</a>            <a id="6176" href="Relation.Binary.PropositionalEquality.Core.html#3024" class="Function">≡˘⟨</a> <a id="6180" href="Data.Nat.Properties.html#14600" class="Function">+-identityʳ</a> <a id="6192" href="Text.Pretty.Core.html#2365" class="Function">x.height</a> <a id="6201" href="Relation.Binary.PropositionalEquality.Core.html#3024" class="Function">⟩</a>
      <a id="6209" href="Text.Pretty.Core.html#2365" class="Function">x.height</a> <a id="6218" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="6220" class="Number">0</a>        <a id="6229" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="6232" href="Relation.Binary.PropositionalEquality.Core.html#1144" class="Function">cong</a> <a id="6237" class="Symbol">(_</a> <a id="6240" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+_</a><a id="6242" class="Symbol">)</a> <a id="6244" class="Bound">∣y∣</a> <a id="6248" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
      <a id="6256" href="Text.Pretty.Core.html#2365" class="Function">x.height</a> <a id="6265" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="6267" href="Text.Pretty.Core.html#2365" class="Field">y.height</a> <a id="6276" href="Relation.Binary.PropositionalEquality.Core.html#3119" class="Function Operator">∎</a> <a id="6278" class="Keyword">where</a> <a id="6284" class="Keyword">open</a> <a id="6289" href="Relation.Binary.PropositionalEquality.Core.html#2722" class="Module">≡-Reasoning</a>
    <a id="6305" class="Symbol">...</a> <a id="6309" class="Symbol">|</a> <a id="6311" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="6316" class="Symbol">(</a><a id="6317" href="Text.Pretty.Core.html#6317" class="Bound">hd</a> <a id="6320" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6322" href="Text.Pretty.Core.html#6322" class="Bound">tl</a><a id="6324" class="Symbol">)</a> <a id="6326" class="Symbol">=</a> <a id="6328" href="Relation.Binary.PropositionalEquality.Core.html#2820" class="Function Operator">begin</a>
      <a id="6340" href="Text.Pretty.Core.html#6747" class="Function">∣node∣</a>                            <a id="6374" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="6377" href="Text.Pretty.Core.html#3290" class="Function">∣node?∣</a> <a id="6385" href="Text.Pretty.Core.html#4102" class="Function">blockx</a> <a id="6392" href="Text.Pretty.Core.html#6649" class="Function">middle</a> <a id="6399" href="Text.Pretty.Core.html#6678" class="Function">rest</a> <a id="6404" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
      <a id="6412" href="Text.Pretty.Core.html#6620" class="Function">∣blockx∣</a> <a id="6421" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="6423" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6427" class="Symbol">(</a><a id="6428" href="Data.Tree.Binary.html#1074" class="Function">#nodes</a> <a id="6435" href="Text.Pretty.Core.html#6678" class="Function">rest</a><a id="6439" class="Symbol">)</a> <a id="6441" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="6444" href="Relation.Binary.PropositionalEquality.Core.html#1144" class="Function">cong</a> <a id="6449" class="Symbol">((</a><a id="6451" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="6456" href="Text.Pretty.Core.html#4102" class="Function">blockx</a> <a id="6463" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+_</a><a id="6465" class="Symbol">)</a> <a id="6467" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="6470" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="6473" class="Symbol">)</a> <a id="6475" href="Text.Pretty.Core.html#6710" class="Function">∣rest∣</a> <a id="6482" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
      <a id="6490" href="Text.Pretty.Core.html#6620" class="Function">∣blockx∣</a> <a id="6499" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="6501" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6505" class="Symbol">(</a><a id="6506" href="Data.Tree.Binary.html#1074" class="Function">#nodes</a> <a id="6513" href="Text.Pretty.Core.html#6322" class="Bound">tl</a><a id="6515" class="Symbol">)</a>   <a id="6519" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="6522" href="Relation.Binary.PropositionalEquality.Core.html#1381" class="Function">cong₂</a> <a id="6528" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a> <a id="6532" class="Bound">∣x∣</a> <a id="6536" class="Bound">∣y∣</a> <a id="6540" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
      <a id="6548" href="Text.Pretty.Core.html#2365" class="Function">x.height</a> <a id="6557" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="6559" href="Text.Pretty.Core.html#2365" class="Field">y.height</a>               <a id="6582" href="Relation.Binary.PropositionalEquality.Core.html#3119" class="Function Operator">∎</a> <a id="6584" class="Keyword">where</a>

      <a id="6597" class="Keyword">open</a> <a id="6602" href="Relation.Binary.PropositionalEquality.Core.html#2722" class="Module">≡-Reasoning</a>
      <a id="6620" href="Text.Pretty.Core.html#6620" class="Function">∣blockx∣</a> <a id="6629" class="Symbol">=</a> <a id="6631" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="6636" href="Text.Pretty.Core.html#4102" class="Function">blockx</a>
      <a id="6649" href="Text.Pretty.Core.html#6649" class="Function">middle</a>   <a id="6658" class="Symbol">=</a> <a id="6660" href="Text.Pretty.Core.html#4222" class="Function">lastx</a> <a id="6666" href="Data.String.Base.html#2414" class="Function Operator">++</a> <a id="6669" href="Text.Pretty.Core.html#6317" class="Bound">hd</a>
      <a id="6678" href="Text.Pretty.Core.html#6678" class="Function">rest</a>     <a id="6687" class="Symbol">=</a> <a id="6689" href="Text.Pretty.Core.html#4915" class="Function">indents</a> <a id="6697" href="Text.Pretty.Core.html#4394" class="Function">pad</a> <a id="6701" href="Text.Pretty.Core.html#6322" class="Bound">tl</a>
      <a id="6710" href="Text.Pretty.Core.html#6710" class="Function">∣rest∣</a>   <a id="6719" class="Symbol">=</a> <a id="6721" href="Text.Pretty.Core.html#5013" class="Function">size-indents</a> <a id="6734" href="Text.Pretty.Core.html#4394" class="Function">pad</a> <a id="6738" href="Text.Pretty.Core.html#6322" class="Bound">tl</a>
      <a id="6747" href="Text.Pretty.Core.html#6747" class="Function">∣node∣</a>   <a id="6756" class="Symbol">=</a> <a id="6758" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="6763" class="Symbol">(</a><a id="6764" href="Text.Pretty.Core.html#3142" class="Function">node?</a> <a id="6770" href="Text.Pretty.Core.html#4102" class="Function">blockx</a> <a id="6777" href="Text.Pretty.Core.html#6649" class="Function">middle</a> <a id="6784" href="Text.Pretty.Core.html#6678" class="Function">rest</a><a id="6788" class="Symbol">)</a>

    <a id="append.block"></a><a id="6795" href="Text.Pretty.Core.html#6795" class="Function">block</a> <a id="6801" class="Symbol">:</a> <a id="6803" href="Data.Refinement.html#925" class="Function">[</a> <a id="6805" href="Text.Pretty.Core.html#6805" class="Bound">xs</a> <a id="6808" href="Data.Refinement.html#925" class="Function">∈</a> <a id="6810" href="Text.Pretty.Core.html#2054" class="Function">Content</a> <a id="6818" href="Data.Refinement.html#925" class="Function">∣</a> <a id="6820" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="6825" href="Text.Pretty.Core.html#6805" class="Bound">xs</a> <a id="6828" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6830" href="Text.Pretty.Core.html#4275" class="Function">height</a> <a id="6837" href="Data.Refinement.html#925" class="Function">]</a>
    <a id="6843" href="Text.Pretty.Core.html#6795" class="Function">block</a> <a id="6849" class="Symbol">.</a><a id="6850" href="Data.Refinement.html#644" class="Field">value</a> <a id="6856" class="Symbol">=</a> <a id="6858" href="Text.Pretty.Core.html#5898" class="Function">vBlock</a>
    <a id="6869" href="Text.Pretty.Core.html#6795" class="Function">block</a> <a id="6875" class="Symbol">.</a><a id="6876" href="Data.Refinement.html#662" class="Field">proof</a> <a id="6882" class="Symbol">=</a> <a id="6884" class="Symbol">⦇</a> <a id="6886" href="Text.Pretty.Core.html#5955" class="Function">isBlock</a> <a id="6894" class="Symbol">(</a><a id="6895" href="Text.Pretty.Core.html#2383" class="Field">Block.block</a> <a id="6907" href="Text.Pretty.Core.html#4031" class="Bound">x</a> <a id="6909" class="Symbol">.</a><a id="6910" href="Data.Refinement.html#662" class="Field">proof</a><a id="6915" class="Symbol">)</a> <a id="6917" class="Symbol">(</a><a id="6918" href="Text.Pretty.Core.html#2383" class="Field">Block.block</a> <a id="6930" href="Text.Pretty.Core.html#4033" class="Bound">y</a> <a id="6932" class="Symbol">.</a><a id="6933" href="Data.Refinement.html#662" class="Field">proof</a><a id="6938" class="Symbol">)</a> <a id="6940" class="Symbol">⦈</a>
      <a id="6948" class="Keyword">where</a> <a id="6954" class="Keyword">open</a> <a id="6959" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

    <a id="append.isLastLine"></a><a id="6975" href="Text.Pretty.Core.html#6975" class="Function">isLastLine</a> <a id="6986" class="Symbol">:</a> <a id="6988" href="Data.String.Base.html#2478" class="Function">length</a> <a id="6995" href="Text.Pretty.Core.html#4222" class="Function">lastx</a> <a id="7001" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="7003" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a> <a id="7015" class="Symbol">→</a>
                 <a id="7034" href="Data.String.Base.html#2478" class="Function">length</a> <a id="7041" href="Text.Pretty.Core.html#4248" class="Function">lasty</a> <a id="7047" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="7049" href="Text.Pretty.Core.html#2450" class="Field">y.lastWidth</a> <a id="7061" class="Symbol">→</a>
                 <a id="7080" href="Data.String.Base.html#2478" class="Function">length</a> <a id="7087" href="Text.Pretty.Core.html#5926" class="Function">vLast</a> <a id="7093" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="7095" href="Text.Pretty.Core.html#4330" class="Function">lastWidth</a>
    <a id="7109" href="Text.Pretty.Core.html#6975" class="Function">isLastLine</a> <a id="7120" href="Text.Pretty.Core.html#7120" class="Bound">∣x∣</a> <a id="7124" href="Text.Pretty.Core.html#7124" class="Bound">∣y∣</a> <a id="7128" class="Keyword">with</a> <a id="7133" href="Text.Pretty.Core.html#4130" class="Function">blocky</a>
    <a id="7144" class="Symbol">...</a> <a id="7148" class="Symbol">|</a> <a id="7150" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>        <a id="7165" class="Symbol">=</a> <a id="7167" href="Relation.Binary.PropositionalEquality.Core.html#2820" class="Function Operator">begin</a>
      <a id="7179" href="Data.String.Base.html#2478" class="Function">length</a> <a id="7186" class="Symbol">(</a><a id="7187" href="Text.Pretty.Core.html#4222" class="Function">lastx</a> <a id="7193" href="Data.String.Base.html#2414" class="Function Operator">++</a> <a id="7196" href="Text.Pretty.Core.html#4248" class="Function">lasty</a><a id="7201" class="Symbol">)</a>       <a id="7209" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="7212" href="Data.String.Unsafe.html#1232" class="Function">length-++</a> <a id="7222" href="Text.Pretty.Core.html#4222" class="Function">lastx</a> <a id="7228" href="Text.Pretty.Core.html#4248" class="Function">lasty</a> <a id="7234" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
      <a id="7242" href="Data.String.Base.html#2478" class="Function">length</a> <a id="7249" href="Text.Pretty.Core.html#4222" class="Function">lastx</a> <a id="7255" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="7257" href="Data.String.Base.html#2478" class="Function">length</a> <a id="7264" href="Text.Pretty.Core.html#4248" class="Function">lasty</a>   <a id="7272" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="7275" href="Relation.Binary.PropositionalEquality.Core.html#1381" class="Function">cong₂</a> <a id="7281" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a> <a id="7285" class="Bound">∣x∣</a> <a id="7289" class="Bound">∣y∣</a> <a id="7293" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
      <a id="7301" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a> <a id="7313" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="7315" href="Text.Pretty.Core.html#2450" class="Field">y.lastWidth</a>     <a id="7331" href="Relation.Binary.PropositionalEquality.Core.html#3119" class="Function Operator">∎</a> <a id="7333" class="Keyword">where</a> <a id="7339" class="Keyword">open</a> <a id="7344" href="Relation.Binary.PropositionalEquality.Core.html#2722" class="Module">≡-Reasoning</a>
    <a id="7360" class="Symbol">...</a> <a id="7364" class="Symbol">|</a> <a id="7366" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="7371" class="Symbol">(</a><a id="7372" href="Text.Pretty.Core.html#7372" class="Bound">hd</a> <a id="7375" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7377" href="Text.Pretty.Core.html#7377" class="Bound">tl</a><a id="7379" class="Symbol">)</a> <a id="7381" class="Symbol">=</a> <a id="7383" href="Relation.Binary.PropositionalEquality.Core.html#2820" class="Function Operator">begin</a>
      <a id="7395" href="Data.String.Base.html#2478" class="Function">length</a> <a id="7402" class="Symbol">(</a><a id="7403" href="Text.Pretty.Core.html#4650" class="Function">indent</a> <a id="7410" href="Text.Pretty.Core.html#4394" class="Function">pad</a> <a id="7414" href="Text.Pretty.Core.html#4248" class="Function">lasty</a><a id="7419" class="Symbol">)</a>          <a id="7430" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="7433" href="Text.Pretty.Core.html#4723" class="Function">size-indent</a> <a id="7445" href="Text.Pretty.Core.html#4394" class="Function">pad</a> <a id="7449" href="Text.Pretty.Core.html#4248" class="Function">lasty</a> <a id="7455" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
      <a id="7463" href="Data.Maybe.Base.html#1569" class="Function">maybe′</a> <a id="7470" href="Data.String.Base.html#2478" class="Function">length</a> <a id="7477" class="Number">0</a> <a id="7479" href="Text.Pretty.Core.html#4394" class="Function">pad</a> <a id="7483" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="7485" href="Data.String.Base.html#2478" class="Function">length</a> <a id="7492" href="Text.Pretty.Core.html#4248" class="Function">lasty</a> <a id="7498" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="7501" href="Relation.Binary.PropositionalEquality.Core.html#1381" class="Function">cong₂</a> <a id="7507" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a> <a id="7511" href="Text.Pretty.Core.html#4502" class="Function">size-pad</a> <a id="7520" class="Bound">∣y∣</a> <a id="7524" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
      <a id="7532" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a> <a id="7544" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="7546" href="Text.Pretty.Core.html#2450" class="Field">y.lastWidth</a>          <a id="7567" href="Relation.Binary.PropositionalEquality.Core.html#3119" class="Function Operator">∎</a> <a id="7569" class="Keyword">where</a> <a id="7575" class="Keyword">open</a> <a id="7580" href="Relation.Binary.PropositionalEquality.Core.html#2722" class="Module">≡-Reasoning</a>

    <a id="append.last"></a><a id="7597" href="Text.Pretty.Core.html#7597" class="Function">last</a> <a id="7602" class="Symbol">:</a> <a id="7604" href="Data.Refinement.html#925" class="Function">[</a> <a id="7606" href="Text.Pretty.Core.html#7606" class="Bound">s</a> <a id="7608" href="Data.Refinement.html#925" class="Function">∈</a> <a id="7610" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="7617" href="Data.Refinement.html#925" class="Function">∣</a> <a id="7619" href="Data.String.Base.html#2478" class="Function">length</a> <a id="7626" href="Text.Pretty.Core.html#7606" class="Bound">s</a> <a id="7628" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="7630" href="Text.Pretty.Core.html#4330" class="Function">lastWidth</a> <a id="7640" href="Data.Refinement.html#925" class="Function">]</a>
    <a id="7646" href="Text.Pretty.Core.html#7597" class="Function">last</a> <a id="7651" class="Symbol">.</a><a id="7652" href="Data.Refinement.html#644" class="Field">value</a> <a id="7658" class="Symbol">=</a> <a id="7660" href="Text.Pretty.Core.html#5926" class="Function">vLast</a>
    <a id="7670" href="Text.Pretty.Core.html#7597" class="Function">last</a> <a id="7675" class="Symbol">.</a><a id="7676" href="Data.Refinement.html#662" class="Field">proof</a> <a id="7682" class="Symbol">=</a> <a id="7684" class="Symbol">⦇</a> <a id="7686" href="Text.Pretty.Core.html#6975" class="Function">isLastLine</a> <a id="7697" class="Symbol">(</a><a id="7698" href="Text.Pretty.Core.html#2468" class="Field">Block.last</a> <a id="7709" href="Text.Pretty.Core.html#4031" class="Bound">x</a> <a id="7711" class="Symbol">.</a><a id="7712" href="Data.Refinement.html#662" class="Field">proof</a><a id="7717" class="Symbol">)</a> <a id="7719" class="Symbol">(</a><a id="7720" href="Text.Pretty.Core.html#2468" class="Field">Block.last</a> <a id="7731" href="Text.Pretty.Core.html#4033" class="Bound">y</a> <a id="7733" class="Symbol">.</a><a id="7734" href="Data.Refinement.html#662" class="Field">proof</a><a id="7739" class="Symbol">)</a> <a id="7741" class="Symbol">⦈</a>
      <a id="7749" class="Keyword">where</a> <a id="7755" class="Keyword">open</a> <a id="7760" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

    <a id="append.vMaxWidth"></a><a id="7776" href="Text.Pretty.Core.html#7776" class="Function">vMaxWidth</a> <a id="7786" class="Symbol">:</a> <a id="7788" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="7794" href="Text.Pretty.Core.html#7776" class="Function">vMaxWidth</a> <a id="7804" class="Symbol">=</a> <a id="7806" href="Text.Pretty.Core.html#4159" class="Function">widthx</a> <a id="7813" href="Data.Nat.Base.html#3474" class="Function Operator">⊔</a> <a id="7815" class="Symbol">(</a><a id="7816" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a> <a id="7828" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="7830" href="Text.Pretty.Core.html#4190" class="Function">widthy</a><a id="7836" class="Symbol">)</a>

    <a id="append.isMaxWidth₁"></a><a id="7843" href="Text.Pretty.Core.html#7843" class="Function">isMaxWidth₁</a> <a id="7855" class="Symbol">:</a> <a id="7857" href="Text.Pretty.Core.html#2450" class="Field">y.lastWidth</a> <a id="7869" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="7871" href="Text.Pretty.Core.html#4190" class="Function">widthy</a> <a id="7878" class="Symbol">→</a> <a id="7880" href="Text.Pretty.Core.html#4330" class="Function">lastWidth</a> <a id="7890" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="7892" href="Text.Pretty.Core.html#7776" class="Function">vMaxWidth</a>
    <a id="7906" href="Text.Pretty.Core.html#7843" class="Function">isMaxWidth₁</a> <a id="7918" href="Text.Pretty.Core.html#7918" class="Bound">p</a> <a id="7920" class="Symbol">=</a> <a id="7922" href="Relation.Binary.Reasoning.Base.Triple.html#3020" class="Function Operator">begin</a>
      <a id="7934" href="Text.Pretty.Core.html#4330" class="Function">lastWidth</a>            <a id="7955" href="Relation.Binary.Reasoning.Base.Triple.html#3755" class="Function">≤⟨</a> <a id="7958" href="Data.Nat.Properties.html#18989" class="Function">+-monoʳ-≤</a> <a id="7968" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a> <a id="7980" href="Text.Pretty.Core.html#7918" class="Bound">p</a> <a id="7982" href="Relation.Binary.Reasoning.Base.Triple.html#3755" class="Function">⟩</a>
      <a id="7990" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a> <a id="8002" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="8004" href="Text.Pretty.Core.html#4190" class="Function">widthy</a> <a id="8011" href="Relation.Binary.Reasoning.Base.Triple.html#3755" class="Function">≤⟨</a> <a id="8014" href="Data.Nat.Properties.html#35613" class="Function">m≤n⊔m</a> <a id="8020" class="Symbol">_</a> <a id="8022" class="Symbol">_</a> <a id="8024" href="Relation.Binary.Reasoning.Base.Triple.html#3755" class="Function">⟩</a>
      <a id="8032" href="Text.Pretty.Core.html#7776" class="Function">vMaxWidth</a>            <a id="8053" href="Relation.Binary.Reasoning.Base.Triple.html#5129" class="Function Operator">∎</a> <a id="8055" class="Keyword">where</a> <a id="8061" class="Keyword">open</a> <a id="8066" href="Data.Nat.Properties.html#13860" class="Module">≤-Reasoning</a>

    <a id="append.isMaxWidth₂"></a><a id="8083" href="Text.Pretty.Core.html#8083" class="Function">isMaxWidth₂</a> <a id="8095" class="Symbol">:</a> <a id="8097" href="Data.String.Base.html#2478" class="Function">length</a> <a id="8104" href="Text.Pretty.Core.html#4222" class="Function">lastx</a> <a id="8110" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8112" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a> <a id="8124" class="Symbol">→</a>
                  <a id="8144" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a> <a id="8156" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="8158" href="Text.Pretty.Core.html#4159" class="Function">widthx</a> <a id="8165" class="Symbol">→</a>
                  <a id="8185" href="Text.Pretty.Core.html#2268" class="Function">All≤</a> <a id="8190" href="Text.Pretty.Core.html#4159" class="Function">widthx</a> <a id="8197" href="Text.Pretty.Core.html#4102" class="Function">blockx</a> <a id="8204" class="Symbol">→</a>
                  <a id="8224" href="Text.Pretty.Core.html#2268" class="Function">All≤</a> <a id="8229" href="Text.Pretty.Core.html#4190" class="Function">widthy</a> <a id="8236" href="Text.Pretty.Core.html#4130" class="Function">blocky</a> <a id="8243" class="Symbol">→</a>
                  <a id="8263" href="Text.Pretty.Core.html#2268" class="Function">All≤</a> <a id="8268" href="Text.Pretty.Core.html#7776" class="Function">vMaxWidth</a> <a id="8278" href="Text.Pretty.Core.html#5898" class="Function">vBlock</a>
    <a id="8289" href="Text.Pretty.Core.html#8083" class="Function">isMaxWidth₂</a> <a id="8301" href="Text.Pretty.Core.html#8301" class="Bound">∣x∣≡</a> <a id="8306" href="Text.Pretty.Core.html#8306" class="Bound">∣x∣≤</a> <a id="8311" href="Text.Pretty.Core.html#8311" class="Bound">∣xs∣</a> <a id="8316" href="Text.Pretty.Core.html#8316" class="Bound">∣ys∣</a> <a id="8321" class="Keyword">with</a> <a id="8326" href="Text.Pretty.Core.html#4130" class="Function">blocky</a>
    <a id="8337" class="Symbol">...</a> <a id="8341" class="Symbol">|</a> <a id="8343" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>        <a id="8358" class="Symbol">=</a> <a id="8360" href="Text.Pretty.Core.html#3450" class="Function">≤-Content</a> <a id="8370" class="Symbol">(</a><a id="8371" href="Data.Nat.Properties.html#35560" class="Function">m≤m⊔n</a> <a id="8377" class="Symbol">_</a> <a id="8379" class="Symbol">_)</a> <a id="8382" class="Bound">∣xs∣</a>
    <a id="8391" href="Text.Pretty.Core.html#8083" class="Function">isMaxWidth₂</a> <a id="8403" href="Text.Pretty.Core.html#8403" class="Bound">∣x∣≡</a> <a id="8408" href="Text.Pretty.Core.html#8408" class="Bound">∣x∣≤</a> <a id="8413" href="Text.Pretty.Core.html#8413" class="Bound">∣xs∣</a> <a id="8418" class="Symbol">(</a><a id="8419" href="Data.Maybe.Relation.Unary.All.html#997" class="InductiveConstructor">just</a> <a id="8424" class="Symbol">(</a><a id="8425" href="Text.Pretty.Core.html#8425" class="Bound">∣hd∣</a> <a id="8430" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8432" href="Text.Pretty.Core.html#8432" class="Bound">∣tl∣</a><a id="8436" class="Symbol">))</a>
        <a id="8447" class="Symbol">|</a> <a id="8449" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="8454" class="Symbol">(</a><a id="8455" href="Text.Pretty.Core.html#8455" class="Bound">hd</a> <a id="8458" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8460" href="Text.Pretty.Core.html#8460" class="Bound">tl</a><a id="8462" class="Symbol">)</a> <a id="8464" class="Symbol">=</a>
      <a id="8472" href="Text.Pretty.Core.html#3648" class="Function">All≤-node?</a> <a id="8483" class="Symbol">(</a><a id="8484" href="Text.Pretty.Core.html#3450" class="Function">≤-Content</a> <a id="8494" class="Symbol">(</a><a id="8495" href="Data.Nat.Properties.html#35560" class="Function">m≤m⊔n</a> <a id="8501" class="Symbol">_</a> <a id="8503" class="Symbol">_)</a> <a id="8506" href="Text.Pretty.Core.html#8413" class="Bound">∣xs∣</a><a id="8510" class="Symbol">)</a>
                 <a id="8529" href="Text.Pretty.Core.html#8699" class="Function">middle</a>
                 <a id="8553" class="Symbol">(</a><a id="8554" href="Relation.Binary.PropositionalEquality.Core.html#1794" class="Function">subst</a> <a id="8560" class="Symbol">(</a><a id="8561" href="Data.Tree.Binary.Relation.Unary.All.html#629" class="Datatype">Allᵀ.All</a> <a id="8570" class="Symbol">_</a> <a id="8572" href="Relation.Unary.html#1401" class="Function">U</a><a id="8573" class="Symbol">)</a> <a id="8575" class="Symbol">(</a><a id="8576" href="Relation.Binary.PropositionalEquality.Core.html#1698" class="Function">sym</a> <a id="8580" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="8582" href="Text.Pretty.Core.html#5174" class="Function">unfold-indents</a> <a id="8597" href="Text.Pretty.Core.html#4394" class="Function">pad</a> <a id="8601" href="Text.Pretty.Core.html#8460" class="Bound">tl</a><a id="8603" class="Symbol">)</a>
                 <a id="8622" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="8624" href="Data.Tree.Binary.Relation.Unary.All.Properties.html#840" class="Function">Allᵀₚ.mapₙ⁺</a> <a id="8636" class="Symbol">(</a><a id="8637" href="Text.Pretty.Core.html#4650" class="Function">indent</a> <a id="8644" href="Text.Pretty.Core.html#4394" class="Function">pad</a><a id="8647" class="Symbol">)</a> <a id="8649" class="Symbol">(</a><a id="8650" href="Data.Tree.Binary.Relation.Unary.All.html#989" class="Function">Allᵀ.mapₙ</a> <a id="8660" class="Symbol">(</a><a id="8661" href="Text.Pretty.Core.html#9052" class="Function">indented</a> <a id="8670" class="Symbol">_)</a> <a id="8673" href="Text.Pretty.Core.html#8432" class="Bound">∣tl∣</a><a id="8677" class="Symbol">))</a>
      <a id="8686" class="Keyword">where</a>

      <a id="8699" href="Text.Pretty.Core.html#8699" class="Function">middle</a> <a id="8706" class="Symbol">:</a> <a id="8708" href="Data.String.Base.html#2478" class="Function">length</a> <a id="8715" class="Symbol">(</a><a id="8716" href="Text.Pretty.Core.html#4222" class="Function">lastx</a> <a id="8722" href="Data.String.Base.html#2414" class="Function Operator">++</a> <a id="8725" href="Text.Pretty.Core.html#8455" class="Bound">hd</a><a id="8727" class="Symbol">)</a> <a id="8729" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="8731" href="Text.Pretty.Core.html#7776" class="Function">vMaxWidth</a>
      <a id="8747" href="Text.Pretty.Core.html#8699" class="Function">middle</a> <a id="8754" class="Symbol">=</a> <a id="8756" href="Relation.Binary.Reasoning.Base.Triple.html#3020" class="Function Operator">begin</a>
        <a id="8770" href="Data.String.Base.html#2478" class="Function">length</a> <a id="8777" class="Symbol">(</a><a id="8778" href="Text.Pretty.Core.html#4222" class="Function">lastx</a> <a id="8784" href="Data.String.Base.html#2414" class="Function Operator">++</a> <a id="8787" href="Text.Pretty.Core.html#8455" class="Bound">hd</a><a id="8789" class="Symbol">)</a>     <a id="8795" href="Relation.Binary.Reasoning.Base.Triple.html#4528" class="Function">≡⟨</a> <a id="8798" href="Data.String.Unsafe.html#1232" class="Function">length-++</a> <a id="8808" href="Text.Pretty.Core.html#4222" class="Function">lastx</a> <a id="8814" href="Text.Pretty.Core.html#8455" class="Bound">hd</a> <a id="8817" href="Relation.Binary.Reasoning.Base.Triple.html#4528" class="Function">⟩</a>
        <a id="8827" href="Data.String.Base.html#2478" class="Function">length</a> <a id="8834" href="Text.Pretty.Core.html#4222" class="Function">lastx</a> <a id="8840" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="8842" href="Data.String.Base.html#2478" class="Function">length</a> <a id="8849" href="Text.Pretty.Core.html#8455" class="Bound">hd</a> <a id="8852" href="Relation.Binary.Reasoning.Base.Triple.html#4528" class="Function">≡⟨</a> <a id="8855" href="Relation.Binary.PropositionalEquality.Core.html#1144" class="Function">cong</a> <a id="8860" class="Symbol">(</a><a id="8861" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+</a> <a id="8864" class="Symbol">_)</a> <a id="8867" href="Text.Pretty.Core.html#8403" class="Bound">∣x∣≡</a> <a id="8872" href="Relation.Binary.Reasoning.Base.Triple.html#4528" class="Function">⟩</a>
        <a id="8882" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a> <a id="8894" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="8896" href="Data.String.Base.html#2478" class="Function">length</a> <a id="8903" href="Text.Pretty.Core.html#8455" class="Bound">hd</a>  <a id="8907" href="Relation.Binary.Reasoning.Base.Triple.html#3755" class="Function">≤⟨</a> <a id="8910" href="Data.Nat.Properties.html#18989" class="Function">+-monoʳ-≤</a> <a id="8920" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a> <a id="8932" href="Text.Pretty.Core.html#8425" class="Bound">∣hd∣</a> <a id="8937" href="Relation.Binary.Reasoning.Base.Triple.html#3755" class="Function">⟩</a>
        <a id="8947" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a> <a id="8959" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="8961" href="Text.Pretty.Core.html#4190" class="Function">widthy</a>     <a id="8972" href="Relation.Binary.Reasoning.Base.Triple.html#3755" class="Function">≤⟨</a> <a id="8975" href="Data.Nat.Properties.html#35613" class="Function">m≤n⊔m</a> <a id="8981" class="Symbol">_</a> <a id="8983" class="Symbol">_</a> <a id="8985" href="Relation.Binary.Reasoning.Base.Triple.html#3755" class="Function">⟩</a>
        <a id="8995" href="Text.Pretty.Core.html#7776" class="Function">vMaxWidth</a>                <a id="9020" href="Relation.Binary.Reasoning.Base.Triple.html#5129" class="Function Operator">∎</a> <a id="9022" class="Keyword">where</a> <a id="9028" class="Keyword">open</a> <a id="9033" href="Data.Nat.Properties.html#13860" class="Module">≤-Reasoning</a>

      <a id="9052" href="Text.Pretty.Core.html#9052" class="Function">indented</a> <a id="9061" class="Symbol">:</a> <a id="9063" class="Symbol">∀</a> <a id="9065" href="Text.Pretty.Core.html#9065" class="Bound">s</a> <a id="9067" class="Symbol">→</a> <a id="9069" href="Data.String.Base.html#2478" class="Function">length</a> <a id="9076" href="Text.Pretty.Core.html#9065" class="Bound">s</a> <a id="9078" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="9080" href="Text.Pretty.Core.html#4190" class="Function">widthy</a> <a id="9087" class="Symbol">→</a>
                 <a id="9106" href="Data.String.Base.html#2478" class="Function">length</a> <a id="9113" class="Symbol">(</a><a id="9114" href="Text.Pretty.Core.html#4650" class="Function">indent</a> <a id="9121" href="Text.Pretty.Core.html#4394" class="Function">pad</a> <a id="9125" href="Text.Pretty.Core.html#9065" class="Bound">s</a><a id="9126" class="Symbol">)</a> <a id="9128" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="9130" href="Text.Pretty.Core.html#7776" class="Function">vMaxWidth</a>
      <a id="9146" href="Text.Pretty.Core.html#9052" class="Function">indented</a> <a id="9155" href="Text.Pretty.Core.html#9155" class="Bound">s</a> <a id="9157" href="Text.Pretty.Core.html#9157" class="Bound">∣s∣</a> <a id="9161" class="Symbol">=</a> <a id="9163" href="Relation.Binary.Reasoning.Base.Triple.html#3020" class="Function Operator">begin</a>
        <a id="9177" href="Data.String.Base.html#2478" class="Function">length</a> <a id="9184" class="Symbol">(</a><a id="9185" href="Text.Pretty.Core.html#4650" class="Function">indent</a> <a id="9192" href="Text.Pretty.Core.html#4394" class="Function">pad</a> <a id="9196" href="Text.Pretty.Core.html#9155" class="Bound">s</a><a id="9197" class="Symbol">)</a>          <a id="9208" href="Relation.Binary.Reasoning.Base.Triple.html#4528" class="Function">≡⟨</a> <a id="9211" href="Text.Pretty.Core.html#4723" class="Function">size-indent</a> <a id="9223" href="Text.Pretty.Core.html#4394" class="Function">pad</a> <a id="9227" href="Text.Pretty.Core.html#9155" class="Bound">s</a> <a id="9229" href="Relation.Binary.Reasoning.Base.Triple.html#4528" class="Function">⟩</a>
        <a id="9239" href="Data.Maybe.Base.html#1569" class="Function">maybe′</a> <a id="9246" href="Data.String.Base.html#2478" class="Function">length</a> <a id="9253" class="Number">0</a> <a id="9255" href="Text.Pretty.Core.html#4394" class="Function">pad</a> <a id="9259" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="9261" href="Data.String.Base.html#2478" class="Function">length</a> <a id="9268" href="Text.Pretty.Core.html#9155" class="Bound">s</a> <a id="9270" href="Relation.Binary.Reasoning.Base.Triple.html#4528" class="Function">≡⟨</a> <a id="9273" href="Relation.Binary.PropositionalEquality.Core.html#1144" class="Function">cong</a> <a id="9278" class="Symbol">(</a><a id="9279" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+</a> <a id="9282" class="Symbol">_)</a> <a id="9285" href="Text.Pretty.Core.html#4502" class="Function">size-pad</a> <a id="9294" href="Relation.Binary.Reasoning.Base.Triple.html#4528" class="Function">⟩</a>
        <a id="9304" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a> <a id="9316" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="9318" href="Data.String.Base.html#2478" class="Function">length</a> <a id="9325" href="Text.Pretty.Core.html#9155" class="Bound">s</a>         <a id="9335" href="Relation.Binary.Reasoning.Base.Triple.html#3755" class="Function">≤⟨</a> <a id="9338" href="Data.Nat.Properties.html#18989" class="Function">+-monoʳ-≤</a> <a id="9348" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a> <a id="9360" href="Text.Pretty.Core.html#9157" class="Bound">∣s∣</a> <a id="9364" href="Relation.Binary.Reasoning.Base.Triple.html#3755" class="Function">⟩</a>
        <a id="9374" href="Text.Pretty.Core.html#2450" class="Function">x.lastWidth</a> <a id="9386" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="9388" href="Text.Pretty.Core.html#4190" class="Function">widthy</a>           <a id="9405" href="Relation.Binary.Reasoning.Base.Triple.html#3755" class="Function">≤⟨</a> <a id="9408" href="Data.Nat.Properties.html#35613" class="Function">m≤n⊔m</a> <a id="9414" class="Symbol">(</a><a id="9415" href="Text.Pretty.Core.html#4159" class="Function">widthx</a><a id="9421" class="Symbol">)</a> <a id="9423" class="Symbol">_</a> <a id="9425" href="Relation.Binary.Reasoning.Base.Triple.html#3755" class="Function">⟩</a>
        <a id="9435" href="Text.Pretty.Core.html#7776" class="Function">vMaxWidth</a>                      <a id="9466" href="Relation.Binary.Reasoning.Base.Triple.html#5129" class="Function Operator">∎</a> <a id="9468" class="Keyword">where</a> <a id="9474" class="Keyword">open</a> <a id="9479" href="Data.Nat.Properties.html#13860" class="Module">≤-Reasoning</a>

    <a id="append.maxWidth"></a><a id="9496" href="Text.Pretty.Core.html#9496" class="Function">maxWidth</a> <a id="9505" class="Symbol">:</a> <a id="9507" href="Data.Refinement.html#925" class="Function">[</a> <a id="9509" href="Text.Pretty.Core.html#9509" class="Bound">n</a> <a id="9511" href="Data.Refinement.html#925" class="Function">∈</a> <a id="9513" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="9515" href="Data.Refinement.html#925" class="Function">∣</a> <a id="9517" href="Text.Pretty.Core.html#4330" class="Function">lastWidth</a> <a id="9527" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="9529" href="Text.Pretty.Core.html#9509" class="Bound">n</a> <a id="9531" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="9533" href="Text.Pretty.Core.html#2268" class="Function">All≤</a> <a id="9538" href="Text.Pretty.Core.html#9509" class="Bound">n</a> <a id="9540" href="Text.Pretty.Core.html#5898" class="Function">vBlock</a> <a id="9547" href="Data.Refinement.html#925" class="Function">]</a>
    <a id="9553" href="Text.Pretty.Core.html#9496" class="Function">maxWidth</a> <a id="9562" class="Symbol">.</a><a id="9563" href="Data.Refinement.html#644" class="Field">value</a> <a id="9569" class="Symbol">=</a> <a id="9571" href="Text.Pretty.Core.html#7776" class="Function">vMaxWidth</a>
    <a id="9585" href="Text.Pretty.Core.html#9496" class="Function">maxWidth</a> <a id="9594" class="Symbol">.</a><a id="9595" href="Data.Refinement.html#662" class="Field">proof</a> <a id="9601" class="Symbol">=</a>
      <a id="9609" class="Symbol">⦇</a> <a id="9611" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="9615" class="Symbol">⦇</a> <a id="9617" href="Text.Pretty.Core.html#7843" class="Function">isMaxWidth₁</a> <a id="9629" class="Symbol">(</a><a id="9630" href="Data.Irrelevant.html#954" class="Function">map</a> <a id="9634" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="9640" class="Symbol">(</a><a id="9641" href="Text.Pretty.Core.html#2549" class="Field">Block.maxWidth</a> <a id="9656" href="Text.Pretty.Core.html#4033" class="Bound">y</a> <a id="9658" class="Symbol">.</a><a id="9659" href="Data.Refinement.html#662" class="Field">proof</a><a id="9664" class="Symbol">))</a> <a id="9667" class="Symbol">⦈</a>
            <a id="9681" class="Symbol">⦇</a> <a id="9683" href="Text.Pretty.Core.html#8083" class="Function">isMaxWidth₂</a> <a id="9695" class="Symbol">(</a><a id="9696" href="Text.Pretty.Core.html#2468" class="Field">Block.last</a> <a id="9707" href="Text.Pretty.Core.html#4031" class="Bound">x</a> <a id="9709" class="Symbol">.</a><a id="9710" href="Data.Refinement.html#662" class="Field">proof</a><a id="9715" class="Symbol">)</a>
                          <a id="9743" class="Symbol">(</a><a id="9744" href="Data.Irrelevant.html#954" class="Function">map</a> <a id="9748" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="9754" class="Symbol">(</a><a id="9755" href="Text.Pretty.Core.html#2549" class="Field">Block.maxWidth</a> <a id="9770" href="Text.Pretty.Core.html#4031" class="Bound">x</a> <a id="9772" class="Symbol">.</a><a id="9773" href="Data.Refinement.html#662" class="Field">proof</a><a id="9778" class="Symbol">))</a>
                          <a id="9807" class="Symbol">(</a><a id="9808" href="Data.Irrelevant.html#954" class="Function">map</a> <a id="9812" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="9818" class="Symbol">(</a><a id="9819" href="Text.Pretty.Core.html#2549" class="Field">Block.maxWidth</a> <a id="9834" href="Text.Pretty.Core.html#4031" class="Bound">x</a> <a id="9836" class="Symbol">.</a><a id="9837" href="Data.Refinement.html#662" class="Field">proof</a><a id="9842" class="Symbol">))</a>
                          <a id="9871" class="Symbol">(</a><a id="9872" href="Data.Irrelevant.html#954" class="Function">map</a> <a id="9876" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="9882" class="Symbol">(</a><a id="9883" href="Text.Pretty.Core.html#2549" class="Field">Block.maxWidth</a> <a id="9898" href="Text.Pretty.Core.html#4033" class="Bound">y</a> <a id="9900" class="Symbol">.</a><a id="9901" href="Data.Refinement.html#662" class="Field">proof</a><a id="9906" class="Symbol">))</a>
            <a id="9921" class="Symbol">⦈</a>
      <a id="9929" class="Symbol">⦈</a> <a id="9931" class="Keyword">where</a> <a id="9937" class="Keyword">open</a> <a id="9942" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

<a id="9954" class="Keyword">infixl</a> <a id="9961" class="Number">4</a> <a id="9963" href="Text.Pretty.Core.html#9968" class="Function Operator">_&lt;&gt;_</a>
<a id="_&lt;&gt;_"></a><a id="9968" href="Text.Pretty.Core.html#9968" class="Function Operator">_&lt;&gt;_</a> <a id="9973" class="Symbol">:</a> <a id="9975" href="Text.Pretty.Core.html#2335" class="Record">Block</a> <a id="9981" class="Symbol">→</a> <a id="9983" href="Text.Pretty.Core.html#2335" class="Record">Block</a> <a id="9989" class="Symbol">→</a> <a id="9991" href="Text.Pretty.Core.html#2335" class="Record">Block</a>
<a id="9997" href="Text.Pretty.Core.html#9997" class="Bound">x</a> <a id="9999" href="Text.Pretty.Core.html#9968" class="Function Operator">&lt;&gt;</a> <a id="10002" href="Text.Pretty.Core.html#10002" class="Bound">y</a> <a id="10004" class="Symbol">=</a> <a id="10006" class="Keyword">record</a> <a id="10013" class="Symbol">{</a> <a id="10015" href="Text.Pretty.Core.html#10015" class="Module">append</a> <a id="10022" href="Text.Pretty.Core.html#9997" class="Bound">x</a> <a id="10024" href="Text.Pretty.Core.html#10002" class="Bound">y</a> <a id="10026" class="Symbol">}</a>

<a id="10029" class="Comment">------------------------------------------------------------------------</a>
<a id="10102" class="Comment">-- Flush (introduces a new line)</a>

<a id="10136" class="Keyword">private</a>
  <a id="10146" class="Keyword">module</a> <a id="flush"></a><a id="10153" href="Text.Pretty.Core.html#10153" class="Module">flush</a> <a id="10159" class="Symbol">(</a><a id="10160" href="Text.Pretty.Core.html#10160" class="Bound">x</a> <a id="10162" class="Symbol">:</a> <a id="10164" href="Text.Pretty.Core.html#2335" class="Record">Block</a><a id="10169" class="Symbol">)</a> <a id="10171" class="Keyword">where</a>

    <a id="10182" class="Keyword">module</a> <a id="flush.x"></a><a id="10189" href="Text.Pretty.Core.html#10189" class="Module">x</a> <a id="10191" class="Symbol">=</a> <a id="10193" href="Text.Pretty.Core.html#2335" class="Module">Block</a> <a id="10199" href="Text.Pretty.Core.html#10160" class="Bound">x</a>
    <a id="flush.blockx"></a><a id="10205" href="Text.Pretty.Core.html#10205" class="Function">blockx</a>  <a id="10213" class="Symbol">=</a> <a id="10215" href="Text.Pretty.Core.html#2383" class="Field">x.block</a> <a id="10223" class="Symbol">.</a><a id="10224" href="Data.Refinement.html#644" class="Field">value</a>
    <a id="flush.lastx"></a><a id="10234" href="Text.Pretty.Core.html#10234" class="Function">lastx</a>   <a id="10242" class="Symbol">=</a> <a id="10244" href="Text.Pretty.Core.html#2468" class="Field">x.last</a> <a id="10251" class="Symbol">.</a><a id="10252" href="Data.Refinement.html#644" class="Field">value</a>
    <a id="flush.widthx"></a><a id="10262" href="Text.Pretty.Core.html#10262" class="Function">widthx</a>  <a id="10270" class="Symbol">=</a> <a id="10272" href="Text.Pretty.Core.html#2549" class="Field">x.maxWidth</a> <a id="10283" class="Symbol">.</a><a id="10284" href="Data.Refinement.html#644" class="Field">value</a>
    <a id="flush.heightx"></a><a id="10294" href="Text.Pretty.Core.html#10294" class="Function">heightx</a> <a id="10302" class="Symbol">=</a> <a id="10304" href="Text.Pretty.Core.html#2365" class="Field">x.height</a>

    <a id="flush.height"></a><a id="10318" href="Text.Pretty.Core.html#10318" class="Function">height</a>    <a id="10328" class="Symbol">=</a> <a id="10330" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="10334" href="Text.Pretty.Core.html#10294" class="Function">heightx</a>
    <a id="flush.lastWidth"></a><a id="10346" href="Text.Pretty.Core.html#10346" class="Function">lastWidth</a> <a id="10356" class="Symbol">=</a> <a id="10358" class="Number">0</a>
    <a id="flush.vMaxWidth"></a><a id="10364" href="Text.Pretty.Core.html#10364" class="Function">vMaxWidth</a> <a id="10374" class="Symbol">=</a> <a id="10376" href="Text.Pretty.Core.html#10262" class="Function">widthx</a>

    <a id="flush.last"></a><a id="10388" href="Text.Pretty.Core.html#10388" class="Function">last</a> <a id="10393" class="Symbol">:</a> <a id="10395" href="Data.Refinement.html#925" class="Function">[</a> <a id="10397" href="Text.Pretty.Core.html#10397" class="Bound">s</a> <a id="10399" href="Data.Refinement.html#925" class="Function">∈</a> <a id="10401" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="10408" href="Data.Refinement.html#925" class="Function">∣</a> <a id="10410" href="Data.String.Base.html#2478" class="Function">length</a> <a id="10417" href="Text.Pretty.Core.html#10397" class="Bound">s</a> <a id="10419" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10421" href="Text.Pretty.Core.html#10346" class="Function">lastWidth</a> <a id="10431" href="Data.Refinement.html#925" class="Function">]</a>
    <a id="10437" href="Text.Pretty.Core.html#10388" class="Function">last</a> <a id="10442" class="Symbol">=</a> <a id="10444" class="String">&quot;&quot;</a> <a id="10447" href="Data.Refinement.html#632" class="InductiveConstructor Operator">,</a> <a id="10449" class="Symbol">⦇</a> <a id="10451" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="10456" class="Symbol">⦈</a> <a id="10458" class="Keyword">where</a> <a id="10464" class="Keyword">open</a> <a id="10469" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

    <a id="flush.vContent"></a><a id="10485" href="Text.Pretty.Core.html#10485" class="Function">vContent</a> <a id="10494" class="Symbol">=</a> <a id="10496" href="Text.Pretty.Core.html#3142" class="Function">node?</a> <a id="10502" href="Text.Pretty.Core.html#10205" class="Function">blockx</a> <a id="10509" href="Text.Pretty.Core.html#10234" class="Function">lastx</a> <a id="10515" class="Symbol">(</a><a id="10516" href="Data.Tree.Binary.html#742" class="InductiveConstructor">leaf</a> <a id="10521" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="10523" class="Symbol">)</a>

    <a id="flush.isBlock"></a><a id="10530" href="Text.Pretty.Core.html#10530" class="Function">isBlock</a> <a id="10538" class="Symbol">:</a> <a id="10540" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="10545" href="Text.Pretty.Core.html#10205" class="Function">blockx</a> <a id="10552" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10554" href="Text.Pretty.Core.html#10294" class="Function">heightx</a> <a id="10562" class="Symbol">→</a> <a id="10564" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="10569" href="Text.Pretty.Core.html#10485" class="Function">vContent</a> <a id="10578" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10580" href="Text.Pretty.Core.html#10318" class="Function">height</a>
    <a id="10591" href="Text.Pretty.Core.html#10530" class="Function">isBlock</a> <a id="10599" href="Text.Pretty.Core.html#10599" class="Bound">∣x∣</a> <a id="10603" class="Symbol">=</a> <a id="10605" href="Relation.Binary.PropositionalEquality.Core.html#2820" class="Function Operator">begin</a>
      <a id="10617" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="10622" href="Text.Pretty.Core.html#10485" class="Function">vContent</a>   <a id="10633" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="10636" href="Text.Pretty.Core.html#3290" class="Function">∣node?∣</a> <a id="10644" href="Text.Pretty.Core.html#10205" class="Function">blockx</a> <a id="10651" href="Text.Pretty.Core.html#10234" class="Function">lastx</a> <a id="10657" class="Symbol">(</a><a id="10658" href="Data.Tree.Binary.html#742" class="InductiveConstructor">leaf</a> <a id="10663" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="10665" class="Symbol">)</a> <a id="10667" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
      <a id="10675" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="10680" href="Text.Pretty.Core.html#10205" class="Function">blockx</a> <a id="10687" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="10689" class="Number">1</a> <a id="10691" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="10694" href="Relation.Binary.PropositionalEquality.Core.html#1144" class="Function">cong</a> <a id="10699" class="Symbol">(</a><a id="10700" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+</a> <a id="10703" class="Number">1</a><a id="10704" class="Symbol">)</a> <a id="10706" href="Text.Pretty.Core.html#10599" class="Bound">∣x∣</a> <a id="10710" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
      <a id="10718" href="Text.Pretty.Core.html#10294" class="Function">heightx</a> <a id="10726" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="10728" class="Number">1</a>     <a id="10734" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="10737" href="Data.Nat.Properties.html#14777" class="Function">+-comm</a> <a id="10744" href="Text.Pretty.Core.html#10294" class="Function">heightx</a> <a id="10752" class="Number">1</a> <a id="10754" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
      <a id="10762" href="Text.Pretty.Core.html#10318" class="Function">height</a>          <a id="10778" href="Relation.Binary.PropositionalEquality.Core.html#3119" class="Function Operator">∎</a> <a id="10780" class="Keyword">where</a> <a id="10786" class="Keyword">open</a> <a id="10791" href="Relation.Binary.PropositionalEquality.Core.html#2722" class="Module">≡-Reasoning</a>

    <a id="flush.block"></a><a id="10808" href="Text.Pretty.Core.html#10808" class="Function">block</a> <a id="10814" class="Symbol">:</a> <a id="10816" href="Data.Refinement.html#925" class="Function">[</a> <a id="10818" href="Text.Pretty.Core.html#10818" class="Bound">xs</a> <a id="10821" href="Data.Refinement.html#925" class="Function">∈</a> <a id="10823" href="Text.Pretty.Core.html#2054" class="Function">Content</a> <a id="10831" href="Data.Refinement.html#925" class="Function">∣</a> <a id="10833" href="Text.Pretty.Core.html#2110" class="Function">size</a> <a id="10838" href="Text.Pretty.Core.html#10818" class="Bound">xs</a> <a id="10841" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10843" href="Text.Pretty.Core.html#10318" class="Function">height</a> <a id="10850" href="Data.Refinement.html#925" class="Function">]</a>
    <a id="10856" href="Text.Pretty.Core.html#10808" class="Function">block</a> <a id="10862" class="Symbol">.</a><a id="10863" href="Data.Refinement.html#644" class="Field">value</a> <a id="10869" class="Symbol">=</a> <a id="10871" href="Text.Pretty.Core.html#10485" class="Function">vContent</a>
    <a id="10884" href="Text.Pretty.Core.html#10808" class="Function">block</a> <a id="10890" class="Symbol">.</a><a id="10891" href="Data.Refinement.html#662" class="Field">proof</a> <a id="10897" class="Symbol">=</a> <a id="10899" href="Data.Irrelevant.html#954" class="Function">Irrelevant.map</a> <a id="10914" href="Text.Pretty.Core.html#10530" class="Function">isBlock</a> <a id="10922" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="10924" href="Text.Pretty.Core.html#2383" class="Field">Block.block</a> <a id="10936" href="Text.Pretty.Core.html#10160" class="Bound">x</a> <a id="10938" class="Symbol">.</a><a id="10939" href="Data.Refinement.html#662" class="Field">proof</a>

    <a id="flush.maxWidth"></a><a id="10950" href="Text.Pretty.Core.html#10950" class="Function">maxWidth</a> <a id="10959" class="Symbol">:</a> <a id="10961" href="Data.Refinement.html#925" class="Function">[</a> <a id="10963" href="Text.Pretty.Core.html#10963" class="Bound">n</a> <a id="10965" href="Data.Refinement.html#925" class="Function">∈</a> <a id="10967" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="10969" href="Data.Refinement.html#925" class="Function">∣</a> <a id="10971" href="Text.Pretty.Core.html#10346" class="Function">lastWidth</a> <a id="10981" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="10983" href="Text.Pretty.Core.html#10963" class="Bound">n</a> <a id="10985" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="10987" href="Text.Pretty.Core.html#2268" class="Function">All≤</a> <a id="10992" href="Text.Pretty.Core.html#10963" class="Bound">n</a> <a id="10994" href="Text.Pretty.Core.html#10485" class="Function">vContent</a> <a id="11003" href="Data.Refinement.html#925" class="Function">]</a>
    <a id="11009" href="Text.Pretty.Core.html#10950" class="Function">maxWidth</a> <a id="11018" class="Symbol">.</a><a id="11019" href="Data.Refinement.html#644" class="Field">value</a> <a id="11025" class="Symbol">=</a> <a id="11027" href="Text.Pretty.Core.html#10262" class="Function">widthx</a>
    <a id="11038" href="Text.Pretty.Core.html#10950" class="Function">maxWidth</a> <a id="11047" class="Symbol">.</a><a id="11048" href="Data.Refinement.html#662" class="Field">proof</a> <a id="11054" class="Symbol">=</a> <a id="11056" href="Data.Irrelevant.html#954" class="Function">map</a> <a id="11060" class="Symbol">(</a><a id="11061" href="Data.Nat.Base.html#1558" class="InductiveConstructor">z≤n</a> <a id="11065" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,_</a><a id="11067" class="Symbol">)</a>
      <a id="11075" class="Symbol">⦇</a> <a id="11077" href="Text.Pretty.Core.html#3648" class="Function">All≤-node?</a> <a id="11088" class="Symbol">⦇</a> <a id="11090" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="11096" class="Symbol">(</a><a id="11097" href="Text.Pretty.Core.html#2549" class="Field">Block.maxWidth</a> <a id="11112" href="Text.Pretty.Core.html#10160" class="Bound">x</a> <a id="11114" class="Symbol">.</a><a id="11115" href="Data.Refinement.html#662" class="Field">proof</a><a id="11120" class="Symbol">)</a> <a id="11122" class="Symbol">⦈</a>
                   <a id="11143" class="Symbol">⦇</a> <a id="11145" href="Text.Pretty.Core.html#11292" class="Function">middle</a> <a id="11152" class="Symbol">(</a><a id="11153" href="Text.Pretty.Core.html#2468" class="Field">Block.last</a> <a id="11164" href="Text.Pretty.Core.html#10160" class="Bound">x</a> <a id="11166" class="Symbol">.</a><a id="11167" href="Data.Refinement.html#662" class="Field">proof</a><a id="11172" class="Symbol">)</a> <a id="11174" class="Symbol">⦇</a> <a id="11176" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="11182" class="Symbol">(</a><a id="11183" href="Text.Pretty.Core.html#2549" class="Field">Block.maxWidth</a> <a id="11198" href="Text.Pretty.Core.html#10160" class="Bound">x</a> <a id="11200" class="Symbol">.</a><a id="11201" href="Data.Refinement.html#662" class="Field">proof</a><a id="11206" class="Symbol">)</a> <a id="11208" class="Symbol">⦈</a> <a id="11210" class="Symbol">⦈</a>
                   <a id="11231" class="Symbol">(</a><a id="11232" href="Data.Irrelevant.html#1021" class="Function">pure</a> <a id="11237" class="Symbol">(</a><a id="11238" href="Data.Tree.Binary.Relation.Unary.All.html#730" class="InductiveConstructor">leaf</a> <a id="11243" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="11245" class="Symbol">))</a>
      <a id="11254" class="Symbol">⦈</a> <a id="11256" class="Keyword">where</a>

      <a id="11269" class="Keyword">open</a> <a id="11274" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

      <a id="11292" href="Text.Pretty.Core.html#11292" class="Function">middle</a> <a id="11299" class="Symbol">:</a> <a id="11301" href="Data.String.Base.html#2478" class="Function">length</a> <a id="11308" href="Text.Pretty.Core.html#10234" class="Function">lastx</a> <a id="11314" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="11316" href="Text.Pretty.Core.html#2450" class="Field">x.lastWidth</a> <a id="11328" class="Symbol">→</a> <a id="11330" href="Text.Pretty.Core.html#2450" class="Field">x.lastWidth</a> <a id="11342" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="11344" href="Text.Pretty.Core.html#10364" class="Function">vMaxWidth</a> <a id="11354" class="Symbol">→</a>
               <a id="11371" href="Data.String.Base.html#2478" class="Function">length</a> <a id="11378" href="Text.Pretty.Core.html#10234" class="Function">lastx</a> <a id="11384" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="11386" href="Text.Pretty.Core.html#10364" class="Function">vMaxWidth</a>
      <a id="11402" href="Text.Pretty.Core.html#11292" class="Function">middle</a> <a id="11409" href="Text.Pretty.Core.html#11409" class="Bound">p</a> <a id="11411" href="Text.Pretty.Core.html#11411" class="Bound">q</a> <a id="11413" class="Symbol">=</a> <a id="11415" href="Relation.Binary.Reasoning.Base.Triple.html#3020" class="Function Operator">begin</a>
        <a id="11429" href="Data.String.Base.html#2478" class="Function">length</a> <a id="11436" href="Text.Pretty.Core.html#10234" class="Function">lastx</a> <a id="11442" href="Relation.Binary.Reasoning.Base.Triple.html#4528" class="Function">≡⟨</a> <a id="11445" href="Text.Pretty.Core.html#11409" class="Bound">p</a> <a id="11447" href="Relation.Binary.Reasoning.Base.Triple.html#4528" class="Function">⟩</a>
        <a id="11457" href="Text.Pretty.Core.html#2450" class="Field">x.lastWidth</a>  <a id="11470" href="Relation.Binary.Reasoning.Base.Triple.html#3755" class="Function">≤⟨</a> <a id="11473" href="Text.Pretty.Core.html#11411" class="Bound">q</a> <a id="11475" href="Relation.Binary.Reasoning.Base.Triple.html#3755" class="Function">⟩</a>
        <a id="11485" href="Text.Pretty.Core.html#10364" class="Function">vMaxWidth</a>    <a id="11498" href="Relation.Binary.Reasoning.Base.Triple.html#5129" class="Function Operator">∎</a> <a id="11500" class="Keyword">where</a> <a id="11506" class="Keyword">open</a> <a id="11511" href="Data.Nat.Properties.html#13860" class="Module">≤-Reasoning</a>

<a id="flush"></a><a id="11524" href="Text.Pretty.Core.html#11524" class="Function">flush</a> <a id="11530" class="Symbol">:</a> <a id="11532" href="Text.Pretty.Core.html#2335" class="Record">Block</a> <a id="11538" class="Symbol">→</a> <a id="11540" href="Text.Pretty.Core.html#2335" class="Record">Block</a>
<a id="11546" href="Text.Pretty.Core.html#11524" class="Function">flush</a> <a id="11552" href="Text.Pretty.Core.html#11552" class="Bound">x</a> <a id="11554" class="Symbol">=</a> <a id="11556" class="Keyword">record</a> <a id="11563" class="Symbol">{</a> <a id="11565" href="Text.Pretty.Core.html#11565" class="Module">flush</a> <a id="11571" href="Text.Pretty.Core.html#11552" class="Bound">x</a> <a id="11573" class="Symbol">}</a>

<a id="11576" class="Comment">------------------------------------------------------------------------</a>
<a id="11649" class="Comment">-- Other functions</a>

<a id="render"></a><a id="11669" href="Text.Pretty.Core.html#11669" class="Function">render</a> <a id="11676" class="Symbol">:</a> <a id="11678" href="Text.Pretty.Core.html#2335" class="Record">Block</a> <a id="11684" class="Symbol">→</a> <a id="11686" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
<a id="11693" href="Text.Pretty.Core.html#11669" class="Function">render</a> <a id="11700" href="Text.Pretty.Core.html#11700" class="Bound">x</a> <a id="11702" class="Symbol">=</a> <a id="11704" href="Data.String.Base.html#2815" class="Function">unlines</a>
  <a id="11714" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="11716" href="Data.Maybe.Base.html#1569" class="Function">maybe′</a> <a id="11723" class="Symbol">(</a><a id="11724" href="Data.Product.Base.html#2600" class="Function">uncurry</a> <a id="11732" class="Symbol">(λ</a> <a id="11735" href="Text.Pretty.Core.html#11735" class="Bound">hd</a> <a id="11738" href="Text.Pretty.Core.html#11738" class="Bound">tl</a> <a id="11741" class="Symbol">→</a> <a id="11743" href="Text.Pretty.Core.html#11735" class="Bound">hd</a> <a id="11746" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11748" href="Data.Tree.Binary.html#1828" class="Function">Tree.Infix.toList</a> <a id="11766" href="Text.Pretty.Core.html#11738" class="Bound">tl</a><a id="11768" class="Symbol">))</a> <a id="11771" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="11776" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="11778" href="Text.Pretty.Core.html#3142" class="Function">node?</a> <a id="11784" class="Symbol">(</a><a id="11785" href="Text.Pretty.Core.html#2383" class="Field">Block.block</a> <a id="11797" href="Text.Pretty.Core.html#11700" class="Bound">x</a> <a id="11799" class="Symbol">.</a><a id="11800" href="Data.Refinement.html#644" class="Field">value</a><a id="11805" class="Symbol">)</a> <a id="11807" class="Symbol">(</a><a id="11808" href="Text.Pretty.Core.html#2468" class="Field">Block.last</a> <a id="11819" href="Text.Pretty.Core.html#11700" class="Bound">x</a> <a id="11821" class="Symbol">.</a><a id="11822" href="Data.Refinement.html#644" class="Field">value</a><a id="11827" class="Symbol">)</a> <a id="11829" class="Symbol">(</a><a id="11830" href="Data.Tree.Binary.html#742" class="InductiveConstructor">leaf</a> <a id="11835" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="11837" class="Symbol">)</a>

<a id="valid"></a><a id="11840" href="Text.Pretty.Core.html#11840" class="Function">valid</a> <a id="11846" class="Symbol">:</a> <a id="11848" class="Symbol">(</a><a id="11849" href="Text.Pretty.Core.html#11849" class="Bound">width</a> <a id="11855" class="Symbol">:</a> <a id="11857" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="11858" class="Symbol">)</a> <a id="11860" class="Symbol">(</a><a id="11861" href="Text.Pretty.Core.html#11861" class="Bound">b</a> <a id="11863" class="Symbol">:</a> <a id="11865" href="Text.Pretty.Core.html#2335" class="Record">Block</a><a id="11870" class="Symbol">)</a> <a id="11872" class="Symbol">→</a> <a id="11874" href="Relation.Nullary.Decidable.Core.html#1476" class="Record">Dec</a> <a id="11878" class="Symbol">(</a><a id="11879" href="Text.Pretty.Core.html#2549" class="Field">Block.maxWidth</a> <a id="11894" href="Text.Pretty.Core.html#11861" class="Bound">b</a> <a id="11896" class="Symbol">.</a><a id="11897" href="Data.Refinement.html#644" class="Field">value</a> <a id="11903" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="11905" href="Text.Pretty.Core.html#11849" class="Bound">width</a><a id="11910" class="Symbol">)</a>
<a id="11912" href="Text.Pretty.Core.html#11840" class="Function">valid</a> <a id="11918" href="Text.Pretty.Core.html#11918" class="Bound">width</a> <a id="11924" href="Text.Pretty.Core.html#11924" class="Bound">b</a> <a id="11926" class="Symbol">=</a> <a id="11928" href="Text.Pretty.Core.html#2549" class="Field">Block.maxWidth</a> <a id="11943" href="Text.Pretty.Core.html#11924" class="Bound">b</a> <a id="11945" class="Symbol">.</a><a id="11946" href="Data.Refinement.html#644" class="Field">value</a> <a id="11952" href="Data.Nat.Properties.html#5872" class="Function Operator">≤?</a> <a id="11955" href="Text.Pretty.Core.html#11918" class="Bound">width</a>
</pre></body></html>