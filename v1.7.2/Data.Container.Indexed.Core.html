<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Container.Indexed.Core</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Indexed containers core</a>
<a id="133" class="Comment">------------------------------------------------------------------------</a>

<a id="207" class="Symbol">{-#</a> <a id="211" class="Keyword">OPTIONS</a> <a id="219" class="Pragma">--cubical-compatible</a> <a id="240" class="Pragma">--safe</a> <a id="247" class="Symbol">#-}</a>

<a id="252" class="Keyword">module</a> <a id="259" href="Data.Container.Indexed.Core.html" class="Module">Data.Container.Indexed.Core</a> <a id="287" class="Keyword">where</a>

<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Level.html" class="Module">Level</a>
<a id="312" class="Keyword">open</a> <a id="317" class="Keyword">import</a> <a id="324" href="Data.Product.html" class="Module">Data.Product</a>
<a id="337" class="Keyword">open</a> <a id="342" class="Keyword">import</a> <a id="349" href="Relation.Unary.html" class="Module">Relation.Unary</a>

<a id="365" class="Keyword">infix</a> <a id="371" class="Number">5</a> <a id="373" href="Data.Container.Indexed.Core.html#508" class="InductiveConstructor Operator">_◃_/_</a>

<a id="380" class="Keyword">record</a> <a id="Container"></a><a id="387" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="397" class="Symbol">{</a><a id="398" href="Data.Container.Indexed.Core.html#398" class="Bound">i</a> <a id="400" href="Data.Container.Indexed.Core.html#400" class="Bound">o</a><a id="401" class="Symbol">}</a> <a id="403" class="Symbol">(</a><a id="404" href="Data.Container.Indexed.Core.html#404" class="Bound">I</a> <a id="406" class="Symbol">:</a> <a id="408" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="412" href="Data.Container.Indexed.Core.html#398" class="Bound">i</a><a id="413" class="Symbol">)</a> <a id="415" class="Symbol">(</a><a id="416" href="Data.Container.Indexed.Core.html#416" class="Bound">O</a> <a id="418" class="Symbol">:</a> <a id="420" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="424" href="Data.Container.Indexed.Core.html#400" class="Bound">o</a><a id="425" class="Symbol">)</a> <a id="427" class="Symbol">(</a><a id="428" href="Data.Container.Indexed.Core.html#428" class="Bound">c</a> <a id="430" href="Data.Container.Indexed.Core.html#430" class="Bound">r</a> <a id="432" class="Symbol">:</a> <a id="434" href="Agda.Primitive.html#591" class="Postulate">Level</a><a id="439" class="Symbol">)</a> <a id="441" class="Symbol">:</a>
                 <a id="460" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="464" class="Symbol">(</a><a id="465" href="Data.Container.Indexed.Core.html#398" class="Bound">i</a> <a id="467" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="469" href="Data.Container.Indexed.Core.html#400" class="Bound">o</a> <a id="471" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="473" href="Agda.Primitive.html#774" class="Primitive">suc</a> <a id="477" href="Data.Container.Indexed.Core.html#428" class="Bound">c</a> <a id="479" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="481" href="Agda.Primitive.html#774" class="Primitive">suc</a> <a id="485" href="Data.Container.Indexed.Core.html#430" class="Bound">r</a><a id="486" class="Symbol">)</a> <a id="488" class="Keyword">where</a>
  <a id="496" class="Keyword">constructor</a> <a id="_◃_/_"></a><a id="508" href="Data.Container.Indexed.Core.html#508" class="InductiveConstructor Operator">_◃_/_</a>
  <a id="516" class="Keyword">field</a>
    <a id="Container.Command"></a><a id="526" href="Data.Container.Indexed.Core.html#526" class="Field">Command</a>  <a id="535" class="Symbol">:</a> <a id="537" class="Symbol">(</a><a id="538" href="Data.Container.Indexed.Core.html#538" class="Bound">o</a> <a id="540" class="Symbol">:</a> <a id="542" href="Data.Container.Indexed.Core.html#416" class="Bound">O</a><a id="543" class="Symbol">)</a> <a id="545" class="Symbol">→</a> <a id="547" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="551" href="Data.Container.Indexed.Core.html#428" class="Bound">c</a>
    <a id="Container.Response"></a><a id="557" href="Data.Container.Indexed.Core.html#557" class="Field">Response</a> <a id="566" class="Symbol">:</a> <a id="568" class="Symbol">∀</a> <a id="570" class="Symbol">{</a><a id="571" href="Data.Container.Indexed.Core.html#571" class="Bound">o</a><a id="572" class="Symbol">}</a> <a id="574" class="Symbol">→</a> <a id="576" href="Data.Container.Indexed.Core.html#526" class="Field">Command</a> <a id="584" href="Data.Container.Indexed.Core.html#571" class="Bound">o</a> <a id="586" class="Symbol">→</a> <a id="588" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="592" href="Data.Container.Indexed.Core.html#430" class="Bound">r</a>
    <a id="Container.next"></a><a id="598" href="Data.Container.Indexed.Core.html#598" class="Field">next</a>     <a id="607" class="Symbol">:</a> <a id="609" class="Symbol">∀</a> <a id="611" class="Symbol">{</a><a id="612" href="Data.Container.Indexed.Core.html#612" class="Bound">o</a><a id="613" class="Symbol">}</a> <a id="615" class="Symbol">(</a><a id="616" href="Data.Container.Indexed.Core.html#616" class="Bound">c</a> <a id="618" class="Symbol">:</a> <a id="620" href="Data.Container.Indexed.Core.html#526" class="Field">Command</a> <a id="628" href="Data.Container.Indexed.Core.html#612" class="Bound">o</a><a id="629" class="Symbol">)</a> <a id="631" class="Symbol">→</a> <a id="633" href="Data.Container.Indexed.Core.html#557" class="Field">Response</a> <a id="642" href="Data.Container.Indexed.Core.html#616" class="Bound">c</a> <a id="644" class="Symbol">→</a> <a id="646" href="Data.Container.Indexed.Core.html#404" class="Bound">I</a>

<a id="649" class="Comment">-- The semantics (&quot;extension&quot;) of an indexed container.</a>

<a id="⟦_⟧"></a><a id="706" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟦_⟧</a> <a id="710" class="Symbol">:</a> <a id="712" class="Symbol">∀</a> <a id="714" class="Symbol">{</a><a id="715" href="Data.Container.Indexed.Core.html#715" class="Bound">i</a> <a id="717" href="Data.Container.Indexed.Core.html#717" class="Bound">o</a> <a id="719" href="Data.Container.Indexed.Core.html#719" class="Bound">c</a> <a id="721" href="Data.Container.Indexed.Core.html#721" class="Bound">r</a> <a id="723" href="Data.Container.Indexed.Core.html#723" class="Bound">ℓ</a><a id="724" class="Symbol">}</a> <a id="726" class="Symbol">{</a><a id="727" href="Data.Container.Indexed.Core.html#727" class="Bound">I</a> <a id="729" class="Symbol">:</a> <a id="731" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="735" href="Data.Container.Indexed.Core.html#715" class="Bound">i</a><a id="736" class="Symbol">}</a> <a id="738" class="Symbol">{</a><a id="739" href="Data.Container.Indexed.Core.html#739" class="Bound">O</a> <a id="741" class="Symbol">:</a> <a id="743" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="747" href="Data.Container.Indexed.Core.html#717" class="Bound">o</a><a id="748" class="Symbol">}</a> <a id="750" class="Symbol">→</a> <a id="752" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="762" href="Data.Container.Indexed.Core.html#727" class="Bound">I</a> <a id="764" href="Data.Container.Indexed.Core.html#739" class="Bound">O</a> <a id="766" href="Data.Container.Indexed.Core.html#719" class="Bound">c</a> <a id="768" href="Data.Container.Indexed.Core.html#721" class="Bound">r</a> <a id="770" class="Symbol">→</a>
      <a id="778" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="783" href="Data.Container.Indexed.Core.html#727" class="Bound">I</a> <a id="785" href="Data.Container.Indexed.Core.html#723" class="Bound">ℓ</a> <a id="787" class="Symbol">→</a> <a id="789" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="794" href="Data.Container.Indexed.Core.html#739" class="Bound">O</a> <a id="796" class="Symbol">_</a>
<a id="798" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟦</a> <a id="800" href="Data.Container.Indexed.Core.html#800" class="Bound">C</a> <a id="802" href="Data.Container.Indexed.Core.html#508" class="InductiveConstructor Operator">◃</a> <a id="804" href="Data.Container.Indexed.Core.html#804" class="Bound">R</a> <a id="806" href="Data.Container.Indexed.Core.html#508" class="InductiveConstructor Operator">/</a> <a id="808" href="Data.Container.Indexed.Core.html#808" class="Bound">n</a> <a id="810" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟧</a> <a id="812" href="Data.Container.Indexed.Core.html#812" class="Bound">X</a> <a id="814" href="Data.Container.Indexed.Core.html#814" class="Bound">o</a> <a id="816" class="Symbol">=</a> <a id="818" href="Data.Product.html#925" class="Function">Σ[</a> <a id="821" href="Data.Container.Indexed.Core.html#821" class="Bound">c</a> <a id="823" href="Data.Product.html#925" class="Function">∈</a> <a id="825" href="Data.Container.Indexed.Core.html#800" class="Bound">C</a> <a id="827" href="Data.Container.Indexed.Core.html#814" class="Bound">o</a> <a id="829" href="Data.Product.html#925" class="Function">]</a> <a id="831" class="Symbol">((</a><a id="833" href="Data.Container.Indexed.Core.html#833" class="Bound">r</a> <a id="835" class="Symbol">:</a> <a id="837" href="Data.Container.Indexed.Core.html#804" class="Bound">R</a> <a id="839" href="Data.Container.Indexed.Core.html#821" class="Bound">c</a><a id="840" class="Symbol">)</a> <a id="842" class="Symbol">→</a> <a id="844" href="Data.Container.Indexed.Core.html#812" class="Bound">X</a> <a id="846" class="Symbol">(</a><a id="847" href="Data.Container.Indexed.Core.html#808" class="Bound">n</a> <a id="849" href="Data.Container.Indexed.Core.html#821" class="Bound">c</a> <a id="851" href="Data.Container.Indexed.Core.html#833" class="Bound">r</a><a id="852" class="Symbol">))</a>

<a id="856" class="Comment">------------------------------------------------------------------------</a>
<a id="929" class="Comment">-- All and any</a>

<a id="945" class="Keyword">module</a> <a id="952" href="Data.Container.Indexed.Core.html#952" class="Module">_</a> <a id="954" class="Symbol">{</a><a id="955" href="Data.Container.Indexed.Core.html#955" class="Bound">i</a> <a id="957" href="Data.Container.Indexed.Core.html#957" class="Bound">o</a> <a id="959" href="Data.Container.Indexed.Core.html#959" class="Bound">c</a> <a id="961" href="Data.Container.Indexed.Core.html#961" class="Bound">r</a> <a id="963" href="Data.Container.Indexed.Core.html#963" class="Bound">ℓ</a><a id="964" class="Symbol">}</a> <a id="966" class="Symbol">{</a><a id="967" href="Data.Container.Indexed.Core.html#967" class="Bound">I</a> <a id="969" class="Symbol">:</a> <a id="971" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="975" href="Data.Container.Indexed.Core.html#955" class="Bound">i</a><a id="976" class="Symbol">}</a> <a id="978" class="Symbol">{</a><a id="979" href="Data.Container.Indexed.Core.html#979" class="Bound">O</a> <a id="981" class="Symbol">:</a> <a id="983" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="987" href="Data.Container.Indexed.Core.html#957" class="Bound">o</a><a id="988" class="Symbol">}</a>
         <a id="999" class="Symbol">(</a><a id="1000" href="Data.Container.Indexed.Core.html#1000" class="Bound">C</a> <a id="1002" class="Symbol">:</a> <a id="1004" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="1014" href="Data.Container.Indexed.Core.html#967" class="Bound">I</a> <a id="1016" href="Data.Container.Indexed.Core.html#979" class="Bound">O</a> <a id="1018" href="Data.Container.Indexed.Core.html#959" class="Bound">c</a> <a id="1020" href="Data.Container.Indexed.Core.html#961" class="Bound">r</a><a id="1021" class="Symbol">)</a> <a id="1023" class="Symbol">{</a><a id="1024" href="Data.Container.Indexed.Core.html#1024" class="Bound">X</a> <a id="1026" class="Symbol">:</a> <a id="1028" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="1033" href="Data.Container.Indexed.Core.html#967" class="Bound">I</a> <a id="1035" href="Data.Container.Indexed.Core.html#963" class="Bound">ℓ</a><a id="1036" class="Symbol">}</a> <a id="1038" class="Keyword">where</a>

  <a id="1047" class="Comment">-- All.</a>

  <a id="1058" href="Data.Container.Indexed.Core.html#1058" class="Function">□</a> <a id="1060" class="Symbol">:</a> <a id="1062" class="Symbol">∀</a> <a id="1064" class="Symbol">{</a><a id="1065" href="Data.Container.Indexed.Core.html#1065" class="Bound">ℓ′</a><a id="1067" class="Symbol">}</a> <a id="1069" class="Symbol">→</a> <a id="1071" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="1076" class="Symbol">(</a><a id="1077" href="Agda.Builtin.Sigma.html#148" class="Record">Σ</a> <a id="1079" href="Data.Container.Indexed.Core.html#967" class="Bound">I</a> <a id="1081" href="Data.Container.Indexed.Core.html#1024" class="Bound">X</a><a id="1082" class="Symbol">)</a> <a id="1084" href="Data.Container.Indexed.Core.html#1065" class="Bound">ℓ′</a> <a id="1087" class="Symbol">→</a> <a id="1089" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="1094" class="Symbol">(</a><a id="1095" href="Agda.Builtin.Sigma.html#148" class="Record">Σ</a> <a id="1097" href="Data.Container.Indexed.Core.html#979" class="Bound">O</a> <a id="1099" class="Symbol">(</a><a id="1100" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟦</a> <a id="1102" href="Data.Container.Indexed.Core.html#1000" class="Bound">C</a> <a id="1104" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟧</a> <a id="1106" href="Data.Container.Indexed.Core.html#1024" class="Bound">X</a><a id="1107" class="Symbol">))</a> <a id="1110" class="Symbol">_</a>
  <a id="1114" href="Data.Container.Indexed.Core.html#1058" class="Function">□</a> <a id="1116" href="Data.Container.Indexed.Core.html#1116" class="Bound">P</a> <a id="1118" class="Symbol">(_</a> <a id="1121" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1123" class="Symbol">_</a> <a id="1125" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1127" href="Data.Container.Indexed.Core.html#1127" class="Bound">k</a><a id="1128" class="Symbol">)</a> <a id="1130" class="Symbol">=</a> <a id="1132" class="Symbol">∀</a> <a id="1134" href="Data.Container.Indexed.Core.html#1134" class="Bound">r</a> <a id="1136" class="Symbol">→</a> <a id="1138" href="Data.Container.Indexed.Core.html#1116" class="Bound">P</a> <a id="1140" class="Symbol">(_</a> <a id="1143" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1145" href="Data.Container.Indexed.Core.html#1127" class="Bound">k</a> <a id="1147" href="Data.Container.Indexed.Core.html#1134" class="Bound">r</a><a id="1148" class="Symbol">)</a>

  <a id="1153" class="Comment">-- Any.</a>

  <a id="1164" href="Data.Container.Indexed.Core.html#1164" class="Function">◇</a> <a id="1166" class="Symbol">:</a> <a id="1168" class="Symbol">∀</a> <a id="1170" class="Symbol">{</a><a id="1171" href="Data.Container.Indexed.Core.html#1171" class="Bound">ℓ′</a><a id="1173" class="Symbol">}</a> <a id="1175" class="Symbol">→</a> <a id="1177" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="1182" class="Symbol">(</a><a id="1183" href="Agda.Builtin.Sigma.html#148" class="Record">Σ</a> <a id="1185" href="Data.Container.Indexed.Core.html#967" class="Bound">I</a> <a id="1187" href="Data.Container.Indexed.Core.html#1024" class="Bound">X</a><a id="1188" class="Symbol">)</a> <a id="1190" href="Data.Container.Indexed.Core.html#1171" class="Bound">ℓ′</a> <a id="1193" class="Symbol">→</a> <a id="1195" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="1200" class="Symbol">(</a><a id="1201" href="Agda.Builtin.Sigma.html#148" class="Record">Σ</a> <a id="1203" href="Data.Container.Indexed.Core.html#979" class="Bound">O</a> <a id="1205" class="Symbol">(</a><a id="1206" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟦</a> <a id="1208" href="Data.Container.Indexed.Core.html#1000" class="Bound">C</a> <a id="1210" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟧</a> <a id="1212" href="Data.Container.Indexed.Core.html#1024" class="Bound">X</a><a id="1213" class="Symbol">))</a> <a id="1216" class="Symbol">_</a>
  <a id="1220" href="Data.Container.Indexed.Core.html#1164" class="Function">◇</a> <a id="1222" href="Data.Container.Indexed.Core.html#1222" class="Bound">P</a> <a id="1224" class="Symbol">(_</a> <a id="1227" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1229" class="Symbol">_</a> <a id="1231" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1233" href="Data.Container.Indexed.Core.html#1233" class="Bound">k</a><a id="1234" class="Symbol">)</a> <a id="1236" class="Symbol">=</a> <a id="1238" href="Data.Product.html#1378" class="Function">∃</a> <a id="1240" class="Symbol">λ</a> <a id="1242" href="Data.Container.Indexed.Core.html#1242" class="Bound">r</a> <a id="1244" class="Symbol">→</a> <a id="1246" href="Data.Container.Indexed.Core.html#1222" class="Bound">P</a> <a id="1248" class="Symbol">(_</a> <a id="1251" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1253" href="Data.Container.Indexed.Core.html#1233" class="Bound">k</a> <a id="1255" href="Data.Container.Indexed.Core.html#1242" class="Bound">r</a><a id="1256" class="Symbol">)</a>
</pre></body></html>