<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>IO</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- IO</a>
<a id="112" class="Comment">------------------------------------------------------------------------</a>

<a id="186" class="Symbol">{-#</a> <a id="190" class="Keyword">OPTIONS</a> <a id="198" class="Pragma">--cubical-compatible</a> <a id="219" class="Pragma">--guardedness</a> <a id="233" class="Symbol">#-}</a>

<a id="238" class="Keyword">module</a> <a id="245" href="IO.html" class="Module">IO</a> <a id="248" class="Keyword">where</a>

<a id="255" class="Keyword">open</a> <a id="260" class="Keyword">import</a> <a id="267" href="Codata.Musical.Notation.html" class="Module">Codata.Musical.Notation</a>
<a id="291" class="Keyword">open</a> <a id="296" class="Keyword">import</a> <a id="303" href="Codata.Musical.Costring.html" class="Module">Codata.Musical.Costring</a>
<a id="327" class="Keyword">open</a> <a id="332" class="Keyword">import</a> <a id="339" href="Data.Unit.Polymorphic.Base.html" class="Module">Data.Unit.Polymorphic.Base</a>
<a id="366" class="Keyword">open</a> <a id="371" class="Keyword">import</a> <a id="378" href="Data.String.Base.html" class="Module">Data.String.Base</a>
<a id="395" class="Keyword">import</a> <a id="402" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a> <a id="417" class="Symbol">as</a> <a id="420" class="Module">Unit0</a>
<a id="426" class="Keyword">open</a> <a id="431" class="Keyword">import</a> <a id="438" href="Function.Base.html" class="Module">Function.Base</a> <a id="452" class="Keyword">using</a> <a id="458" class="Symbol">(</a><a id="459" href="Function.Base.html#1040" class="Function Operator">_∘_</a><a id="462" class="Symbol">)</a>
<a id="464" class="Keyword">import</a> <a id="471" href="IO.Primitive.html" class="Module">IO.Primitive</a> <a id="484" class="Symbol">as</a> <a id="487" class="Module">Prim</a>
<a id="492" class="Keyword">open</a> <a id="497" class="Keyword">import</a> <a id="504" href="Level.html" class="Module">Level</a>

<a id="511" class="Keyword">private</a>
  <a id="521" class="Keyword">variable</a>
    <a id="534" href="IO.html#534" class="Generalizable">a</a> <a id="536" href="IO.html#536" class="Generalizable">b</a> <a id="538" class="Symbol">:</a> <a id="540" href="Agda.Primitive.html#591" class="Postulate">Level</a>
    <a id="550" href="IO.html#550" class="Generalizable">A</a> <a id="552" class="Symbol">:</a> <a id="554" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="558" href="IO.html#534" class="Generalizable">a</a>
    <a id="564" href="IO.html#564" class="Generalizable">B</a> <a id="566" class="Symbol">:</a> <a id="568" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="572" href="IO.html#536" class="Generalizable">b</a>

<a id="575" class="Comment">------------------------------------------------------------------------</a>
<a id="648" class="Comment">-- Re-exporting the basic type and functions</a>

<a id="694" class="Keyword">open</a> <a id="699" class="Keyword">import</a> <a id="706" href="IO.Base.html" class="Module">IO.Base</a> <a id="714" class="Keyword">public</a>

<a id="722" class="Comment">------------------------------------------------------------------------</a>
<a id="795" class="Comment">-- Utilities</a>

<a id="809" class="Keyword">module</a> <a id="Colist"></a><a id="816" href="IO.html#816" class="Module">Colist</a> <a id="823" class="Keyword">where</a>

  <a id="832" class="Keyword">open</a> <a id="837" class="Keyword">import</a> <a id="844" href="Codata.Musical.Colist.Base.html" class="Module">Codata.Musical.Colist.Base</a>

  <a id="Colist.sequence"></a><a id="874" href="IO.html#874" class="Function">sequence</a> <a id="883" class="Symbol">:</a> <a id="885" href="Codata.Musical.Colist.Base.html#879" class="Datatype">Colist</a> <a id="892" class="Symbol">(</a><a id="893" href="IO.Base.html#926" class="Datatype">IO</a> <a id="896" href="IO.html#550" class="Generalizable">A</a><a id="897" class="Symbol">)</a> <a id="899" class="Symbol">→</a> <a id="901" href="IO.Base.html#926" class="Datatype">IO</a> <a id="904" class="Symbol">(</a><a id="905" href="Codata.Musical.Colist.Base.html#879" class="Datatype">Colist</a> <a id="912" href="IO.html#550" class="Generalizable">A</a><a id="913" class="Symbol">)</a>
  <a id="917" href="IO.html#874" class="Function">sequence</a> <a id="926" href="Codata.Musical.Colist.Base.html#914" class="InductiveConstructor">[]</a>       <a id="935" class="Symbol">=</a> <a id="937" href="IO.Base.html#997" class="InductiveConstructor">return</a> <a id="944" href="Codata.Musical.Colist.Base.html#914" class="InductiveConstructor">[]</a>
  <a id="949" href="IO.html#874" class="Function">sequence</a> <a id="958" class="Symbol">(</a><a id="959" href="IO.html#959" class="Bound">c</a> <a id="961" href="Codata.Musical.Colist.Base.html#931" class="InductiveConstructor Operator">∷</a> <a id="963" href="IO.html#963" class="Bound">cs</a><a id="965" class="Symbol">)</a> <a id="967" class="Symbol">=</a> <a id="969" href="IO.Base.html#1023" class="InductiveConstructor">bind</a> <a id="974" class="Symbol">(</a><a id="975" href="Agda.Builtin.Coinduction.html#212" class="CoinductiveConstructor Operator">♯</a> <a id="977" href="IO.html#959" class="Bound">c</a><a id="978" class="Symbol">)</a>               <a id="994" class="Symbol">λ</a> <a id="996" href="IO.html#996" class="Bound">x</a>  <a id="999" class="Symbol">→</a> <a id="1001" href="Agda.Builtin.Coinduction.html#212" class="CoinductiveConstructor Operator">♯</a>
                      <a id="1025" href="IO.Base.html#1023" class="InductiveConstructor">bind</a> <a id="1030" class="Symbol">(</a><a id="1031" href="Agda.Builtin.Coinduction.html#212" class="CoinductiveConstructor Operator">♯</a> <a id="1033" href="IO.html#874" class="Function">sequence</a> <a id="1042" class="Symbol">(</a><a id="1043" href="Agda.Builtin.Coinduction.html#247" class="Field">♭</a> <a id="1045" href="IO.html#963" class="Bound">cs</a><a id="1047" class="Symbol">))</a> <a id="1050" class="Symbol">λ</a> <a id="1052" href="IO.html#1052" class="Bound">xs</a> <a id="1055" class="Symbol">→</a> <a id="1057" href="Agda.Builtin.Coinduction.html#212" class="CoinductiveConstructor Operator">♯</a>
                      <a id="1081" href="IO.Base.html#997" class="InductiveConstructor">return</a> <a id="1088" class="Symbol">(</a><a id="1089" href="IO.html#996" class="Bound">x</a> <a id="1091" href="Codata.Musical.Colist.Base.html#931" class="InductiveConstructor Operator">∷</a> <a id="1093" href="Agda.Builtin.Coinduction.html#212" class="CoinductiveConstructor Operator">♯</a> <a id="1095" href="IO.html#1052" class="Bound">xs</a><a id="1097" class="Symbol">)</a>

  <a id="1102" class="Comment">-- The reason for not defining sequence′ in terms of sequence is</a>
  <a id="1169" class="Comment">-- efficiency (the unused results could cause unnecessary memory use).</a>

  <a id="Colist.sequence′"></a><a id="1243" href="IO.html#1243" class="Function">sequence′</a> <a id="1253" class="Symbol">:</a> <a id="1255" href="Codata.Musical.Colist.Base.html#879" class="Datatype">Colist</a> <a id="1262" class="Symbol">(</a><a id="1263" href="IO.Base.html#926" class="Datatype">IO</a> <a id="1266" href="IO.html#550" class="Generalizable">A</a><a id="1267" class="Symbol">)</a> <a id="1269" class="Symbol">→</a> <a id="1271" href="IO.Base.html#926" class="Datatype">IO</a> <a id="1274" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a>
  <a id="1278" href="IO.html#1243" class="Function">sequence′</a> <a id="1288" href="Codata.Musical.Colist.Base.html#914" class="InductiveConstructor">[]</a>       <a id="1297" class="Symbol">=</a> <a id="1299" href="IO.Base.html#997" class="InductiveConstructor">return</a> <a id="1306" class="Symbol">_</a>
  <a id="1310" href="IO.html#1243" class="Function">sequence′</a> <a id="1320" class="Symbol">(</a><a id="1321" href="IO.html#1321" class="Bound">c</a> <a id="1323" href="Codata.Musical.Colist.Base.html#931" class="InductiveConstructor Operator">∷</a> <a id="1325" href="IO.html#1325" class="Bound">cs</a><a id="1327" class="Symbol">)</a> <a id="1329" class="Symbol">=</a> <a id="1331" href="IO.Base.html#1093" class="InductiveConstructor">seq</a> <a id="1335" class="Symbol">(</a><a id="1336" href="Agda.Builtin.Coinduction.html#212" class="CoinductiveConstructor Operator">♯</a> <a id="1338" href="IO.html#1321" class="Bound">c</a><a id="1339" class="Symbol">)</a> <a id="1341" class="Symbol">(</a><a id="1342" href="Agda.Builtin.Coinduction.html#212" class="CoinductiveConstructor Operator">♯</a> <a id="1344" href="IO.html#1243" class="Function">sequence′</a> <a id="1354" class="Symbol">(</a><a id="1355" href="Agda.Builtin.Coinduction.html#247" class="Field">♭</a> <a id="1357" href="IO.html#1325" class="Bound">cs</a><a id="1359" class="Symbol">))</a>

  <a id="Colist.mapM"></a><a id="1365" href="IO.html#1365" class="Function">mapM</a> <a id="1370" class="Symbol">:</a> <a id="1372" class="Symbol">(</a><a id="1373" href="IO.html#550" class="Generalizable">A</a> <a id="1375" class="Symbol">→</a> <a id="1377" href="IO.Base.html#926" class="Datatype">IO</a> <a id="1380" href="IO.html#564" class="Generalizable">B</a><a id="1381" class="Symbol">)</a> <a id="1383" class="Symbol">→</a> <a id="1385" href="Codata.Musical.Colist.Base.html#879" class="Datatype">Colist</a> <a id="1392" href="IO.html#550" class="Generalizable">A</a> <a id="1394" class="Symbol">→</a> <a id="1396" href="IO.Base.html#926" class="Datatype">IO</a> <a id="1399" class="Symbol">(</a><a id="1400" href="Codata.Musical.Colist.Base.html#879" class="Datatype">Colist</a> <a id="1407" href="IO.html#564" class="Generalizable">B</a><a id="1408" class="Symbol">)</a>
  <a id="1412" href="IO.html#1365" class="Function">mapM</a> <a id="1417" href="IO.html#1417" class="Bound">f</a> <a id="1419" class="Symbol">=</a> <a id="1421" href="IO.html#874" class="Function">sequence</a> <a id="1430" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1432" href="Codata.Musical.Colist.Base.html#1478" class="Function">map</a> <a id="1436" href="IO.html#1417" class="Bound">f</a>

  <a id="Colist.mapM′"></a><a id="1441" href="IO.html#1441" class="Function">mapM′</a> <a id="1447" class="Symbol">:</a> <a id="1449" class="Symbol">(</a><a id="1450" href="IO.html#550" class="Generalizable">A</a> <a id="1452" class="Symbol">→</a> <a id="1454" href="IO.Base.html#926" class="Datatype">IO</a> <a id="1457" href="IO.html#564" class="Generalizable">B</a><a id="1458" class="Symbol">)</a> <a id="1460" class="Symbol">→</a> <a id="1462" href="Codata.Musical.Colist.Base.html#879" class="Datatype">Colist</a> <a id="1469" href="IO.html#550" class="Generalizable">A</a> <a id="1471" class="Symbol">→</a> <a id="1473" href="IO.Base.html#926" class="Datatype">IO</a> <a id="1476" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a>
  <a id="1480" href="IO.html#1441" class="Function">mapM′</a> <a id="1486" href="IO.html#1486" class="Bound">f</a> <a id="1488" class="Symbol">=</a> <a id="1490" href="IO.html#1243" class="Function">sequence′</a> <a id="1500" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1502" href="Codata.Musical.Colist.Base.html#1478" class="Function">map</a> <a id="1506" href="IO.html#1486" class="Bound">f</a>

<a id="1509" class="Keyword">module</a> <a id="List"></a><a id="1516" href="IO.html#1516" class="Module">List</a> <a id="1521" class="Keyword">where</a>

  <a id="1530" class="Keyword">open</a> <a id="1535" class="Keyword">import</a> <a id="1542" href="Data.List.Base.html" class="Module">Data.List.Base</a>

  <a id="List.sequence"></a><a id="1560" href="IO.html#1560" class="Function">sequence</a> <a id="1569" class="Symbol">:</a> <a id="1571" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1576" class="Symbol">(</a><a id="1577" href="IO.Base.html#926" class="Datatype">IO</a> <a id="1580" href="IO.html#550" class="Generalizable">A</a><a id="1581" class="Symbol">)</a> <a id="1583" class="Symbol">→</a> <a id="1585" href="IO.Base.html#926" class="Datatype">IO</a> <a id="1588" class="Symbol">(</a><a id="1589" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1594" href="IO.html#550" class="Generalizable">A</a><a id="1595" class="Symbol">)</a>
  <a id="1599" href="IO.html#1560" class="Function">sequence</a> <a id="1608" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>       <a id="1617" class="Symbol">=</a> <a id="1619" class="Symbol">⦇</a> <a id="1621" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="1624" class="Symbol">⦈</a>
  <a id="1628" href="IO.html#1560" class="Function">sequence</a> <a id="1637" class="Symbol">(</a><a id="1638" href="IO.html#1638" class="Bound">c</a> <a id="1640" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1642" href="IO.html#1642" class="Bound">cs</a><a id="1644" class="Symbol">)</a> <a id="1646" class="Symbol">=</a> <a id="1648" class="Symbol">⦇</a> <a id="1650" href="IO.html#1638" class="Bound">c</a> <a id="1652" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1654" href="IO.html#1560" class="Function">sequence</a> <a id="1663" href="IO.html#1642" class="Bound">cs</a> <a id="1666" class="Symbol">⦈</a>

  <a id="1671" class="Comment">-- The reason for not defining sequence′ in terms of sequence is</a>
  <a id="1738" class="Comment">-- efficiency (the unused results could cause unnecessary memory use).</a>

  <a id="List.sequence′"></a><a id="1812" href="IO.html#1812" class="Function">sequence′</a> <a id="1822" class="Symbol">:</a> <a id="1824" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1829" class="Symbol">(</a><a id="1830" href="IO.Base.html#926" class="Datatype">IO</a> <a id="1833" href="IO.html#550" class="Generalizable">A</a><a id="1834" class="Symbol">)</a> <a id="1836" class="Symbol">→</a> <a id="1838" href="IO.Base.html#926" class="Datatype">IO</a> <a id="1841" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a>
  <a id="1845" href="IO.html#1812" class="Function">sequence′</a> <a id="1855" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>       <a id="1864" class="Symbol">=</a> <a id="1866" href="IO.Base.html#997" class="InductiveConstructor">return</a> <a id="1873" class="Symbol">_</a>
  <a id="1877" href="IO.html#1812" class="Function">sequence′</a> <a id="1887" class="Symbol">(</a><a id="1888" href="IO.html#1888" class="Bound">c</a> <a id="1890" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1892" href="IO.html#1892" class="Bound">cs</a><a id="1894" class="Symbol">)</a> <a id="1896" class="Symbol">=</a> <a id="1898" href="IO.html#1888" class="Bound">c</a> <a id="1900" href="IO.Base.html#1484" class="Function Operator">&gt;&gt;</a> <a id="1903" href="IO.html#1812" class="Function">sequence′</a> <a id="1913" href="IO.html#1892" class="Bound">cs</a>

  <a id="List.mapM"></a><a id="1919" href="IO.html#1919" class="Function">mapM</a> <a id="1924" class="Symbol">:</a> <a id="1926" class="Symbol">(</a><a id="1927" href="IO.html#550" class="Generalizable">A</a> <a id="1929" class="Symbol">→</a> <a id="1931" href="IO.Base.html#926" class="Datatype">IO</a> <a id="1934" href="IO.html#564" class="Generalizable">B</a><a id="1935" class="Symbol">)</a> <a id="1937" class="Symbol">→</a> <a id="1939" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1944" href="IO.html#550" class="Generalizable">A</a> <a id="1946" class="Symbol">→</a> <a id="1948" href="IO.Base.html#926" class="Datatype">IO</a> <a id="1951" class="Symbol">(</a><a id="1952" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1957" href="IO.html#564" class="Generalizable">B</a><a id="1958" class="Symbol">)</a>
  <a id="1962" href="IO.html#1919" class="Function">mapM</a> <a id="1967" href="IO.html#1967" class="Bound">f</a> <a id="1969" class="Symbol">=</a> <a id="1971" href="IO.html#1560" class="Function">sequence</a> <a id="1980" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1982" href="Data.List.Base.html#1553" class="Function">map</a> <a id="1986" href="IO.html#1967" class="Bound">f</a>

  <a id="List.mapM′"></a><a id="1991" href="IO.html#1991" class="Function">mapM′</a> <a id="1997" class="Symbol">:</a> <a id="1999" class="Symbol">(</a><a id="2000" href="IO.html#550" class="Generalizable">A</a> <a id="2002" class="Symbol">→</a> <a id="2004" href="IO.Base.html#926" class="Datatype">IO</a> <a id="2007" href="IO.html#564" class="Generalizable">B</a><a id="2008" class="Symbol">)</a> <a id="2010" class="Symbol">→</a> <a id="2012" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2017" href="IO.html#550" class="Generalizable">A</a> <a id="2019" class="Symbol">→</a> <a id="2021" href="IO.Base.html#926" class="Datatype">IO</a> <a id="2024" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a>
  <a id="2028" href="IO.html#1991" class="Function">mapM′</a> <a id="2034" href="IO.html#2034" class="Bound">f</a> <a id="2036" class="Symbol">=</a> <a id="2038" href="IO.html#1812" class="Function">sequence′</a> <a id="2048" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2050" href="Data.List.Base.html#1553" class="Function">map</a> <a id="2054" href="IO.html#2034" class="Bound">f</a>

<a id="2057" class="Comment">------------------------------------------------------------------------</a>
<a id="2130" class="Comment">-- Simple lazy IO</a>

<a id="2149" class="Comment">-- Note that the functions below produce commands which, when</a>
<a id="2211" class="Comment">-- executed, may raise exceptions.</a>

<a id="2247" class="Comment">-- Note also that the semantics of these functions depends on the</a>
<a id="2313" class="Comment">-- version of the Haskell base library. If the version is 4.2.0.0 (or</a>
<a id="2383" class="Comment">-- later?), then the functions use the character encoding specified by</a>
<a id="2454" class="Comment">-- the locale. For older versions of the library (going back to at</a>
<a id="2521" class="Comment">-- least version 3) the functions use ISO-8859-1.</a>

<a id="2572" class="Keyword">open</a> <a id="2577" class="Keyword">import</a> <a id="2584" href="IO.Finite.html" class="Module">IO.Finite</a> <a id="2594" class="Keyword">public</a>
  <a id="2603" class="Keyword">renaming</a> <a id="2612" class="Symbol">(</a><a id="2613" href="IO.Finite.html#1209" class="Function">readFile</a> <a id="2622" class="Symbol">to</a> <a id="2625" class="Function">readFiniteFile</a><a id="2639" class="Symbol">)</a>

<a id="2642" class="Keyword">open</a> <a id="2647" class="Keyword">import</a> <a id="2654" href="IO.Infinite.html" class="Module">IO.Infinite</a> <a id="2666" class="Keyword">public</a>
  <a id="2675" class="Keyword">renaming</a> <a id="2684" class="Symbol">(</a> <a id="2686" href="IO.Infinite.html#1248" class="Function">writeFile</a>  <a id="2697" class="Symbol">to</a> <a id="2700" class="Function">writeFile∞</a>
           <a id="2722" class="Symbol">;</a> <a id="2724" href="IO.Infinite.html#1333" class="Function">appendFile</a> <a id="2735" class="Symbol">to</a> <a id="2738" class="Function">appendFile∞</a>
           <a id="2761" class="Symbol">;</a> <a id="2763" href="IO.Infinite.html#1421" class="Function">putStr</a>     <a id="2774" class="Symbol">to</a> <a id="2777" class="Function">putStr∞</a>
           <a id="2796" class="Symbol">;</a> <a id="2798" href="IO.Infinite.html#1484" class="Function">putStrLn</a>   <a id="2809" class="Symbol">to</a> <a id="2812" class="Function">putStrLn∞</a>
           <a id="2833" class="Symbol">)</a>
</pre></body></html>