<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Guarded.M</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- M-types (the dual of W-types)</a>
<a id="139" class="Comment">------------------------------------------------------------------------</a>

<a id="213" class="Symbol">{-#</a> <a id="217" class="Keyword">OPTIONS</a> <a id="225" class="Pragma">--without-K</a> <a id="237" class="Pragma">--safe</a> <a id="244" class="Pragma">--guardedness</a> <a id="258" class="Symbol">#-}</a>

<a id="263" class="Keyword">module</a> <a id="270" href="Codata.Guarded.M.html" class="Module">Codata.Guarded.M</a> <a id="287" class="Keyword">where</a>

<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Level.html" class="Module">Level</a>
<a id="312" class="Keyword">open</a> <a id="317" class="Keyword">import</a> <a id="324" href="Data.Container.Core.html" class="Module">Data.Container.Core</a> <a id="344" class="Keyword">hiding</a> <a id="351" class="Symbol">(</a><a id="352" href="Data.Container.Core.html#880" class="Function">map</a><a id="355" class="Symbol">;</a> <a id="357" href="Data.Container.Core.html#638" class="Field">Shape</a><a id="362" class="Symbol">;</a> <a id="364" href="Data.Container.Core.html#659" class="Field">Position</a><a id="372" class="Symbol">)</a>
<a id="374" class="Keyword">open</a> <a id="379" class="Keyword">import</a> <a id="386" href="Function.Base.html" class="Module">Function.Base</a>
<a id="400" class="Keyword">open</a> <a id="405" class="Keyword">import</a> <a id="412" href="Data.Product.html" class="Module">Data.Product</a> <a id="425" class="Keyword">hiding</a> <a id="432" class="Symbol">(</a><a id="433" href="Data.Product.Base.html#1664" class="Function">map</a><a id="436" class="Symbol">)</a>

<a id="439" class="Comment">-- The family of M-types</a>

<a id="465" class="Keyword">record</a> <a id="M"></a><a id="472" href="Codata.Guarded.M.html#472" class="Record">M</a> <a id="474" class="Symbol">{</a><a id="475" href="Codata.Guarded.M.html#475" class="Bound">s</a> <a id="477" href="Codata.Guarded.M.html#477" class="Bound">p</a><a id="478" class="Symbol">}</a> <a id="480" class="Symbol">(</a><a id="481" href="Codata.Guarded.M.html#481" class="Bound">C</a> <a id="483" class="Symbol">:</a> <a id="485" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="495" href="Codata.Guarded.M.html#475" class="Bound">s</a> <a id="497" href="Codata.Guarded.M.html#477" class="Bound">p</a><a id="498" class="Symbol">)</a> <a id="500" class="Symbol">:</a> <a id="502" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="506" class="Symbol">(</a><a id="507" href="Codata.Guarded.M.html#475" class="Bound">s</a> <a id="509" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="511" href="Codata.Guarded.M.html#477" class="Bound">p</a><a id="512" class="Symbol">)</a> <a id="514" class="Keyword">where</a>
  <a id="522" class="Keyword">coinductive</a>
  <a id="536" class="Keyword">constructor</a> <a id="inf"></a><a id="548" href="Codata.Guarded.M.html#548" class="CoinductiveConstructor">inf</a>

  <a id="555" class="Keyword">open</a> <a id="560" href="Data.Container.Core.html#558" class="Module">Container</a> <a id="570" href="Codata.Guarded.M.html#481" class="Bound">C</a>

  <a id="575" class="Keyword">field</a>
    <a id="M.head"></a><a id="585" href="Codata.Guarded.M.html#585" class="Field">head</a> <a id="590" class="Symbol">:</a> <a id="592" href="Data.Container.Core.html#638" class="Function">Shape</a>
    <a id="M.tail"></a><a id="602" href="Codata.Guarded.M.html#602" class="Field">tail</a> <a id="607" class="Symbol">:</a> <a id="609" href="Data.Container.Core.html#659" class="Function">Position</a> <a id="618" href="Codata.Guarded.M.html#585" class="Field">head</a> <a id="623" class="Symbol">→</a> <a id="625" href="Codata.Guarded.M.html#472" class="Record">M</a> <a id="627" href="Codata.Guarded.M.html#481" class="Bound">C</a>

<a id="630" class="Keyword">open</a> <a id="635" href="Codata.Guarded.M.html#472" class="Module">M</a> <a id="637" class="Keyword">public</a>

<a id="645" class="Comment">-- map</a>

<a id="653" class="Keyword">module</a> <a id="660" href="Codata.Guarded.M.html#660" class="Module">_</a> <a id="662" class="Symbol">{</a><a id="663" href="Codata.Guarded.M.html#663" class="Bound">s₁</a> <a id="666" href="Codata.Guarded.M.html#666" class="Bound">s₂</a> <a id="669" href="Codata.Guarded.M.html#669" class="Bound">p₁</a> <a id="672" href="Codata.Guarded.M.html#672" class="Bound">p₂</a><a id="674" class="Symbol">}</a> <a id="676" class="Symbol">{</a><a id="677" href="Codata.Guarded.M.html#677" class="Bound">C₁</a> <a id="680" class="Symbol">:</a> <a id="682" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="692" href="Codata.Guarded.M.html#663" class="Bound">s₁</a> <a id="695" href="Codata.Guarded.M.html#669" class="Bound">p₁</a><a id="697" class="Symbol">}</a> <a id="699" class="Symbol">{</a><a id="700" href="Codata.Guarded.M.html#700" class="Bound">C₂</a> <a id="703" class="Symbol">:</a> <a id="705" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="715" href="Codata.Guarded.M.html#666" class="Bound">s₂</a> <a id="718" href="Codata.Guarded.M.html#672" class="Bound">p₂</a><a id="720" class="Symbol">}</a>
         <a id="731" class="Symbol">(</a><a id="732" href="Codata.Guarded.M.html#732" class="Bound">f</a> <a id="734" class="Symbol">:</a> <a id="736" href="Codata.Guarded.M.html#677" class="Bound">C₁</a> <a id="739" href="Data.Container.Core.html#1054" class="Record Operator">⇒</a> <a id="741" href="Codata.Guarded.M.html#700" class="Bound">C₂</a><a id="743" class="Symbol">)</a> <a id="745" class="Keyword">where</a>

  <a id="754" href="Codata.Guarded.M.html#754" class="Function">map</a> <a id="758" class="Symbol">:</a> <a id="760" href="Codata.Guarded.M.html#472" class="Record">M</a> <a id="762" href="Codata.Guarded.M.html#677" class="Bound">C₁</a> <a id="765" class="Symbol">→</a> <a id="767" href="Codata.Guarded.M.html#472" class="Record">M</a> <a id="769" href="Codata.Guarded.M.html#700" class="Bound">C₂</a>
  <a id="774" href="Codata.Guarded.M.html#754" class="Function">map</a> <a id="778" href="Codata.Guarded.M.html#778" class="Bound">m</a> <a id="780" class="Symbol">.</a><a id="781" href="Codata.Guarded.M.html#585" class="Field">head</a> <a id="786" class="Symbol">=</a> <a id="788" href="Codata.Guarded.M.html#732" class="Bound">f</a> <a id="790" class="Symbol">.</a><a id="791" href="Data.Container.Core.html#1191" class="Field">shape</a> <a id="797" class="Symbol">(</a><a id="798" href="Codata.Guarded.M.html#778" class="Bound">m</a> <a id="800" class="Symbol">.</a><a id="801" href="Codata.Guarded.M.html#585" class="Field">head</a><a id="805" class="Symbol">)</a>
  <a id="809" href="Codata.Guarded.M.html#754" class="Function">map</a> <a id="813" href="Codata.Guarded.M.html#813" class="Bound">m</a> <a id="815" class="Symbol">.</a><a id="816" href="Codata.Guarded.M.html#602" class="Field">tail</a> <a id="821" href="Codata.Guarded.M.html#821" class="Bound">p</a> <a id="823" class="Symbol">=</a> <a id="825" href="Codata.Guarded.M.html#754" class="Function">map</a> <a id="829" class="Symbol">(</a><a id="830" href="Codata.Guarded.M.html#813" class="Bound">m</a> <a id="832" class="Symbol">.</a><a id="833" href="Codata.Guarded.M.html#602" class="Field">tail</a> <a id="838" class="Symbol">(</a><a id="839" href="Codata.Guarded.M.html#732" class="Bound">f</a> <a id="841" class="Symbol">.</a><a id="842" href="Data.Container.Core.html#1226" class="Field">position</a> <a id="851" href="Codata.Guarded.M.html#821" class="Bound">p</a><a id="852" class="Symbol">))</a>

<a id="856" class="Comment">-- unfold</a>

<a id="867" class="Keyword">module</a> <a id="874" href="Codata.Guarded.M.html#874" class="Module">_</a> <a id="876" class="Symbol">{</a><a id="877" href="Codata.Guarded.M.html#877" class="Bound">s</a> <a id="879" href="Codata.Guarded.M.html#879" class="Bound">p</a> <a id="881" href="Codata.Guarded.M.html#881" class="Bound">ℓ</a><a id="882" class="Symbol">}</a> <a id="884" class="Symbol">{</a><a id="885" href="Codata.Guarded.M.html#885" class="Bound">C</a> <a id="887" class="Symbol">:</a> <a id="889" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="899" href="Codata.Guarded.M.html#877" class="Bound">s</a> <a id="901" href="Codata.Guarded.M.html#879" class="Bound">p</a><a id="902" class="Symbol">}</a> <a id="904" class="Symbol">(</a><a id="905" class="Keyword">open</a> <a id="910" href="Data.Container.Core.html#558" class="Module">Container</a> <a id="920" href="Codata.Guarded.M.html#885" class="Bound">C</a><a id="921" class="Symbol">)</a>
         <a id="932" class="Symbol">{</a><a id="933" href="Codata.Guarded.M.html#933" class="Bound">S</a> <a id="935" class="Symbol">:</a> <a id="937" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="941" href="Codata.Guarded.M.html#881" class="Bound">ℓ</a><a id="942" class="Symbol">}</a> <a id="944" class="Symbol">(</a><a id="945" href="Codata.Guarded.M.html#945" class="Bound">alg</a> <a id="949" class="Symbol">:</a> <a id="951" href="Codata.Guarded.M.html#933" class="Bound">S</a> <a id="953" class="Symbol">→</a> <a id="955" href="Data.Container.Core.html#755" class="Function Operator">⟦</a> <a id="957" href="Codata.Guarded.M.html#885" class="Bound">C</a> <a id="959" href="Data.Container.Core.html#755" class="Function Operator">⟧</a> <a id="961" href="Codata.Guarded.M.html#933" class="Bound">S</a><a id="962" class="Symbol">)</a> <a id="964" class="Keyword">where</a>

  <a id="973" href="Codata.Guarded.M.html#973" class="Function">unfold</a> <a id="980" class="Symbol">:</a> <a id="982" href="Codata.Guarded.M.html#933" class="Bound">S</a> <a id="984" class="Symbol">→</a> <a id="986" href="Codata.Guarded.M.html#472" class="Record">M</a> <a id="988" href="Codata.Guarded.M.html#885" class="Bound">C</a>
  <a id="992" href="Codata.Guarded.M.html#973" class="Function">unfold</a> <a id="999" href="Codata.Guarded.M.html#999" class="Bound">seed</a> <a id="1004" class="Symbol">.</a><a id="1005" href="Codata.Guarded.M.html#585" class="Field">head</a> <a id="1010" class="Symbol">=</a> <a id="1012" href="Codata.Guarded.M.html#945" class="Bound">alg</a> <a id="1016" href="Codata.Guarded.M.html#999" class="Bound">seed</a> <a id="1021" class="Symbol">.</a><a id="1022" href="Data.Product.Base.html#608" class="Field">proj₁</a>
  <a id="1030" href="Codata.Guarded.M.html#973" class="Function">unfold</a> <a id="1037" href="Codata.Guarded.M.html#1037" class="Bound">seed</a> <a id="1042" class="Symbol">.</a><a id="1043" href="Codata.Guarded.M.html#602" class="Field">tail</a> <a id="1048" href="Codata.Guarded.M.html#1048" class="Bound">p</a> <a id="1050" class="Symbol">=</a> <a id="1052" href="Codata.Guarded.M.html#973" class="Function">unfold</a> <a id="1059" class="Symbol">(</a><a id="1060" href="Codata.Guarded.M.html#945" class="Bound">alg</a> <a id="1064" href="Codata.Guarded.M.html#1037" class="Bound">seed</a> <a id="1069" class="Symbol">.</a><a id="1070" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="1076" href="Codata.Guarded.M.html#1048" class="Bound">p</a><a id="1077" class="Symbol">)</a>
</pre></body></html>