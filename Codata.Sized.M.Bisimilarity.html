<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Sized.M.Bisimilarity</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Bisimilarity for M-types</a>
<a id="134" class="Comment">------------------------------------------------------------------------</a>

<a id="208" class="Symbol">{-#</a> <a id="212" class="Keyword">OPTIONS</a> <a id="220" class="Pragma">--without-K</a> <a id="232" class="Pragma">--sized-types</a> <a id="246" class="Symbol">#-}</a>

<a id="251" class="Keyword">module</a> <a id="258" href="Codata.Sized.M.Bisimilarity.html" class="Module">Codata.Sized.M.Bisimilarity</a> <a id="286" class="Keyword">where</a>

<a id="293" class="Keyword">open</a> <a id="298" class="Keyword">import</a> <a id="305" href="Level.html" class="Module">Level</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Size.html" class="Module">Size</a>
<a id="328" class="Keyword">open</a> <a id="333" class="Keyword">import</a> <a id="340" href="Codata.Sized.Thunk.html" class="Module">Codata.Sized.Thunk</a>
<a id="359" class="Keyword">open</a> <a id="364" class="Keyword">import</a> <a id="371" href="Codata.Sized.M.html" class="Module">Codata.Sized.M</a>
<a id="386" class="Keyword">open</a> <a id="391" class="Keyword">import</a> <a id="398" href="Data.Container.Core.html" class="Module">Data.Container.Core</a>
<a id="418" class="Keyword">open</a> <a id="423" class="Keyword">import</a> <a id="430" href="Data.Container.Relation.Binary.Pointwise.html" class="Module">Data.Container.Relation.Binary.Pointwise</a> <a id="471" class="Keyword">using</a> <a id="477" class="Symbol">(</a><a id="478" href="Data.Container.Relation.Binary.Pointwise.html#714" class="Record">Pointwise</a><a id="487" class="Symbol">;</a> <a id="489" href="Data.Container.Relation.Binary.Pointwise.html#861" class="InductiveConstructor Operator">_,_</a><a id="492" class="Symbol">)</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Data.Product.html" class="Module">Data.Product</a> <a id="519" class="Keyword">using</a> <a id="525" class="Symbol">(</a><a id="526" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="529" class="Symbol">)</a>
<a id="531" class="Keyword">open</a> <a id="536" class="Keyword">import</a> <a id="543" href="Function.Base.html" class="Module">Function.Base</a> <a id="557" class="Keyword">using</a> <a id="563" class="Symbol">(</a><a id="564" href="Function.Base.html#4494" class="Function Operator">_∋_</a><a id="567" class="Symbol">)</a>
<a id="569" class="Keyword">open</a> <a id="574" class="Keyword">import</a> <a id="581" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="597" class="Keyword">import</a> <a id="604" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="642" class="Symbol">as</a> <a id="645" class="Module">P</a>

<a id="648" class="Keyword">data</a> <a id="Bisim"></a><a id="653" href="Codata.Sized.M.Bisimilarity.html#653" class="Datatype">Bisim</a> <a id="659" class="Symbol">{</a><a id="660" href="Codata.Sized.M.Bisimilarity.html#660" class="Bound">s</a> <a id="662" href="Codata.Sized.M.Bisimilarity.html#662" class="Bound">p</a><a id="663" class="Symbol">}</a> <a id="665" class="Symbol">(</a><a id="666" href="Codata.Sized.M.Bisimilarity.html#666" class="Bound">C</a> <a id="668" class="Symbol">:</a> <a id="670" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="680" href="Codata.Sized.M.Bisimilarity.html#660" class="Bound">s</a> <a id="682" href="Codata.Sized.M.Bisimilarity.html#662" class="Bound">p</a><a id="683" class="Symbol">)</a> <a id="685" class="Symbol">(</a><a id="686" href="Codata.Sized.M.Bisimilarity.html#686" class="Bound">i</a> <a id="688" class="Symbol">:</a> <a id="690" href="Agda.Builtin.Size.html#202" class="Postulate">Size</a><a id="694" class="Symbol">)</a> <a id="696" class="Symbol">:</a> <a id="698" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="702" class="Symbol">(</a><a id="703" href="Codata.Sized.M.html#466" class="Datatype">M</a> <a id="705" href="Codata.Sized.M.Bisimilarity.html#666" class="Bound">C</a> <a id="707" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a><a id="708" class="Symbol">)</a> <a id="710" class="Symbol">(</a><a id="711" href="Codata.Sized.M.Bisimilarity.html#660" class="Bound">s</a> <a id="713" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="715" href="Codata.Sized.M.Bisimilarity.html#662" class="Bound">p</a><a id="716" class="Symbol">)</a> <a id="718" class="Keyword">where</a>
  <a id="Bisim.inf"></a><a id="726" href="Codata.Sized.M.Bisimilarity.html#726" class="InductiveConstructor">inf</a> <a id="730" class="Symbol">:</a> <a id="732" class="Symbol">∀</a> <a id="734" class="Symbol">{</a><a id="735" href="Codata.Sized.M.Bisimilarity.html#735" class="Bound">t</a> <a id="737" href="Codata.Sized.M.Bisimilarity.html#737" class="Bound">u</a><a id="738" class="Symbol">}</a> <a id="740" class="Symbol">→</a> <a id="742" href="Data.Container.Relation.Binary.Pointwise.html#714" class="Record">Pointwise</a> <a id="752" href="Codata.Sized.M.Bisimilarity.html#666" class="Bound">C</a> <a id="754" class="Symbol">(</a><a id="755" href="Codata.Sized.Thunk.html#750" class="Function">Thunk^R</a> <a id="763" class="Symbol">(</a><a id="764" href="Codata.Sized.M.Bisimilarity.html#653" class="Datatype">Bisim</a> <a id="770" href="Codata.Sized.M.Bisimilarity.html#666" class="Bound">C</a><a id="771" class="Symbol">)</a> <a id="773" href="Codata.Sized.M.Bisimilarity.html#686" class="Bound">i</a><a id="774" class="Symbol">)</a> <a id="776" href="Codata.Sized.M.Bisimilarity.html#735" class="Bound">t</a> <a id="778" href="Codata.Sized.M.Bisimilarity.html#737" class="Bound">u</a> <a id="780" class="Symbol">→</a> <a id="782" href="Codata.Sized.M.Bisimilarity.html#653" class="Datatype">Bisim</a> <a id="788" href="Codata.Sized.M.Bisimilarity.html#666" class="Bound">C</a> <a id="790" href="Codata.Sized.M.Bisimilarity.html#686" class="Bound">i</a> <a id="792" class="Symbol">(</a><a id="793" href="Codata.Sized.M.html#527" class="InductiveConstructor">inf</a> <a id="797" href="Codata.Sized.M.Bisimilarity.html#735" class="Bound">t</a><a id="798" class="Symbol">)</a> <a id="800" class="Symbol">(</a><a id="801" href="Codata.Sized.M.html#527" class="InductiveConstructor">inf</a> <a id="805" href="Codata.Sized.M.Bisimilarity.html#737" class="Bound">u</a><a id="806" class="Symbol">)</a>

<a id="809" class="Keyword">module</a> <a id="816" href="Codata.Sized.M.Bisimilarity.html#816" class="Module">_</a> <a id="818" class="Symbol">{</a><a id="819" href="Codata.Sized.M.Bisimilarity.html#819" class="Bound">s</a> <a id="821" href="Codata.Sized.M.Bisimilarity.html#821" class="Bound">p</a><a id="822" class="Symbol">}</a> <a id="824" class="Symbol">{</a><a id="825" href="Codata.Sized.M.Bisimilarity.html#825" class="Bound">C</a> <a id="827" class="Symbol">:</a> <a id="829" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="839" href="Codata.Sized.M.Bisimilarity.html#819" class="Bound">s</a> <a id="841" href="Codata.Sized.M.Bisimilarity.html#821" class="Bound">p</a><a id="842" class="Symbol">}</a> <a id="844" class="Keyword">where</a>

  <a id="853" class="Comment">-- unfortunately the proofs are a lot nicer if we do not use the combinators</a>
  <a id="932" class="Comment">-- C.refl, C.sym and C.trans</a>

  <a id="964" href="Codata.Sized.M.Bisimilarity.html#964" class="Function">refl</a> <a id="969" class="Symbol">:</a> <a id="971" class="Symbol">∀</a> <a id="973" class="Symbol">{</a><a id="974" href="Codata.Sized.M.Bisimilarity.html#974" class="Bound">i</a><a id="975" class="Symbol">}</a> <a id="977" class="Symbol">→</a> <a id="979" href="Relation.Binary.Definitions.html#1404" class="Function">Reflexive</a> <a id="989" class="Symbol">(</a><a id="990" href="Codata.Sized.M.Bisimilarity.html#653" class="Datatype">Bisim</a> <a id="996" href="Codata.Sized.M.Bisimilarity.html#825" class="Bound">C</a> <a id="998" href="Codata.Sized.M.Bisimilarity.html#974" class="Bound">i</a><a id="999" class="Symbol">)</a>
  <a id="1003" href="Codata.Sized.M.Bisimilarity.html#964" class="Function">refl</a> <a id="1008" class="Symbol">{</a><a id="1009" class="Argument">x</a> <a id="1011" class="Symbol">=</a> <a id="1013" href="Codata.Sized.M.html#527" class="InductiveConstructor">inf</a> <a id="1017" href="Codata.Sized.M.Bisimilarity.html#1017" class="Bound">t</a><a id="1018" class="Symbol">}</a> <a id="1020" class="Symbol">=</a> <a id="1022" href="Codata.Sized.M.Bisimilarity.html#726" class="InductiveConstructor">inf</a> <a id="1026" class="Symbol">(</a><a id="1027" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">P.refl</a> <a id="1034" href="Data.Container.Relation.Binary.Pointwise.html#861" class="InductiveConstructor Operator">,</a> <a id="1036" class="Symbol">λ</a> <a id="1038" class="Keyword">where</a> <a id="1044" href="Codata.Sized.M.Bisimilarity.html#1044" class="Bound">p</a> <a id="1046" class="Symbol">.</a><a id="1047" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="1053" class="Symbol">→</a> <a id="1055" href="Codata.Sized.M.Bisimilarity.html#964" class="Function">refl</a><a id="1059" class="Symbol">)</a>

  <a id="1064" href="Codata.Sized.M.Bisimilarity.html#1064" class="Function">sym</a> <a id="1068" class="Symbol">:</a> <a id="1070" class="Symbol">∀</a> <a id="1072" class="Symbol">{</a><a id="1073" href="Codata.Sized.M.Bisimilarity.html#1073" class="Bound">i</a><a id="1074" class="Symbol">}</a> <a id="1076" class="Symbol">→</a> <a id="1078" href="Relation.Binary.Definitions.html#1563" class="Function">Symmetric</a> <a id="1088" class="Symbol">(</a><a id="1089" href="Codata.Sized.M.Bisimilarity.html#653" class="Datatype">Bisim</a> <a id="1095" href="Codata.Sized.M.Bisimilarity.html#825" class="Bound">C</a> <a id="1097" href="Codata.Sized.M.Bisimilarity.html#1073" class="Bound">i</a><a id="1098" class="Symbol">)</a>
  <a id="1102" href="Codata.Sized.M.Bisimilarity.html#1064" class="Function">sym</a>  <a id="1107" class="Symbol">(</a><a id="1108" href="Codata.Sized.M.Bisimilarity.html#726" class="InductiveConstructor">inf</a> <a id="1112" class="Symbol">(</a><a id="1113" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">P.refl</a> <a id="1120" href="Data.Container.Relation.Binary.Pointwise.html#861" class="InductiveConstructor Operator">,</a> <a id="1122" href="Codata.Sized.M.Bisimilarity.html#1122" class="Bound">f</a><a id="1123" class="Symbol">))</a> <a id="1126" class="Symbol">=</a> <a id="1128" href="Codata.Sized.M.Bisimilarity.html#726" class="InductiveConstructor">inf</a> <a id="1132" class="Symbol">(</a><a id="1133" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">P.refl</a> <a id="1140" href="Data.Container.Relation.Binary.Pointwise.html#861" class="InductiveConstructor Operator">,</a> <a id="1142" class="Symbol">λ</a> <a id="1144" class="Keyword">where</a> <a id="1150" href="Codata.Sized.M.Bisimilarity.html#1150" class="Bound">p</a> <a id="1152" class="Symbol">.</a><a id="1153" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="1159" class="Symbol">→</a> <a id="1161" href="Codata.Sized.M.Bisimilarity.html#1064" class="Function">sym</a> <a id="1165" class="Symbol">(</a><a id="1166" href="Codata.Sized.M.Bisimilarity.html#1122" class="Bound">f</a> <a id="1168" href="Codata.Sized.M.Bisimilarity.html#1150" class="Bound">p</a> <a id="1170" class="Symbol">.</a><a id="1171" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="1176" class="Symbol">))</a>

  <a id="1182" href="Codata.Sized.M.Bisimilarity.html#1182" class="Function">trans</a> <a id="1188" class="Symbol">:</a> <a id="1190" class="Symbol">∀</a> <a id="1192" class="Symbol">{</a><a id="1193" href="Codata.Sized.M.Bisimilarity.html#1193" class="Bound">i</a><a id="1194" class="Symbol">}</a> <a id="1196" class="Symbol">→</a> <a id="1198" href="Relation.Binary.Definitions.html#1931" class="Function">Transitive</a> <a id="1209" class="Symbol">(</a><a id="1210" href="Codata.Sized.M.Bisimilarity.html#653" class="Datatype">Bisim</a> <a id="1216" href="Codata.Sized.M.Bisimilarity.html#825" class="Bound">C</a> <a id="1218" href="Codata.Sized.M.Bisimilarity.html#1193" class="Bound">i</a><a id="1219" class="Symbol">)</a>
  <a id="1223" href="Codata.Sized.M.Bisimilarity.html#1182" class="Function">trans</a> <a id="1229" class="Symbol">(</a><a id="1230" href="Codata.Sized.M.Bisimilarity.html#726" class="InductiveConstructor">inf</a> <a id="1234" class="Symbol">(</a><a id="1235" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">P.refl</a> <a id="1242" href="Data.Container.Relation.Binary.Pointwise.html#861" class="InductiveConstructor Operator">,</a> <a id="1244" href="Codata.Sized.M.Bisimilarity.html#1244" class="Bound">f</a><a id="1245" class="Symbol">))</a> <a id="1248" class="Symbol">(</a><a id="1249" href="Codata.Sized.M.Bisimilarity.html#726" class="InductiveConstructor">inf</a> <a id="1253" class="Symbol">(</a><a id="1254" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">P.refl</a> <a id="1261" href="Data.Container.Relation.Binary.Pointwise.html#861" class="InductiveConstructor Operator">,</a> <a id="1263" href="Codata.Sized.M.Bisimilarity.html#1263" class="Bound">g</a><a id="1264" class="Symbol">))</a> <a id="1267" class="Symbol">=</a>
    <a id="1273" href="Codata.Sized.M.Bisimilarity.html#726" class="InductiveConstructor">inf</a> <a id="1277" class="Symbol">(</a><a id="1278" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">P.refl</a> <a id="1285" href="Data.Container.Relation.Binary.Pointwise.html#861" class="InductiveConstructor Operator">,</a> <a id="1287" class="Symbol">λ</a> <a id="1289" class="Keyword">where</a> <a id="1295" href="Codata.Sized.M.Bisimilarity.html#1295" class="Bound">p</a> <a id="1297" class="Symbol">.</a><a id="1298" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="1304" class="Symbol">→</a> <a id="1306" href="Codata.Sized.M.Bisimilarity.html#1182" class="Function">trans</a> <a id="1312" class="Symbol">(</a><a id="1313" href="Codata.Sized.M.Bisimilarity.html#1244" class="Bound">f</a> <a id="1315" href="Codata.Sized.M.Bisimilarity.html#1295" class="Bound">p</a> <a id="1317" class="Symbol">.</a><a id="1318" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="1323" class="Symbol">)</a> <a id="1325" class="Symbol">(</a><a id="1326" href="Codata.Sized.M.Bisimilarity.html#1263" class="Bound">g</a> <a id="1328" href="Codata.Sized.M.Bisimilarity.html#1295" class="Bound">p</a> <a id="1330" class="Symbol">.</a><a id="1331" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="1336" class="Symbol">))</a>

  <a id="1342" href="Codata.Sized.M.Bisimilarity.html#1342" class="Function">isEquivalence</a> <a id="1356" class="Symbol">:</a> <a id="1358" class="Symbol">∀</a> <a id="1360" class="Symbol">{</a><a id="1361" href="Codata.Sized.M.Bisimilarity.html#1361" class="Bound">i</a><a id="1362" class="Symbol">}</a> <a id="1364" class="Symbol">→</a> <a id="1366" href="Relation.Binary.Structures.html#1536" class="Record">IsEquivalence</a> <a id="1380" class="Symbol">(</a><a id="1381" href="Codata.Sized.M.Bisimilarity.html#653" class="Datatype">Bisim</a> <a id="1387" href="Codata.Sized.M.Bisimilarity.html#825" class="Bound">C</a> <a id="1389" href="Codata.Sized.M.Bisimilarity.html#1361" class="Bound">i</a><a id="1390" class="Symbol">)</a>
  <a id="1394" href="Codata.Sized.M.Bisimilarity.html#1342" class="Function">isEquivalence</a> <a id="1408" class="Symbol">=</a> <a id="1410" class="Keyword">record</a>
    <a id="1421" class="Symbol">{</a> <a id="1423" href="Relation.Binary.Structures.html#1582" class="Field">refl</a>  <a id="1429" class="Symbol">=</a> <a id="1431" href="Codata.Sized.M.Bisimilarity.html#964" class="Function">refl</a>
    <a id="1440" class="Symbol">;</a> <a id="1442" href="Relation.Binary.Structures.html#1608" class="Field">sym</a>   <a id="1448" class="Symbol">=</a> <a id="1450" href="Codata.Sized.M.Bisimilarity.html#1064" class="Function">sym</a>
    <a id="1458" class="Symbol">;</a> <a id="1460" href="Relation.Binary.Structures.html#1634" class="Field">trans</a> <a id="1466" class="Symbol">=</a> <a id="1468" href="Codata.Sized.M.Bisimilarity.html#1182" class="Function">trans</a>
    <a id="1478" class="Symbol">}</a>

  <a id="1483" href="Codata.Sized.M.Bisimilarity.html#1483" class="Function">setoid</a> <a id="1490" class="Symbol">:</a> <a id="1492" class="Symbol">{</a><a id="1493" href="Codata.Sized.M.Bisimilarity.html#1493" class="Bound">i</a> <a id="1495" class="Symbol">:</a> <a id="1497" href="Agda.Builtin.Size.html#202" class="Postulate">Size</a><a id="1501" class="Symbol">}</a> <a id="1503" class="Symbol">→</a> <a id="1505" href="Relation.Binary.Bundles.html#1018" class="Record">Setoid</a> <a id="1512" class="Symbol">(</a><a id="1513" href="Codata.Sized.M.Bisimilarity.html#819" class="Bound">s</a> <a id="1515" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1517" href="Codata.Sized.M.Bisimilarity.html#821" class="Bound">p</a><a id="1518" class="Symbol">)</a> <a id="1520" class="Symbol">(</a><a id="1521" href="Codata.Sized.M.Bisimilarity.html#819" class="Bound">s</a> <a id="1523" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1525" href="Codata.Sized.M.Bisimilarity.html#821" class="Bound">p</a><a id="1526" class="Symbol">)</a>
  <a id="1530" href="Codata.Sized.M.Bisimilarity.html#1483" class="Function">setoid</a> <a id="1537" class="Symbol">{</a><a id="1538" href="Codata.Sized.M.Bisimilarity.html#1538" class="Bound">i</a><a id="1539" class="Symbol">}</a> <a id="1541" class="Symbol">=</a> <a id="1543" class="Keyword">record</a>
    <a id="1554" class="Symbol">{</a> <a id="1556" href="Relation.Binary.Bundles.html#1141" class="Field">isEquivalence</a> <a id="1570" class="Symbol">=</a> <a id="1572" href="Codata.Sized.M.Bisimilarity.html#1342" class="Function">isEquivalence</a> <a id="1586" class="Symbol">{</a><a id="1587" href="Codata.Sized.M.Bisimilarity.html#1538" class="Bound">i</a><a id="1588" class="Symbol">}</a>
    <a id="1594" class="Symbol">}</a>
</pre></body></html>