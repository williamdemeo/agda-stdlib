<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Sized.Stream</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- The Stream type and some operations</a>
<a id="145" class="Comment">------------------------------------------------------------------------</a>

<a id="219" class="Symbol">{-#</a> <a id="223" class="Keyword">OPTIONS</a> <a id="231" class="Pragma">--without-K</a> <a id="243" class="Pragma">--sized-types</a> <a id="257" class="Symbol">#-}</a>

<a id="262" class="Keyword">module</a> <a id="269" href="Codata.Sized.Stream.html" class="Module">Codata.Sized.Stream</a> <a id="289" class="Keyword">where</a>

<a id="296" class="Keyword">open</a> <a id="301" class="Keyword">import</a> <a id="308" href="Size.html" class="Module">Size</a>
<a id="313" class="Keyword">open</a> <a id="318" class="Keyword">import</a> <a id="325" href="Codata.Sized.Thunk.html" class="Module">Codata.Sized.Thunk</a> <a id="344" class="Symbol">as</a> <a id="347" class="Module">Thunk</a> <a id="353" class="Keyword">using</a> <a id="359" class="Symbol">(</a><a id="360" href="Codata.Sized.Thunk.html#473" class="Record">Thunk</a><a id="365" class="Symbol">;</a> <a id="367" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="372" class="Symbol">)</a>

<a id="375" class="Keyword">open</a> <a id="380" class="Keyword">import</a> <a id="387" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="401" class="Keyword">open</a> <a id="406" class="Keyword">import</a> <a id="413" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="428" class="Keyword">using</a> <a id="434" class="Symbol">(</a><a id="435" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="439" class="Symbol">;</a> <a id="441" href="Data.List.Base.html#7361" class="InductiveConstructor">[]</a><a id="443" class="Symbol">;</a> <a id="445" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="448" class="Symbol">)</a>
<a id="450" class="Keyword">open</a> <a id="455" class="Keyword">import</a> <a id="462" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="481" class="Symbol">as</a> <a id="484" class="Module">List⁺</a> <a id="490" class="Keyword">using</a> <a id="496" class="Symbol">(</a><a id="497" href="Data.List.NonEmpty.Base.html#1267" class="Record">List⁺</a><a id="502" class="Symbol">;</a> <a id="504" href="Data.List.NonEmpty.Base.html#1313" class="InductiveConstructor Operator">_∷_</a><a id="507" class="Symbol">;</a> <a id="509" href="Data.List.NonEmpty.Base.html#1578" class="Function Operator">_∷⁺_</a><a id="513" class="Symbol">)</a>
<a id="515" class="Keyword">open</a> <a id="520" class="Keyword">import</a> <a id="527" href="Data.Vec.Base.html" class="Module">Data.Vec.Base</a> <a id="541" class="Keyword">using</a> <a id="547" class="Symbol">(</a><a id="548" href="Data.Vec.Base.html#1067" class="Datatype">Vec</a><a id="551" class="Symbol">;</a> <a id="553" href="Data.Vec.Base.html#1103" class="InductiveConstructor">[]</a><a id="555" class="Symbol">;</a> <a id="557" href="Data.Vec.Base.html#1122" class="InductiveConstructor Operator">_∷_</a><a id="560" class="Symbol">)</a>
<a id="562" class="Keyword">open</a> <a id="567" class="Keyword">import</a> <a id="574" href="Data.Product.html" class="Module">Data.Product</a> <a id="587" class="Symbol">as</a> <a id="590" class="Module">P</a> <a id="592" class="Keyword">hiding</a> <a id="599" class="Symbol">(</a><a id="600" href="Data.Product.Base.html#1664" class="Function">map</a><a id="603" class="Symbol">)</a>
<a id="605" class="Keyword">open</a> <a id="610" class="Keyword">import</a> <a id="617" href="Function.Base.html" class="Module">Function.Base</a>
<a id="631" class="Keyword">open</a> <a id="636" class="Keyword">import</a> <a id="643" href="Level.html" class="Module">Level</a> <a id="649" class="Keyword">using</a> <a id="655" class="Symbol">(</a><a id="656" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="661" class="Symbol">)</a>
<a id="663" class="Keyword">open</a> <a id="668" class="Keyword">import</a> <a id="675" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="713" class="Keyword">using</a> <a id="719" class="Symbol">(</a><a id="720" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="723" class="Symbol">;</a> <a id="725" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="729" class="Symbol">)</a>

<a id="732" class="Keyword">private</a>
  <a id="742" class="Keyword">variable</a>
    <a id="755" href="Codata.Sized.Stream.html#755" class="Generalizable">a</a> <a id="757" href="Codata.Sized.Stream.html#757" class="Generalizable">b</a> <a id="759" href="Codata.Sized.Stream.html#759" class="Generalizable">c</a> <a id="761" class="Symbol">:</a> <a id="763" href="Agda.Primitive.html#597" class="Postulate">Level</a>
    <a id="773" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="775" class="Symbol">:</a> <a id="777" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="781" href="Codata.Sized.Stream.html#755" class="Generalizable">a</a>
    <a id="787" href="Codata.Sized.Stream.html#787" class="Generalizable">B</a> <a id="789" class="Symbol">:</a> <a id="791" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="795" href="Codata.Sized.Stream.html#757" class="Generalizable">b</a>
    <a id="801" href="Codata.Sized.Stream.html#801" class="Generalizable">C</a> <a id="803" class="Symbol">:</a> <a id="805" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="809" href="Codata.Sized.Stream.html#759" class="Generalizable">c</a>
    <a id="815" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a> <a id="817" class="Symbol">:</a> <a id="819" href="Agda.Builtin.Size.html#202" class="Postulate">Size</a>

<a id="825" class="Comment">------------------------------------------------------------------------</a>
<a id="898" class="Comment">-- Type</a>

<a id="907" class="Keyword">data</a> <a id="Stream"></a><a id="912" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="919" class="Symbol">(</a><a id="920" href="Codata.Sized.Stream.html#920" class="Bound">A</a> <a id="922" class="Symbol">:</a> <a id="924" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="928" href="Codata.Sized.Stream.html#755" class="Generalizable">a</a><a id="929" class="Symbol">)</a> <a id="931" class="Symbol">(</a><a id="932" href="Codata.Sized.Stream.html#932" class="Bound">i</a> <a id="934" class="Symbol">:</a> <a id="936" href="Agda.Builtin.Size.html#202" class="Postulate">Size</a><a id="940" class="Symbol">)</a> <a id="942" class="Symbol">:</a> <a id="944" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="948" href="Codata.Sized.Stream.html#928" class="Bound">a</a> <a id="950" class="Keyword">where</a>
  <a id="Stream._∷_"></a><a id="958" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">_∷_</a> <a id="962" class="Symbol">:</a> <a id="964" href="Codata.Sized.Stream.html#920" class="Bound">A</a> <a id="966" class="Symbol">→</a> <a id="968" href="Codata.Sized.Thunk.html#473" class="Record">Thunk</a> <a id="974" class="Symbol">(</a><a id="975" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="982" href="Codata.Sized.Stream.html#920" class="Bound">A</a><a id="983" class="Symbol">)</a> <a id="985" href="Codata.Sized.Stream.html#932" class="Bound">i</a> <a id="987" class="Symbol">→</a> <a id="989" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="996" href="Codata.Sized.Stream.html#920" class="Bound">A</a> <a id="998" href="Codata.Sized.Stream.html#932" class="Bound">i</a>

<a id="1001" class="Comment">------------------------------------------------------------------------</a>
<a id="1074" class="Comment">-- Creating streams</a>

<a id="repeat"></a><a id="1095" href="Codata.Sized.Stream.html#1095" class="Function">repeat</a> <a id="1102" class="Symbol">:</a> <a id="1104" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1106" class="Symbol">→</a> <a id="1108" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="1115" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1117" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>
<a id="1119" href="Codata.Sized.Stream.html#1095" class="Function">repeat</a> <a id="1126" href="Codata.Sized.Stream.html#1126" class="Bound">a</a> <a id="1128" class="Symbol">=</a> <a id="1130" href="Codata.Sized.Stream.html#1126" class="Bound">a</a> <a id="1132" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="1134" class="Symbol">λ</a> <a id="1136" class="Keyword">where</a> <a id="1142" class="Symbol">.</a><a id="1143" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="1149" class="Symbol">→</a> <a id="1151" href="Codata.Sized.Stream.html#1095" class="Function">repeat</a> <a id="1158" href="Codata.Sized.Stream.html#1126" class="Bound">a</a>

<a id="1161" class="Keyword">infixr</a> <a id="1168" class="Number">5</a> <a id="1170" href="Codata.Sized.Stream.html#1181" class="Function Operator">_++_</a> <a id="1175" href="Codata.Sized.Stream.html#2529" class="Function Operator">_⁺++_</a>
<a id="_++_"></a><a id="1181" href="Codata.Sized.Stream.html#1181" class="Function Operator">_++_</a> <a id="1186" class="Symbol">:</a> <a id="1188" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1193" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1195" class="Symbol">→</a> <a id="1197" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="1204" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1206" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a> <a id="1208" class="Symbol">→</a> <a id="1210" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="1217" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1219" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>
<a id="1221" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>       <a id="1230" href="Codata.Sized.Stream.html#1181" class="Function Operator">++</a> <a id="1233" href="Codata.Sized.Stream.html#1233" class="Bound">ys</a> <a id="1236" class="Symbol">=</a> <a id="1238" href="Codata.Sized.Stream.html#1233" class="Bound">ys</a>
<a id="1241" class="Symbol">(</a><a id="1242" href="Codata.Sized.Stream.html#1242" class="Bound">x</a> <a id="1244" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1246" href="Codata.Sized.Stream.html#1246" class="Bound">xs</a><a id="1248" class="Symbol">)</a> <a id="1250" href="Codata.Sized.Stream.html#1181" class="Function Operator">++</a> <a id="1253" href="Codata.Sized.Stream.html#1253" class="Bound">ys</a> <a id="1256" class="Symbol">=</a> <a id="1258" href="Codata.Sized.Stream.html#1242" class="Bound">x</a> <a id="1260" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="1262" class="Symbol">λ</a> <a id="1264" class="Keyword">where</a> <a id="1270" class="Symbol">.</a><a id="1271" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="1277" class="Symbol">→</a> <a id="1279" href="Codata.Sized.Stream.html#1246" class="Bound">xs</a> <a id="1282" href="Codata.Sized.Stream.html#1181" class="Function Operator">++</a> <a id="1285" href="Codata.Sized.Stream.html#1253" class="Bound">ys</a>

<a id="unfold"></a><a id="1289" href="Codata.Sized.Stream.html#1289" class="Function">unfold</a> <a id="1296" class="Symbol">:</a> <a id="1298" class="Symbol">(</a><a id="1299" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1301" class="Symbol">→</a> <a id="1303" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1305" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="1307" href="Codata.Sized.Stream.html#787" class="Generalizable">B</a><a id="1308" class="Symbol">)</a> <a id="1310" class="Symbol">→</a> <a id="1312" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1314" class="Symbol">→</a> <a id="1316" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="1323" href="Codata.Sized.Stream.html#787" class="Generalizable">B</a> <a id="1325" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>
<a id="1327" href="Codata.Sized.Stream.html#1289" class="Function">unfold</a> <a id="1334" href="Codata.Sized.Stream.html#1334" class="Bound">next</a> <a id="1339" href="Codata.Sized.Stream.html#1339" class="Bound">seed</a> <a id="1344" class="Symbol">=</a>
  <a id="1348" class="Keyword">let</a> <a id="1352" class="Symbol">(</a><a id="1353" href="Codata.Sized.Stream.html#1353" class="Bound">seed′</a> <a id="1359" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1361" href="Codata.Sized.Stream.html#1361" class="Bound">b</a><a id="1362" class="Symbol">)</a> <a id="1364" class="Symbol">=</a> <a id="1366" href="Codata.Sized.Stream.html#1334" class="Bound">next</a> <a id="1371" href="Codata.Sized.Stream.html#1339" class="Bound">seed</a> <a id="1376" class="Keyword">in</a>
  <a id="1381" href="Codata.Sized.Stream.html#1361" class="Bound">b</a> <a id="1383" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="1385" class="Symbol">λ</a> <a id="1387" class="Keyword">where</a> <a id="1393" class="Symbol">.</a><a id="1394" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="1400" class="Symbol">→</a> <a id="1402" href="Codata.Sized.Stream.html#1289" class="Function">unfold</a> <a id="1409" href="Codata.Sized.Stream.html#1334" class="Bound">next</a> <a id="1414" href="Codata.Sized.Stream.html#1353" class="Bound">seed′</a>

<a id="iterate"></a><a id="1421" href="Codata.Sized.Stream.html#1421" class="Function">iterate</a> <a id="1429" class="Symbol">:</a> <a id="1431" class="Symbol">(</a><a id="1432" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1434" class="Symbol">→</a> <a id="1436" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a><a id="1437" class="Symbol">)</a> <a id="1439" class="Symbol">→</a> <a id="1441" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1443" class="Symbol">→</a> <a id="1445" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="1452" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1454" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a>
<a id="1456" href="Codata.Sized.Stream.html#1421" class="Function">iterate</a> <a id="1464" href="Codata.Sized.Stream.html#1464" class="Bound">f</a> <a id="1466" class="Symbol">=</a> <a id="1468" href="Codata.Sized.Stream.html#1289" class="Function">unfold</a> <a id="1475" href="Data.Product.Base.html#1491" class="Function Operator">&lt;</a> <a id="1477" href="Codata.Sized.Stream.html#1464" class="Bound">f</a> <a id="1479" href="Data.Product.Base.html#1491" class="Function Operator">,</a> <a id="1481" href="Function.Base.html#695" class="Function">id</a> <a id="1484" href="Data.Product.Base.html#1491" class="Function Operator">&gt;</a>

<a id="nats"></a><a id="1487" href="Codata.Sized.Stream.html#1487" class="Function">nats</a> <a id="1492" class="Symbol">:</a> <a id="1494" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="1501" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1503" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a>
<a id="1505" href="Codata.Sized.Stream.html#1487" class="Function">nats</a> <a id="1510" class="Symbol">=</a> <a id="1512" href="Codata.Sized.Stream.html#1421" class="Function">iterate</a> <a id="1520" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1524" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>

<a id="1530" class="Comment">------------------------------------------------------------------------</a>
<a id="1603" class="Comment">-- Looking at streams</a>

<a id="head"></a><a id="1626" href="Codata.Sized.Stream.html#1626" class="Function">head</a> <a id="1631" class="Symbol">:</a> <a id="1633" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="1640" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1642" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a> <a id="1644" class="Symbol">→</a> <a id="1646" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a>
<a id="1648" href="Codata.Sized.Stream.html#1626" class="Function">head</a> <a id="1653" class="Symbol">(</a><a id="1654" href="Codata.Sized.Stream.html#1654" class="Bound">x</a> <a id="1656" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="1658" href="Codata.Sized.Stream.html#1658" class="Bound">xs</a><a id="1660" class="Symbol">)</a> <a id="1662" class="Symbol">=</a> <a id="1664" href="Codata.Sized.Stream.html#1654" class="Bound">x</a>

<a id="tail"></a><a id="1667" href="Codata.Sized.Stream.html#1667" class="Function">tail</a> <a id="1672" class="Symbol">:</a> <a id="1674" class="Symbol">{</a><a id="1675" href="Codata.Sized.Stream.html#1675" class="Bound">j</a> <a id="1677" class="Symbol">:</a> <a id="1679" href="Agda.Builtin.Size.html#236" class="Postulate Operator">Size&lt;</a> <a id="1685" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a><a id="1686" class="Symbol">}</a> <a id="1688" class="Symbol">→</a> <a id="1690" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="1697" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1699" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a> <a id="1701" class="Symbol">→</a> <a id="1703" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="1710" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1712" href="Codata.Sized.Stream.html#1675" class="Bound">j</a>
<a id="1714" href="Codata.Sized.Stream.html#1667" class="Function">tail</a> <a id="1719" class="Symbol">(</a><a id="1720" href="Codata.Sized.Stream.html#1720" class="Bound">x</a> <a id="1722" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="1724" href="Codata.Sized.Stream.html#1724" class="Bound">xs</a><a id="1726" class="Symbol">)</a> <a id="1728" class="Symbol">=</a> <a id="1730" href="Codata.Sized.Stream.html#1724" class="Bound">xs</a> <a id="1733" class="Symbol">.</a><a id="1734" href="Codata.Sized.Thunk.html#547" class="Field">force</a>

<a id="lookup"></a><a id="1741" href="Codata.Sized.Stream.html#1741" class="Function">lookup</a> <a id="1748" class="Symbol">:</a> <a id="1750" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="1757" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1759" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a> <a id="1761" class="Symbol">→</a> <a id="1763" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1765" class="Symbol">→</a> <a id="1767" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a>
<a id="1769" href="Codata.Sized.Stream.html#1741" class="Function">lookup</a> <a id="1776" href="Codata.Sized.Stream.html#1776" class="Bound">xs</a> <a id="1779" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="1787" class="Symbol">=</a> <a id="1789" href="Codata.Sized.Stream.html#1626" class="Function">head</a> <a id="1794" href="Codata.Sized.Stream.html#1776" class="Bound">xs</a>
<a id="1797" href="Codata.Sized.Stream.html#1741" class="Function">lookup</a> <a id="1804" href="Codata.Sized.Stream.html#1804" class="Bound">xs</a> <a id="1807" class="Symbol">(</a><a id="1808" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1812" href="Codata.Sized.Stream.html#1812" class="Bound">k</a><a id="1813" class="Symbol">)</a> <a id="1815" class="Symbol">=</a> <a id="1817" href="Codata.Sized.Stream.html#1741" class="Function">lookup</a> <a id="1824" class="Symbol">(</a><a id="1825" href="Codata.Sized.Stream.html#1667" class="Function">tail</a> <a id="1830" href="Codata.Sized.Stream.html#1804" class="Bound">xs</a><a id="1832" class="Symbol">)</a> <a id="1834" href="Codata.Sized.Stream.html#1812" class="Bound">k</a>

<a id="1837" class="Comment">------------------------------------------------------------------------</a>
<a id="1910" class="Comment">-- Transforming streams</a>

<a id="map"></a><a id="1935" href="Codata.Sized.Stream.html#1935" class="Function">map</a> <a id="1939" class="Symbol">:</a> <a id="1941" class="Symbol">(</a><a id="1942" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1944" class="Symbol">→</a> <a id="1946" href="Codata.Sized.Stream.html#787" class="Generalizable">B</a><a id="1947" class="Symbol">)</a> <a id="1949" class="Symbol">→</a> <a id="1951" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="1958" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="1960" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a> <a id="1962" class="Symbol">→</a> <a id="1964" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="1971" href="Codata.Sized.Stream.html#787" class="Generalizable">B</a> <a id="1973" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>
<a id="1975" href="Codata.Sized.Stream.html#1935" class="Function">map</a> <a id="1979" href="Codata.Sized.Stream.html#1979" class="Bound">f</a> <a id="1981" class="Symbol">(</a><a id="1982" href="Codata.Sized.Stream.html#1982" class="Bound">x</a> <a id="1984" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="1986" href="Codata.Sized.Stream.html#1986" class="Bound">xs</a><a id="1988" class="Symbol">)</a> <a id="1990" class="Symbol">=</a> <a id="1992" href="Codata.Sized.Stream.html#1979" class="Bound">f</a> <a id="1994" href="Codata.Sized.Stream.html#1982" class="Bound">x</a> <a id="1996" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="1998" class="Symbol">λ</a> <a id="2000" class="Keyword">where</a> <a id="2006" class="Symbol">.</a><a id="2007" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="2013" class="Symbol">→</a> <a id="2015" href="Codata.Sized.Stream.html#1935" class="Function">map</a> <a id="2019" href="Codata.Sized.Stream.html#1979" class="Bound">f</a> <a id="2021" class="Symbol">(</a><a id="2022" href="Codata.Sized.Stream.html#1986" class="Bound">xs</a> <a id="2025" class="Symbol">.</a><a id="2026" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="2031" class="Symbol">)</a>

<a id="ap"></a><a id="2034" href="Codata.Sized.Stream.html#2034" class="Function">ap</a> <a id="2037" class="Symbol">:</a> <a id="2039" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2046" class="Symbol">(</a><a id="2047" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="2049" class="Symbol">→</a> <a id="2051" href="Codata.Sized.Stream.html#787" class="Generalizable">B</a><a id="2052" class="Symbol">)</a> <a id="2054" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a> <a id="2056" class="Symbol">→</a> <a id="2058" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2065" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="2067" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a> <a id="2069" class="Symbol">→</a> <a id="2071" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2078" href="Codata.Sized.Stream.html#787" class="Generalizable">B</a> <a id="2080" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>
<a id="2082" href="Codata.Sized.Stream.html#2034" class="Function">ap</a> <a id="2085" class="Symbol">(</a><a id="2086" href="Codata.Sized.Stream.html#2086" class="Bound">f</a> <a id="2088" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="2090" href="Codata.Sized.Stream.html#2090" class="Bound">fs</a><a id="2092" class="Symbol">)</a> <a id="2094" class="Symbol">(</a><a id="2095" href="Codata.Sized.Stream.html#2095" class="Bound">x</a> <a id="2097" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="2099" href="Codata.Sized.Stream.html#2099" class="Bound">xs</a><a id="2101" class="Symbol">)</a> <a id="2103" class="Symbol">=</a> <a id="2105" href="Codata.Sized.Stream.html#2086" class="Bound">f</a> <a id="2107" href="Codata.Sized.Stream.html#2095" class="Bound">x</a> <a id="2109" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="2111" class="Symbol">λ</a> <a id="2113" class="Keyword">where</a> <a id="2119" class="Symbol">.</a><a id="2120" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="2126" class="Symbol">→</a> <a id="2128" href="Codata.Sized.Stream.html#2034" class="Function">ap</a> <a id="2131" class="Symbol">(</a><a id="2132" href="Codata.Sized.Stream.html#2090" class="Bound">fs</a> <a id="2135" class="Symbol">.</a><a id="2136" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="2141" class="Symbol">)</a> <a id="2143" class="Symbol">(</a><a id="2144" href="Codata.Sized.Stream.html#2099" class="Bound">xs</a> <a id="2147" class="Symbol">.</a><a id="2148" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="2153" class="Symbol">)</a>

<a id="scanl"></a><a id="2156" href="Codata.Sized.Stream.html#2156" class="Function">scanl</a> <a id="2162" class="Symbol">:</a> <a id="2164" class="Symbol">(</a><a id="2165" href="Codata.Sized.Stream.html#787" class="Generalizable">B</a> <a id="2167" class="Symbol">→</a> <a id="2169" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="2171" class="Symbol">→</a> <a id="2173" href="Codata.Sized.Stream.html#787" class="Generalizable">B</a><a id="2174" class="Symbol">)</a> <a id="2176" class="Symbol">→</a> <a id="2178" href="Codata.Sized.Stream.html#787" class="Generalizable">B</a> <a id="2180" class="Symbol">→</a> <a id="2182" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2189" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="2191" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a> <a id="2193" class="Symbol">→</a> <a id="2195" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2202" href="Codata.Sized.Stream.html#787" class="Generalizable">B</a> <a id="2204" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>
<a id="2206" href="Codata.Sized.Stream.html#2156" class="Function">scanl</a> <a id="2212" href="Codata.Sized.Stream.html#2212" class="Bound">c</a> <a id="2214" href="Codata.Sized.Stream.html#2214" class="Bound">n</a> <a id="2216" class="Symbol">(</a><a id="2217" href="Codata.Sized.Stream.html#2217" class="Bound">x</a> <a id="2219" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="2221" href="Codata.Sized.Stream.html#2221" class="Bound">xs</a><a id="2223" class="Symbol">)</a> <a id="2225" class="Symbol">=</a> <a id="2227" href="Codata.Sized.Stream.html#2214" class="Bound">n</a> <a id="2229" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="2231" class="Symbol">λ</a> <a id="2233" class="Keyword">where</a> <a id="2239" class="Symbol">.</a><a id="2240" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="2246" class="Symbol">→</a> <a id="2248" href="Codata.Sized.Stream.html#2156" class="Function">scanl</a> <a id="2254" href="Codata.Sized.Stream.html#2212" class="Bound">c</a> <a id="2256" class="Symbol">(</a><a id="2257" href="Codata.Sized.Stream.html#2212" class="Bound">c</a> <a id="2259" href="Codata.Sized.Stream.html#2214" class="Bound">n</a> <a id="2261" href="Codata.Sized.Stream.html#2217" class="Bound">x</a><a id="2262" class="Symbol">)</a> <a id="2264" class="Symbol">(</a><a id="2265" href="Codata.Sized.Stream.html#2221" class="Bound">xs</a> <a id="2268" class="Symbol">.</a><a id="2269" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="2274" class="Symbol">)</a>

<a id="zipWith"></a><a id="2277" href="Codata.Sized.Stream.html#2277" class="Function">zipWith</a> <a id="2285" class="Symbol">:</a> <a id="2287" class="Symbol">(</a><a id="2288" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="2290" class="Symbol">→</a> <a id="2292" href="Codata.Sized.Stream.html#787" class="Generalizable">B</a> <a id="2294" class="Symbol">→</a> <a id="2296" href="Codata.Sized.Stream.html#801" class="Generalizable">C</a><a id="2297" class="Symbol">)</a> <a id="2299" class="Symbol">→</a> <a id="2301" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2308" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="2310" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a> <a id="2312" class="Symbol">→</a> <a id="2314" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2321" href="Codata.Sized.Stream.html#787" class="Generalizable">B</a> <a id="2323" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a> <a id="2325" class="Symbol">→</a> <a id="2327" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2334" href="Codata.Sized.Stream.html#801" class="Generalizable">C</a> <a id="2336" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>
<a id="2338" href="Codata.Sized.Stream.html#2277" class="Function">zipWith</a> <a id="2346" href="Codata.Sized.Stream.html#2346" class="Bound">f</a> <a id="2348" class="Symbol">(</a><a id="2349" href="Codata.Sized.Stream.html#2349" class="Bound">a</a> <a id="2351" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="2353" href="Codata.Sized.Stream.html#2353" class="Bound">as</a><a id="2355" class="Symbol">)</a> <a id="2357" class="Symbol">(</a><a id="2358" href="Codata.Sized.Stream.html#2358" class="Bound">b</a> <a id="2360" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="2362" href="Codata.Sized.Stream.html#2362" class="Bound">bs</a><a id="2364" class="Symbol">)</a> <a id="2366" class="Symbol">=</a> <a id="2368" href="Codata.Sized.Stream.html#2346" class="Bound">f</a> <a id="2370" href="Codata.Sized.Stream.html#2349" class="Bound">a</a> <a id="2372" href="Codata.Sized.Stream.html#2358" class="Bound">b</a> <a id="2374" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="2376" class="Symbol">λ</a> <a id="2378" class="Keyword">where</a> <a id="2384" class="Symbol">.</a><a id="2385" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="2391" class="Symbol">→</a> <a id="2393" href="Codata.Sized.Stream.html#2277" class="Function">zipWith</a> <a id="2401" href="Codata.Sized.Stream.html#2346" class="Bound">f</a> <a id="2403" class="Symbol">(</a><a id="2404" href="Codata.Sized.Stream.html#2353" class="Bound">as</a> <a id="2407" class="Symbol">.</a><a id="2408" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="2413" class="Symbol">)</a> <a id="2415" class="Symbol">(</a><a id="2416" href="Codata.Sized.Stream.html#2362" class="Bound">bs</a> <a id="2419" class="Symbol">.</a><a id="2420" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="2425" class="Symbol">)</a>

<a id="2428" class="Comment">------------------------------------------------------------------------</a>
<a id="2501" class="Comment">-- List⁺-related functions</a>

<a id="_⁺++_"></a><a id="2529" href="Codata.Sized.Stream.html#2529" class="Function Operator">_⁺++_</a> <a id="2535" class="Symbol">:</a> <a id="2537" href="Data.List.NonEmpty.Base.html#1267" class="Record">List⁺</a> <a id="2543" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="2545" class="Symbol">→</a> <a id="2547" href="Codata.Sized.Thunk.html#473" class="Record">Thunk</a> <a id="2553" class="Symbol">(</a><a id="2554" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2561" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a><a id="2562" class="Symbol">)</a> <a id="2564" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a> <a id="2566" class="Symbol">→</a> <a id="2568" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2575" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="2577" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>
<a id="2579" class="Symbol">(</a><a id="2580" href="Codata.Sized.Stream.html#2580" class="Bound">x</a> <a id="2582" href="Data.List.NonEmpty.Base.html#1313" class="InductiveConstructor Operator">∷</a> <a id="2584" href="Codata.Sized.Stream.html#2584" class="Bound">xs</a><a id="2586" class="Symbol">)</a> <a id="2588" href="Codata.Sized.Stream.html#2529" class="Function Operator">⁺++</a> <a id="2592" href="Codata.Sized.Stream.html#2592" class="Bound">ys</a> <a id="2595" class="Symbol">=</a> <a id="2597" href="Codata.Sized.Stream.html#2580" class="Bound">x</a> <a id="2599" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="2601" class="Symbol">λ</a> <a id="2603" class="Keyword">where</a> <a id="2609" class="Symbol">.</a><a id="2610" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="2616" class="Symbol">→</a> <a id="2618" href="Codata.Sized.Stream.html#2584" class="Bound">xs</a> <a id="2621" href="Codata.Sized.Stream.html#1181" class="Function Operator">++</a> <a id="2624" href="Codata.Sized.Stream.html#2592" class="Bound">ys</a> <a id="2627" class="Symbol">.</a><a id="2628" href="Codata.Sized.Thunk.html#547" class="Field">force</a>

<a id="cycle"></a><a id="2635" href="Codata.Sized.Stream.html#2635" class="Function">cycle</a> <a id="2641" class="Symbol">:</a> <a id="2643" href="Data.List.NonEmpty.Base.html#1267" class="Record">List⁺</a> <a id="2649" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="2651" class="Symbol">→</a> <a id="2653" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2660" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="2662" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>
<a id="2664" href="Codata.Sized.Stream.html#2635" class="Function">cycle</a> <a id="2670" href="Codata.Sized.Stream.html#2670" class="Bound">xs</a> <a id="2673" class="Symbol">=</a> <a id="2675" href="Codata.Sized.Stream.html#2670" class="Bound">xs</a> <a id="2678" href="Codata.Sized.Stream.html#2529" class="Function Operator">⁺++</a> <a id="2682" class="Symbol">λ</a> <a id="2684" class="Keyword">where</a> <a id="2690" class="Symbol">.</a><a id="2691" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="2697" class="Symbol">→</a> <a id="2699" href="Codata.Sized.Stream.html#2635" class="Function">cycle</a> <a id="2705" href="Codata.Sized.Stream.html#2670" class="Bound">xs</a>

<a id="concat"></a><a id="2709" href="Codata.Sized.Stream.html#2709" class="Function">concat</a> <a id="2716" class="Symbol">:</a> <a id="2718" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2725" class="Symbol">(</a><a id="2726" href="Data.List.NonEmpty.Base.html#1267" class="Record">List⁺</a> <a id="2732" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a><a id="2733" class="Symbol">)</a> <a id="2735" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a> <a id="2737" class="Symbol">→</a> <a id="2739" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2746" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="2748" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>
<a id="2750" href="Codata.Sized.Stream.html#2709" class="Function">concat</a> <a id="2757" class="Symbol">(</a><a id="2758" href="Codata.Sized.Stream.html#2758" class="Bound">xs</a> <a id="2761" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="2763" href="Codata.Sized.Stream.html#2763" class="Bound">xss</a><a id="2766" class="Symbol">)</a> <a id="2768" class="Symbol">=</a> <a id="2770" href="Codata.Sized.Stream.html#2758" class="Bound">xs</a> <a id="2773" href="Codata.Sized.Stream.html#2529" class="Function Operator">⁺++</a> <a id="2777" class="Symbol">λ</a> <a id="2779" class="Keyword">where</a> <a id="2785" class="Symbol">.</a><a id="2786" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="2792" class="Symbol">→</a> <a id="2794" href="Codata.Sized.Stream.html#2709" class="Function">concat</a> <a id="2801" class="Symbol">(</a><a id="2802" href="Codata.Sized.Stream.html#2763" class="Bound">xss</a> <a id="2806" class="Symbol">.</a><a id="2807" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="2812" class="Symbol">)</a>

<a id="2815" class="Comment">------------------------------------------------------------------------</a>
<a id="2888" class="Comment">-- Chunking</a>

<a id="splitAt"></a><a id="2901" href="Codata.Sized.Stream.html#2901" class="Function">splitAt</a> <a id="2909" class="Symbol">:</a> <a id="2911" class="Symbol">(</a><a id="2912" href="Codata.Sized.Stream.html#2912" class="Bound">n</a> <a id="2914" class="Symbol">:</a> <a id="2916" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="2917" class="Symbol">)</a> <a id="2919" class="Symbol">→</a> <a id="2921" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2928" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="2930" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a> <a id="2932" class="Symbol">→</a> <a id="2934" href="Data.Vec.Base.html#1067" class="Datatype">Vec</a> <a id="2938" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="2940" href="Codata.Sized.Stream.html#2912" class="Bound">n</a> <a id="2942" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="2944" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="2951" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="2953" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a>
<a id="2955" href="Codata.Sized.Stream.html#2901" class="Function">splitAt</a> <a id="2963" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="2971" href="Codata.Sized.Stream.html#2971" class="Bound">xs</a>       <a id="2980" class="Symbol">=</a> <a id="2982" href="Data.Vec.Base.html#1103" class="InductiveConstructor">[]</a> <a id="2985" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2987" href="Codata.Sized.Stream.html#2971" class="Bound">xs</a>
<a id="2990" href="Codata.Sized.Stream.html#2901" class="Function">splitAt</a> <a id="2998" class="Symbol">(</a><a id="2999" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3003" href="Codata.Sized.Stream.html#3003" class="Bound">n</a><a id="3004" class="Symbol">)</a> <a id="3006" class="Symbol">(</a><a id="3007" href="Codata.Sized.Stream.html#3007" class="Bound">x</a> <a id="3009" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="3011" href="Codata.Sized.Stream.html#3011" class="Bound">xs</a><a id="3013" class="Symbol">)</a> <a id="3015" class="Symbol">=</a> <a id="3017" href="Data.Product.Base.html#1803" class="Function">P.map₁</a> <a id="3024" class="Symbol">(</a><a id="3025" href="Codata.Sized.Stream.html#3007" class="Bound">x</a> <a id="3027" href="Data.Vec.Base.html#1122" class="InductiveConstructor Operator">∷_</a><a id="3029" class="Symbol">)</a> <a id="3031" class="Symbol">(</a><a id="3032" href="Codata.Sized.Stream.html#2901" class="Function">splitAt</a> <a id="3040" href="Codata.Sized.Stream.html#3003" class="Bound">n</a> <a id="3042" class="Symbol">(</a><a id="3043" href="Codata.Sized.Stream.html#3011" class="Bound">xs</a> <a id="3046" class="Symbol">.</a><a id="3047" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="3052" class="Symbol">))</a>

<a id="take"></a><a id="3056" href="Codata.Sized.Stream.html#3056" class="Function">take</a> <a id="3061" class="Symbol">:</a> <a id="3063" class="Symbol">(</a><a id="3064" href="Codata.Sized.Stream.html#3064" class="Bound">n</a> <a id="3066" class="Symbol">:</a> <a id="3068" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3069" class="Symbol">)</a> <a id="3071" class="Symbol">→</a> <a id="3073" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="3080" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="3082" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a> <a id="3084" class="Symbol">→</a> <a id="3086" href="Data.Vec.Base.html#1067" class="Datatype">Vec</a> <a id="3090" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="3092" href="Codata.Sized.Stream.html#3064" class="Bound">n</a>
<a id="3094" href="Codata.Sized.Stream.html#3056" class="Function">take</a> <a id="3099" href="Codata.Sized.Stream.html#3099" class="Bound">n</a> <a id="3101" href="Codata.Sized.Stream.html#3101" class="Bound">xs</a> <a id="3104" class="Symbol">=</a> <a id="3106" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="3112" class="Symbol">(</a><a id="3113" href="Codata.Sized.Stream.html#2901" class="Function">splitAt</a> <a id="3121" href="Codata.Sized.Stream.html#3099" class="Bound">n</a> <a id="3123" href="Codata.Sized.Stream.html#3101" class="Bound">xs</a><a id="3125" class="Symbol">)</a>

<a id="drop"></a><a id="3128" href="Codata.Sized.Stream.html#3128" class="Function">drop</a> <a id="3133" class="Symbol">:</a> <a id="3135" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3137" class="Symbol">→</a> <a id="3139" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="3146" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="3148" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a> <a id="3150" class="Symbol">→</a> <a id="3152" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="3159" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="3161" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a>
<a id="3163" href="Codata.Sized.Stream.html#3128" class="Function">drop</a> <a id="3168" href="Codata.Sized.Stream.html#3168" class="Bound">n</a> <a id="3170" href="Codata.Sized.Stream.html#3170" class="Bound">xs</a> <a id="3173" class="Symbol">=</a> <a id="3175" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="3181" class="Symbol">(</a><a id="3182" href="Codata.Sized.Stream.html#2901" class="Function">splitAt</a> <a id="3190" href="Codata.Sized.Stream.html#3168" class="Bound">n</a> <a id="3192" href="Codata.Sized.Stream.html#3170" class="Bound">xs</a><a id="3194" class="Symbol">)</a>

<a id="chunksOf"></a><a id="3197" href="Codata.Sized.Stream.html#3197" class="Function">chunksOf</a> <a id="3206" class="Symbol">:</a> <a id="3208" class="Symbol">(</a><a id="3209" href="Codata.Sized.Stream.html#3209" class="Bound">n</a> <a id="3211" class="Symbol">:</a> <a id="3213" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3214" class="Symbol">)</a> <a id="3216" class="Symbol">→</a> <a id="3218" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="3225" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="3227" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a> <a id="3229" class="Symbol">→</a> <a id="3231" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="3238" class="Symbol">(</a><a id="3239" href="Data.Vec.Base.html#1067" class="Datatype">Vec</a> <a id="3243" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="3245" href="Codata.Sized.Stream.html#3209" class="Bound">n</a><a id="3246" class="Symbol">)</a> <a id="3248" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a>
<a id="3250" href="Codata.Sized.Stream.html#3197" class="Function">chunksOf</a> <a id="3259" href="Codata.Sized.Stream.html#3259" class="Bound">n</a> <a id="3261" class="Symbol">=</a> <a id="3263" href="Codata.Sized.Stream.html#3305" class="Function">chunksOfAcc</a> <a id="3275" href="Codata.Sized.Stream.html#3259" class="Bound">n</a> <a id="3277" href="Function.Base.html#695" class="Function">id</a> <a id="3280" class="Keyword">module</a> <a id="ChunksOf"></a><a id="3287" href="Codata.Sized.Stream.html#3287" class="Module">ChunksOf</a> <a id="3296" class="Keyword">where</a>

  <a id="ChunksOf.chunksOfAcc"></a><a id="3305" href="Codata.Sized.Stream.html#3305" class="Function">chunksOfAcc</a> <a id="3317" class="Symbol">:</a> <a id="3319" class="Symbol">∀</a> <a id="3321" href="Codata.Sized.Stream.html#3321" class="Bound">k</a> <a id="3323" class="Symbol">(</a><a id="3324" href="Codata.Sized.Stream.html#3324" class="Bound">acc</a> <a id="3328" class="Symbol">:</a> <a id="3330" href="Data.Vec.Base.html#1067" class="Datatype">Vec</a> <a id="3334" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="3336" href="Codata.Sized.Stream.html#3321" class="Bound">k</a> <a id="3338" class="Symbol">→</a> <a id="3340" href="Data.Vec.Base.html#1067" class="Datatype">Vec</a> <a id="3344" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="3346" href="Codata.Sized.Stream.html#3259" class="Bound">n</a><a id="3347" class="Symbol">)</a> <a id="3349" class="Symbol">→</a>
                <a id="3367" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="3374" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="3376" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a> <a id="3378" class="Symbol">→</a> <a id="3380" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="3387" class="Symbol">(</a><a id="3388" href="Data.Vec.Base.html#1067" class="Datatype">Vec</a> <a id="3392" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="3394" href="Codata.Sized.Stream.html#3259" class="Bound">n</a><a id="3395" class="Symbol">)</a> <a id="3397" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>
  <a id="3401" href="Codata.Sized.Stream.html#3305" class="Function">chunksOfAcc</a> <a id="3413" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="3421" href="Codata.Sized.Stream.html#3421" class="Bound">acc</a> <a id="3425" href="Codata.Sized.Stream.html#3425" class="Bound">xs</a>       <a id="3434" class="Symbol">=</a> <a id="3436" href="Codata.Sized.Stream.html#3421" class="Bound">acc</a> <a id="3440" href="Data.Vec.Base.html#1103" class="InductiveConstructor">[]</a> <a id="3443" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="3445" class="Symbol">λ</a> <a id="3447" class="Keyword">where</a> <a id="3453" class="Symbol">.</a><a id="3454" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="3460" class="Symbol">→</a> <a id="3462" href="Codata.Sized.Stream.html#3305" class="Function">chunksOfAcc</a> <a id="3474" href="Codata.Sized.Stream.html#3259" class="Bound">n</a> <a id="3476" href="Function.Base.html#695" class="Function">id</a> <a id="3479" href="Codata.Sized.Stream.html#3425" class="Bound">xs</a>
  <a id="3484" href="Codata.Sized.Stream.html#3305" class="Function">chunksOfAcc</a> <a id="3496" class="Symbol">(</a><a id="3497" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3501" href="Codata.Sized.Stream.html#3501" class="Bound">k</a><a id="3502" class="Symbol">)</a> <a id="3504" href="Codata.Sized.Stream.html#3504" class="Bound">acc</a> <a id="3508" class="Symbol">(</a><a id="3509" href="Codata.Sized.Stream.html#3509" class="Bound">x</a> <a id="3511" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="3513" href="Codata.Sized.Stream.html#3513" class="Bound">xs</a><a id="3515" class="Symbol">)</a> <a id="3517" class="Symbol">=</a> <a id="3519" href="Codata.Sized.Stream.html#3305" class="Function">chunksOfAcc</a> <a id="3531" href="Codata.Sized.Stream.html#3501" class="Bound">k</a> <a id="3533" class="Symbol">(</a><a id="3534" href="Codata.Sized.Stream.html#3504" class="Bound">acc</a> <a id="3538" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="3540" class="Symbol">(</a><a id="3541" href="Codata.Sized.Stream.html#3509" class="Bound">x</a> <a id="3543" href="Data.Vec.Base.html#1122" class="InductiveConstructor Operator">∷_</a><a id="3545" class="Symbol">))</a> <a id="3548" class="Symbol">(</a><a id="3549" href="Codata.Sized.Stream.html#3513" class="Bound">xs</a> <a id="3552" class="Symbol">.</a><a id="3553" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="3558" class="Symbol">)</a>

<a id="3561" class="Comment">------------------------------------------------------------------------</a>
<a id="3634" class="Comment">-- Interleaving streams</a>

<a id="3659" class="Comment">-- The most basic of interleaving strategies is to take two streams and</a>
<a id="3731" class="Comment">-- alternate between emitting values from one and the other.</a>
<a id="interleave"></a><a id="3792" href="Codata.Sized.Stream.html#3792" class="Function">interleave</a> <a id="3803" class="Symbol">:</a> <a id="3805" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="3812" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="3814" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a> <a id="3816" class="Symbol">→</a> <a id="3818" href="Codata.Sized.Thunk.html#473" class="Record">Thunk</a> <a id="3824" class="Symbol">(</a><a id="3825" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="3832" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a><a id="3833" class="Symbol">)</a> <a id="3835" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a> <a id="3837" class="Symbol">→</a> <a id="3839" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="3846" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="3848" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>
<a id="3850" href="Codata.Sized.Stream.html#3792" class="Function">interleave</a> <a id="3861" class="Symbol">(</a><a id="3862" href="Codata.Sized.Stream.html#3862" class="Bound">x</a> <a id="3864" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="3866" href="Codata.Sized.Stream.html#3866" class="Bound">xs</a><a id="3868" class="Symbol">)</a> <a id="3870" href="Codata.Sized.Stream.html#3870" class="Bound">ys</a> <a id="3873" class="Symbol">=</a> <a id="3875" href="Codata.Sized.Stream.html#3862" class="Bound">x</a> <a id="3877" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="3879" class="Symbol">λ</a> <a id="3881" class="Keyword">where</a> <a id="3887" class="Symbol">.</a><a id="3888" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="3894" class="Symbol">→</a> <a id="3896" href="Codata.Sized.Stream.html#3792" class="Function">interleave</a> <a id="3907" class="Symbol">(</a><a id="3908" href="Codata.Sized.Stream.html#3870" class="Bound">ys</a> <a id="3911" class="Symbol">.</a><a id="3912" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="3917" class="Symbol">)</a> <a id="3919" href="Codata.Sized.Stream.html#3866" class="Bound">xs</a>

<a id="3923" class="Comment">-- This interleaving strategy can be generalised to an arbitrary non-empty</a>
<a id="3998" class="Comment">-- list of streams</a>
<a id="interleave⁺"></a><a id="4017" href="Codata.Sized.Stream.html#4017" class="Function">interleave⁺</a> <a id="4029" class="Symbol">:</a> <a id="4031" href="Data.List.NonEmpty.Base.html#1267" class="Record">List⁺</a> <a id="4037" class="Symbol">(</a><a id="4038" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="4045" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="4047" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a><a id="4048" class="Symbol">)</a> <a id="4050" class="Symbol">→</a> <a id="4052" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="4059" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="4061" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>
<a id="4063" href="Codata.Sized.Stream.html#4017" class="Function">interleave⁺</a> <a id="4075" href="Codata.Sized.Stream.html#4075" class="Bound">xss</a> <a id="4079" class="Symbol">=</a>
  <a id="4083" href="Data.List.NonEmpty.Base.html#2314" class="Function">List⁺.map</a> <a id="4093" href="Codata.Sized.Stream.html#1626" class="Function">head</a> <a id="4098" href="Codata.Sized.Stream.html#4075" class="Bound">xss</a>
  <a id="4104" href="Codata.Sized.Stream.html#2529" class="Function Operator">⁺++</a> <a id="4108" class="Symbol">λ</a> <a id="4110" class="Keyword">where</a> <a id="4116" class="Symbol">.</a><a id="4117" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="4123" class="Symbol">→</a> <a id="4125" href="Codata.Sized.Stream.html#4017" class="Function">interleave⁺</a> <a id="4137" class="Symbol">(</a><a id="4138" href="Data.List.NonEmpty.Base.html#2314" class="Function">List⁺.map</a> <a id="4148" href="Codata.Sized.Stream.html#1667" class="Function">tail</a> <a id="4153" href="Codata.Sized.Stream.html#4075" class="Bound">xss</a><a id="4156" class="Symbol">)</a>

<a id="4159" class="Comment">-- To generalise this further to a stream of streams however we have to</a>
<a id="4231" class="Comment">-- adopt a different strategy: if we were to start with *all* the heads</a>
<a id="4303" class="Comment">-- then we would never reach any of the second elements in the streams.</a>

<a id="4376" class="Comment">-- Here we use Cantor&#39;s zig zag function to explore the plane defined by</a>
<a id="4449" class="Comment">-- the function `(i,j) ↦ lookup (lookup xss i) j‵ mapping coordinates to</a>
<a id="4522" class="Comment">-- values in a way that guarantees that any point is reached in a finite</a>
<a id="4595" class="Comment">-- amount of time. The definition is taken from the paper:</a>
<a id="4654" class="Comment">-- Applications of Applicative Proof Search by Liam O&#39;Connor</a>

<a id="cantor"></a><a id="4716" href="Codata.Sized.Stream.html#4716" class="Function">cantor</a> <a id="4723" class="Symbol">:</a> <a id="4725" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="4732" class="Symbol">(</a><a id="4733" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="4740" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="4742" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a><a id="4743" class="Symbol">)</a> <a id="4745" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a> <a id="4747" class="Symbol">→</a> <a id="4749" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="4756" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="4758" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a>
<a id="4760" href="Codata.Sized.Stream.html#4716" class="Function">cantor</a> <a id="4767" class="Symbol">(</a><a id="4768" href="Codata.Sized.Stream.html#4768" class="Bound">l</a> <a id="4770" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="4772" href="Codata.Sized.Stream.html#4772" class="Bound">ls</a><a id="4774" class="Symbol">)</a> <a id="4776" class="Symbol">=</a> <a id="4778" href="Codata.Sized.Stream.html#4826" class="Function">zig</a> <a id="4782" class="Symbol">(</a><a id="4783" href="Codata.Sized.Stream.html#4768" class="Bound">l</a> <a id="4785" href="Data.List.NonEmpty.Base.html#1313" class="InductiveConstructor Operator">∷</a> <a id="4787" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4789" class="Symbol">)</a> <a id="4791" class="Symbol">(</a><a id="4792" href="Codata.Sized.Stream.html#4772" class="Bound">ls</a> <a id="4795" class="Symbol">.</a><a id="4796" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="4801" class="Symbol">)</a> <a id="4803" class="Keyword">module</a> <a id="Cantor"></a><a id="4810" href="Codata.Sized.Stream.html#4810" class="Module">Cantor</a> <a id="4817" class="Keyword">where</a>

  <a id="Cantor.zig"></a><a id="4826" href="Codata.Sized.Stream.html#4826" class="Function">zig</a> <a id="4830" class="Symbol">:</a> <a id="4832" href="Data.List.NonEmpty.Base.html#1267" class="Record">List⁺</a> <a id="4838" class="Symbol">(</a><a id="4839" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="4846" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="4848" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a><a id="4849" class="Symbol">)</a>           <a id="4861" class="Symbol">→</a> <a id="4863" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="4870" class="Symbol">(</a><a id="4871" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="4878" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="4880" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a><a id="4881" class="Symbol">)</a> <a id="4883" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a> <a id="4885" class="Symbol">→</a> <a id="4887" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="4894" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="4896" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>
  <a id="Cantor.zag"></a><a id="4900" href="Codata.Sized.Stream.html#4900" class="Function">zag</a> <a id="4904" class="Symbol">:</a> <a id="4906" href="Data.List.NonEmpty.Base.html#1267" class="Record">List⁺</a> <a id="4912" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="4914" class="Symbol">→</a> <a id="4916" href="Data.List.NonEmpty.Base.html#1267" class="Record">List⁺</a> <a id="4922" class="Symbol">(</a><a id="4923" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="4930" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="4932" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a><a id="4933" class="Symbol">)</a> <a id="4935" class="Symbol">→</a> <a id="4937" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="4944" class="Symbol">(</a><a id="4945" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="4952" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="4954" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a><a id="4955" class="Symbol">)</a> <a id="4957" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a> <a id="4959" class="Symbol">→</a> <a id="4961" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="4968" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="4970" href="Codata.Sized.Stream.html#815" class="Generalizable">i</a>

  <a id="4975" href="Codata.Sized.Stream.html#4826" class="Function">zig</a> <a id="4979" href="Codata.Sized.Stream.html#4979" class="Bound">xss</a> <a id="4983" class="Symbol">=</a> <a id="4985" href="Codata.Sized.Stream.html#4900" class="Function">zag</a> <a id="4989" class="Symbol">(</a><a id="4990" href="Data.List.NonEmpty.Base.html#2314" class="Function">List⁺.map</a> <a id="5000" href="Codata.Sized.Stream.html#1626" class="Function">head</a> <a id="5005" href="Codata.Sized.Stream.html#4979" class="Bound">xss</a><a id="5008" class="Symbol">)</a> <a id="5010" class="Symbol">(</a><a id="5011" href="Data.List.NonEmpty.Base.html#2314" class="Function">List⁺.map</a> <a id="5021" href="Codata.Sized.Stream.html#1667" class="Function">tail</a> <a id="5026" href="Codata.Sized.Stream.html#4979" class="Bound">xss</a><a id="5029" class="Symbol">)</a>

  <a id="5034" href="Codata.Sized.Stream.html#4900" class="Function">zag</a> <a id="5038" class="Symbol">(</a><a id="5039" href="Codata.Sized.Stream.html#5039" class="Bound">x</a> <a id="5041" href="Data.List.NonEmpty.Base.html#1313" class="InductiveConstructor Operator">∷</a> <a id="5043" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="5045" class="Symbol">)</a> <a id="5047" href="Codata.Sized.Stream.html#5047" class="Bound">zs</a> <a id="5050" class="Symbol">(</a><a id="5051" href="Codata.Sized.Stream.html#5051" class="Bound">l</a> <a id="5053" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="5055" href="Codata.Sized.Stream.html#5055" class="Bound">ls</a><a id="5057" class="Symbol">)</a> <a id="5059" class="Symbol">=</a> <a id="5061" href="Codata.Sized.Stream.html#5039" class="Bound">x</a> <a id="5063" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="5065" class="Symbol">λ</a> <a id="5067" class="Keyword">where</a> <a id="5073" class="Symbol">.</a><a id="5074" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="5080" class="Symbol">→</a> <a id="5082" href="Codata.Sized.Stream.html#4826" class="Function">zig</a> <a id="5086" class="Symbol">(</a><a id="5087" href="Codata.Sized.Stream.html#5051" class="Bound">l</a> <a id="5089" href="Data.List.NonEmpty.Base.html#1578" class="Function Operator">∷⁺</a> <a id="5092" href="Codata.Sized.Stream.html#5047" class="Bound">zs</a><a id="5094" class="Symbol">)</a> <a id="5096" class="Symbol">(</a><a id="5097" href="Codata.Sized.Stream.html#5055" class="Bound">ls</a> <a id="5100" class="Symbol">.</a><a id="5101" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="5106" class="Symbol">)</a>
  <a id="5110" href="Codata.Sized.Stream.html#4900" class="Function">zag</a> <a id="5114" class="Symbol">(</a><a id="5115" href="Codata.Sized.Stream.html#5115" class="Bound">x</a> <a id="5117" href="Data.List.NonEmpty.Base.html#1313" class="InductiveConstructor Operator">∷</a> <a id="5119" class="Symbol">(</a><a id="5120" href="Codata.Sized.Stream.html#5120" class="Bound">y</a> <a id="5122" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5124" href="Codata.Sized.Stream.html#5124" class="Bound">xs</a><a id="5126" class="Symbol">))</a> <a id="5129" href="Codata.Sized.Stream.html#5129" class="Bound">zs</a> <a id="5132" href="Codata.Sized.Stream.html#5132" class="Bound">ls</a> <a id="5135" class="Symbol">=</a> <a id="5137" href="Codata.Sized.Stream.html#5115" class="Bound">x</a> <a id="5139" href="Codata.Sized.Stream.html#958" class="InductiveConstructor Operator">∷</a> <a id="5141" class="Symbol">λ</a> <a id="5143" class="Keyword">where</a> <a id="5149" class="Symbol">.</a><a id="5150" href="Codata.Sized.Thunk.html#547" class="Field">force</a> <a id="5156" class="Symbol">→</a> <a id="5158" href="Codata.Sized.Stream.html#4900" class="Function">zag</a> <a id="5162" class="Symbol">(</a><a id="5163" href="Codata.Sized.Stream.html#5120" class="Bound">y</a> <a id="5165" href="Data.List.NonEmpty.Base.html#1313" class="InductiveConstructor Operator">∷</a> <a id="5167" href="Codata.Sized.Stream.html#5124" class="Bound">xs</a><a id="5169" class="Symbol">)</a> <a id="5171" href="Codata.Sized.Stream.html#5129" class="Bound">zs</a> <a id="5174" href="Codata.Sized.Stream.html#5132" class="Bound">ls</a>

<a id="5178" class="Comment">-- We can use the Cantor zig zag function to define a form of `bind&#39; that</a>
<a id="5252" class="Comment">-- reaches any point of the plane in a finite amount of time.</a>
<a id="plane"></a><a id="5314" href="Codata.Sized.Stream.html#5314" class="Function">plane</a> <a id="5320" class="Symbol">:</a> <a id="5322" class="Symbol">{</a><a id="5323" href="Codata.Sized.Stream.html#5323" class="Bound">B</a> <a id="5325" class="Symbol">:</a> <a id="5327" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="5329" class="Symbol">→</a> <a id="5331" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="5335" href="Codata.Sized.Stream.html#757" class="Generalizable">b</a><a id="5336" class="Symbol">}</a> <a id="5338" class="Symbol">→</a> <a id="5340" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="5347" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="5349" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a> <a id="5351" class="Symbol">→</a> <a id="5353" class="Symbol">((</a><a id="5355" href="Codata.Sized.Stream.html#5355" class="Bound">a</a> <a id="5357" class="Symbol">:</a> <a id="5359" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a><a id="5360" class="Symbol">)</a> <a id="5362" class="Symbol">→</a> <a id="5364" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="5371" class="Symbol">(</a><a id="5372" href="Codata.Sized.Stream.html#5323" class="Bound">B</a> <a id="5374" href="Codata.Sized.Stream.html#5355" class="Bound">a</a><a id="5375" class="Symbol">)</a> <a id="5377" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a><a id="5378" class="Symbol">)</a> <a id="5380" class="Symbol">→</a>
        <a id="5390" href="Codata.Sized.Stream.html#912" class="Datatype">Stream</a> <a id="5397" class="Symbol">(</a><a id="5398" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="5400" href="Codata.Sized.Stream.html#773" class="Generalizable">A</a> <a id="5402" href="Codata.Sized.Stream.html#5323" class="Bound">B</a><a id="5403" class="Symbol">)</a> <a id="5405" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a>
<a id="5407" href="Codata.Sized.Stream.html#5314" class="Function">plane</a> <a id="5413" href="Codata.Sized.Stream.html#5413" class="Bound">as</a> <a id="5416" href="Codata.Sized.Stream.html#5416" class="Bound">bs</a> <a id="5419" class="Symbol">=</a> <a id="5421" href="Codata.Sized.Stream.html#4716" class="Function">cantor</a> <a id="5428" class="Symbol">(</a><a id="5429" href="Codata.Sized.Stream.html#1935" class="Function">map</a> <a id="5433" class="Symbol">(λ</a> <a id="5436" href="Codata.Sized.Stream.html#5436" class="Bound">a</a> <a id="5438" class="Symbol">→</a> <a id="5440" href="Codata.Sized.Stream.html#1935" class="Function">map</a> <a id="5444" class="Symbol">(</a><a id="5445" href="Codata.Sized.Stream.html#5436" class="Bound">a</a> <a id="5447" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,_</a><a id="5449" class="Symbol">)</a> <a id="5451" class="Symbol">(</a><a id="5452" href="Codata.Sized.Stream.html#5416" class="Bound">bs</a> <a id="5455" href="Codata.Sized.Stream.html#5436" class="Bound">a</a><a id="5456" class="Symbol">))</a> <a id="5459" href="Codata.Sized.Stream.html#5413" class="Bound">as</a><a id="5461" class="Symbol">)</a>

<a id="5464" class="Comment">-- Here is the beginning of the path we are following:</a>
<a id="5519" href="Codata.Sized.Stream.html#5519" class="Function">_</a> <a id="5521" class="Symbol">:</a> <a id="5523" href="Codata.Sized.Stream.html#3056" class="Function">take</a> <a id="5528" class="Number">21</a> <a id="5531" class="Symbol">(</a><a id="5532" href="Codata.Sized.Stream.html#5314" class="Function">plane</a> <a id="5538" href="Codata.Sized.Stream.html#1487" class="Function">nats</a> <a id="5543" class="Symbol">(λ</a> <a id="5546" href="Codata.Sized.Stream.html#5546" class="Bound">_</a> <a id="5548" class="Symbol">→</a> <a id="5550" href="Codata.Sized.Stream.html#1487" class="Function">nats</a><a id="5554" class="Symbol">))</a>
  <a id="5559" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5561" class="Symbol">(</a><a id="5562" class="Number">0</a> <a id="5564" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5566" class="Number">0</a><a id="5567" class="Symbol">)</a>
  <a id="5571" class="InductiveConstructor Operator">∷</a> <a id="5573" class="Symbol">(</a><a id="5574" class="Number">1</a> <a id="5576" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5578" class="Number">0</a><a id="5579" class="Symbol">)</a> <a id="5581" class="InductiveConstructor Operator">∷</a> <a id="5583" class="Symbol">(</a><a id="5584" class="Number">0</a> <a id="5586" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5588" class="Number">1</a><a id="5589" class="Symbol">)</a>
  <a id="5593" class="InductiveConstructor Operator">∷</a> <a id="5595" class="Symbol">(</a><a id="5596" class="Number">2</a> <a id="5598" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5600" class="Number">0</a><a id="5601" class="Symbol">)</a> <a id="5603" class="InductiveConstructor Operator">∷</a> <a id="5605" class="Symbol">(</a><a id="5606" class="Number">1</a> <a id="5608" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5610" class="Number">1</a><a id="5611" class="Symbol">)</a> <a id="5613" class="InductiveConstructor Operator">∷</a> <a id="5615" class="Symbol">(</a><a id="5616" class="Number">0</a> <a id="5618" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5620" class="Number">2</a><a id="5621" class="Symbol">)</a>
  <a id="5625" class="InductiveConstructor Operator">∷</a> <a id="5627" class="Symbol">(</a><a id="5628" class="Number">3</a> <a id="5630" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5632" class="Number">0</a><a id="5633" class="Symbol">)</a> <a id="5635" class="InductiveConstructor Operator">∷</a> <a id="5637" class="Symbol">(</a><a id="5638" class="Number">2</a> <a id="5640" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5642" class="Number">1</a><a id="5643" class="Symbol">)</a> <a id="5645" class="InductiveConstructor Operator">∷</a> <a id="5647" class="Symbol">(</a><a id="5648" class="Number">1</a> <a id="5650" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5652" class="Number">2</a><a id="5653" class="Symbol">)</a> <a id="5655" class="InductiveConstructor Operator">∷</a> <a id="5657" class="Symbol">(</a><a id="5658" class="Number">0</a> <a id="5660" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5662" class="Number">3</a><a id="5663" class="Symbol">)</a>
  <a id="5667" class="InductiveConstructor Operator">∷</a> <a id="5669" class="Symbol">(</a><a id="5670" class="Number">4</a> <a id="5672" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5674" class="Number">0</a><a id="5675" class="Symbol">)</a> <a id="5677" class="InductiveConstructor Operator">∷</a> <a id="5679" class="Symbol">(</a><a id="5680" class="Number">3</a> <a id="5682" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5684" class="Number">1</a><a id="5685" class="Symbol">)</a> <a id="5687" class="InductiveConstructor Operator">∷</a> <a id="5689" class="Symbol">(</a><a id="5690" class="Number">2</a> <a id="5692" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5694" class="Number">2</a><a id="5695" class="Symbol">)</a> <a id="5697" class="InductiveConstructor Operator">∷</a> <a id="5699" class="Symbol">(</a><a id="5700" class="Number">1</a> <a id="5702" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5704" class="Number">3</a><a id="5705" class="Symbol">)</a> <a id="5707" class="InductiveConstructor Operator">∷</a> <a id="5709" class="Symbol">(</a><a id="5710" class="Number">0</a> <a id="5712" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5714" class="Number">4</a><a id="5715" class="Symbol">)</a>
  <a id="5719" class="InductiveConstructor Operator">∷</a> <a id="5721" class="Symbol">(</a><a id="5722" class="Number">5</a> <a id="5724" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5726" class="Number">0</a><a id="5727" class="Symbol">)</a> <a id="5729" class="InductiveConstructor Operator">∷</a> <a id="5731" class="Symbol">(</a><a id="5732" class="Number">4</a> <a id="5734" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5736" class="Number">1</a><a id="5737" class="Symbol">)</a> <a id="5739" class="InductiveConstructor Operator">∷</a> <a id="5741" class="Symbol">(</a><a id="5742" class="Number">3</a> <a id="5744" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5746" class="Number">2</a><a id="5747" class="Symbol">)</a> <a id="5749" class="InductiveConstructor Operator">∷</a> <a id="5751" class="Symbol">(</a><a id="5752" class="Number">2</a> <a id="5754" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5756" class="Number">3</a><a id="5757" class="Symbol">)</a> <a id="5759" class="InductiveConstructor Operator">∷</a> <a id="5761" class="Symbol">(</a><a id="5762" class="Number">1</a> <a id="5764" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5766" class="Number">4</a><a id="5767" class="Symbol">)</a> <a id="5769" class="InductiveConstructor Operator">∷</a> <a id="5771" class="Symbol">(</a><a id="5772" class="Number">0</a> <a id="5774" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5776" class="Number">5</a><a id="5777" class="Symbol">)</a>
  <a id="5781" class="InductiveConstructor Operator">∷</a> <a id="5783" class="InductiveConstructor">[]</a>
<a id="5786" class="Symbol">_</a> <a id="5788" class="Symbol">=</a> <a id="5790" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre></body></html>