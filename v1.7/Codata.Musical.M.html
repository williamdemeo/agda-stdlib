<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Musical.M</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- M-types (the dual of W-types)</a>
<a id="139" class="Comment">------------------------------------------------------------------------</a>

<a id="213" class="Symbol">{-#</a> <a id="217" class="Keyword">OPTIONS</a> <a id="225" class="Pragma">--safe</a> <a id="232" class="Pragma">--without-K</a> <a id="244" class="Pragma">--guardedness</a> <a id="258" class="Symbol">#-}</a>

<a id="263" class="Keyword">module</a> <a id="270" href="Codata.Musical.M.html" class="Module">Codata.Musical.M</a> <a id="287" class="Keyword">where</a>

<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Codata.Musical.Notation.html" class="Module">Codata.Musical.Notation</a>
<a id="330" class="Keyword">open</a> <a id="335" class="Keyword">import</a> <a id="342" href="Level.html" class="Module">Level</a>
<a id="348" class="Keyword">open</a> <a id="353" class="Keyword">import</a> <a id="360" href="Data.Product.html" class="Module">Data.Product</a> <a id="373" class="Keyword">hiding</a> <a id="380" class="Symbol">(</a><a id="381" href="Data.Product.html#2486" class="Function">map</a><a id="384" class="Symbol">)</a>
<a id="386" class="Keyword">open</a> <a id="391" class="Keyword">import</a> <a id="398" href="Data.Container.Core.html" class="Module">Data.Container.Core</a> <a id="418" class="Symbol">as</a> <a id="421" class="Module">C</a> <a id="423" class="Keyword">hiding</a> <a id="430" class="Symbol">(</a><a id="431" href="Data.Container.Core.html#880" class="Function">map</a><a id="434" class="Symbol">)</a>

<a id="437" class="Comment">-- The family of M-types.</a>

<a id="464" class="Keyword">data</a> <a id="M"></a><a id="469" href="Codata.Musical.M.html#469" class="Datatype">M</a> <a id="471" class="Symbol">{</a><a id="472" href="Codata.Musical.M.html#472" class="Bound">s</a> <a id="474" href="Codata.Musical.M.html#474" class="Bound">p</a><a id="475" class="Symbol">}</a> <a id="477" class="Symbol">(</a><a id="478" href="Codata.Musical.M.html#478" class="Bound">C</a> <a id="480" class="Symbol">:</a> <a id="482" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="492" href="Codata.Musical.M.html#472" class="Bound">s</a> <a id="494" href="Codata.Musical.M.html#474" class="Bound">p</a><a id="495" class="Symbol">)</a> <a id="497" class="Symbol">:</a> <a id="499" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="503" class="Symbol">(</a><a id="504" href="Codata.Musical.M.html#472" class="Bound">s</a> <a id="506" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="508" href="Codata.Musical.M.html#474" class="Bound">p</a><a id="509" class="Symbol">)</a> <a id="511" class="Keyword">where</a>
  <a id="M.inf"></a><a id="519" href="Codata.Musical.M.html#519" class="InductiveConstructor">inf</a> <a id="523" class="Symbol">:</a> <a id="525" href="Data.Container.Core.html#755" class="Function Operator">⟦</a> <a id="527" href="Codata.Musical.M.html#478" class="Bound">C</a> <a id="529" href="Data.Container.Core.html#755" class="Function Operator">⟧</a> <a id="531" class="Symbol">(</a><a id="532" href="Agda.Builtin.Coinduction.html#185" class="Record">∞</a> <a id="534" class="Symbol">(</a><a id="535" href="Codata.Musical.M.html#469" class="Datatype">M</a> <a id="537" href="Codata.Musical.M.html#478" class="Bound">C</a><a id="538" class="Symbol">))</a> <a id="541" class="Symbol">→</a> <a id="543" href="Codata.Musical.M.html#469" class="Datatype">M</a> <a id="545" href="Codata.Musical.M.html#478" class="Bound">C</a>

<a id="548" class="Comment">-- Projections.</a>

<a id="565" class="Keyword">module</a> <a id="572" href="Codata.Musical.M.html#572" class="Module">_</a> <a id="574" class="Symbol">{</a><a id="575" href="Codata.Musical.M.html#575" class="Bound">s</a> <a id="577" href="Codata.Musical.M.html#577" class="Bound">p</a><a id="578" class="Symbol">}</a> <a id="580" class="Symbol">(</a><a id="581" href="Codata.Musical.M.html#581" class="Bound">C</a> <a id="583" class="Symbol">:</a> <a id="585" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="595" href="Codata.Musical.M.html#575" class="Bound">s</a> <a id="597" href="Codata.Musical.M.html#577" class="Bound">p</a><a id="598" class="Symbol">)</a> <a id="600" class="Keyword">where</a>

  <a id="609" href="Codata.Musical.M.html#609" class="Function">head</a> <a id="614" class="Symbol">:</a> <a id="616" href="Codata.Musical.M.html#469" class="Datatype">M</a> <a id="618" href="Codata.Musical.M.html#581" class="Bound">C</a> <a id="620" class="Symbol">→</a> <a id="622" href="Data.Container.Core.html#638" class="Field">Shape</a> <a id="628" href="Codata.Musical.M.html#581" class="Bound">C</a>
  <a id="632" href="Codata.Musical.M.html#609" class="Function">head</a> <a id="637" class="Symbol">(</a><a id="638" href="Codata.Musical.M.html#519" class="InductiveConstructor">inf</a> <a id="642" class="Symbol">(</a><a id="643" href="Codata.Musical.M.html#643" class="Bound">x</a> <a id="645" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="647" class="Symbol">_))</a> <a id="651" class="Symbol">=</a> <a id="653" href="Codata.Musical.M.html#643" class="Bound">x</a>

  <a id="658" href="Codata.Musical.M.html#658" class="Function">tail</a> <a id="663" class="Symbol">:</a> <a id="665" class="Symbol">(</a><a id="666" href="Codata.Musical.M.html#666" class="Bound">x</a> <a id="668" class="Symbol">:</a> <a id="670" href="Codata.Musical.M.html#469" class="Datatype">M</a> <a id="672" href="Codata.Musical.M.html#581" class="Bound">C</a><a id="673" class="Symbol">)</a> <a id="675" class="Symbol">→</a> <a id="677" href="Data.Container.Core.html#659" class="Field">Position</a> <a id="686" href="Codata.Musical.M.html#581" class="Bound">C</a> <a id="688" class="Symbol">(</a><a id="689" href="Codata.Musical.M.html#609" class="Function">head</a> <a id="694" href="Codata.Musical.M.html#666" class="Bound">x</a><a id="695" class="Symbol">)</a> <a id="697" class="Symbol">→</a> <a id="699" href="Codata.Musical.M.html#469" class="Datatype">M</a> <a id="701" href="Codata.Musical.M.html#581" class="Bound">C</a>
  <a id="705" href="Codata.Musical.M.html#658" class="Function">tail</a> <a id="710" class="Symbol">(</a><a id="711" href="Codata.Musical.M.html#519" class="InductiveConstructor">inf</a> <a id="715" class="Symbol">(</a><a id="716" href="Codata.Musical.M.html#716" class="Bound">x</a> <a id="718" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="720" href="Codata.Musical.M.html#720" class="Bound">f</a><a id="721" class="Symbol">))</a> <a id="724" href="Codata.Musical.M.html#724" class="Bound">b</a> <a id="726" class="Symbol">=</a> <a id="728" href="Agda.Builtin.Coinduction.html#253" class="Field">♭</a> <a id="730" class="Symbol">(</a><a id="731" href="Codata.Musical.M.html#720" class="Bound">f</a> <a id="733" href="Codata.Musical.M.html#724" class="Bound">b</a><a id="734" class="Symbol">)</a>

<a id="737" class="Comment">-- map</a>

<a id="745" class="Keyword">module</a> <a id="752" href="Codata.Musical.M.html#752" class="Module">_</a> <a id="754" class="Symbol">{</a><a id="755" href="Codata.Musical.M.html#755" class="Bound">s₁</a> <a id="758" href="Codata.Musical.M.html#758" class="Bound">s₂</a> <a id="761" href="Codata.Musical.M.html#761" class="Bound">p₁</a> <a id="764" href="Codata.Musical.M.html#764" class="Bound">p₂</a><a id="766" class="Symbol">}</a> <a id="768" class="Symbol">{</a><a id="769" href="Codata.Musical.M.html#769" class="Bound">C₁</a> <a id="772" class="Symbol">:</a> <a id="774" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="784" href="Codata.Musical.M.html#755" class="Bound">s₁</a> <a id="787" href="Codata.Musical.M.html#761" class="Bound">p₁</a><a id="789" class="Symbol">}</a> <a id="791" class="Symbol">{</a><a id="792" href="Codata.Musical.M.html#792" class="Bound">C₂</a> <a id="795" class="Symbol">:</a> <a id="797" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="807" href="Codata.Musical.M.html#758" class="Bound">s₂</a> <a id="810" href="Codata.Musical.M.html#764" class="Bound">p₂</a><a id="812" class="Symbol">}</a>
         <a id="823" class="Symbol">(</a><a id="824" href="Codata.Musical.M.html#824" class="Bound">m</a> <a id="826" class="Symbol">:</a> <a id="828" href="Codata.Musical.M.html#769" class="Bound">C₁</a> <a id="831" href="Data.Container.Core.html#1054" class="Record Operator">⇒</a> <a id="833" href="Codata.Musical.M.html#792" class="Bound">C₂</a><a id="835" class="Symbol">)</a> <a id="837" class="Keyword">where</a>

  <a id="846" href="Codata.Musical.M.html#846" class="Function">map</a> <a id="850" class="Symbol">:</a> <a id="852" href="Codata.Musical.M.html#469" class="Datatype">M</a> <a id="854" href="Codata.Musical.M.html#769" class="Bound">C₁</a> <a id="857" class="Symbol">→</a> <a id="859" href="Codata.Musical.M.html#469" class="Datatype">M</a> <a id="861" href="Codata.Musical.M.html#792" class="Bound">C₂</a>
  <a id="866" href="Codata.Musical.M.html#846" class="Function">map</a> <a id="870" class="Symbol">(</a><a id="871" href="Codata.Musical.M.html#519" class="InductiveConstructor">inf</a> <a id="875" class="Symbol">(</a><a id="876" href="Codata.Musical.M.html#876" class="Bound">x</a> <a id="878" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="880" href="Codata.Musical.M.html#880" class="Bound">f</a><a id="881" class="Symbol">))</a> <a id="884" class="Symbol">=</a> <a id="886" href="Codata.Musical.M.html#519" class="InductiveConstructor">inf</a> <a id="890" class="Symbol">(</a><a id="891" href="Data.Container.Core.html#1191" class="Field">shape</a> <a id="897" href="Codata.Musical.M.html#824" class="Bound">m</a> <a id="899" href="Codata.Musical.M.html#876" class="Bound">x</a> <a id="901" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="903" class="Symbol">λ</a> <a id="905" href="Codata.Musical.M.html#905" class="Bound">p</a> <a id="907" class="Symbol">→</a> <a id="909" href="Agda.Builtin.Coinduction.html#218" class="CoinductiveConstructor Operator">♯</a> <a id="911" href="Codata.Musical.M.html#846" class="Function">map</a> <a id="915" class="Symbol">(</a><a id="916" href="Agda.Builtin.Coinduction.html#253" class="Field">♭</a> <a id="918" class="Symbol">(</a><a id="919" href="Codata.Musical.M.html#880" class="Bound">f</a> <a id="921" class="Symbol">(</a><a id="922" href="Data.Container.Core.html#1226" class="Field">position</a> <a id="931" href="Codata.Musical.M.html#824" class="Bound">m</a> <a id="933" href="Codata.Musical.M.html#905" class="Bound">p</a><a id="934" class="Symbol">))))</a>


<a id="941" class="Comment">-- unfold</a>

<a id="952" class="Keyword">module</a> <a id="959" href="Codata.Musical.M.html#959" class="Module">_</a> <a id="961" class="Symbol">{</a><a id="962" href="Codata.Musical.M.html#962" class="Bound">s</a> <a id="964" href="Codata.Musical.M.html#964" class="Bound">p</a> <a id="966" href="Codata.Musical.M.html#966" class="Bound">ℓ</a><a id="967" class="Symbol">}</a> <a id="969" class="Symbol">{</a><a id="970" href="Codata.Musical.M.html#970" class="Bound">C</a> <a id="972" class="Symbol">:</a> <a id="974" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="984" href="Codata.Musical.M.html#962" class="Bound">s</a> <a id="986" href="Codata.Musical.M.html#964" class="Bound">p</a><a id="987" class="Symbol">}</a> <a id="989" class="Symbol">(</a><a id="990" class="Keyword">open</a> <a id="995" href="Data.Container.Core.html#558" class="Module">Container</a> <a id="1005" href="Codata.Musical.M.html#970" class="Bound">C</a><a id="1006" class="Symbol">)</a>
         <a id="1017" class="Symbol">{</a><a id="1018" href="Codata.Musical.M.html#1018" class="Bound">S</a> <a id="1020" class="Symbol">:</a> <a id="1022" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1026" href="Codata.Musical.M.html#966" class="Bound">ℓ</a><a id="1027" class="Symbol">}</a> <a id="1029" class="Symbol">(</a><a id="1030" href="Codata.Musical.M.html#1030" class="Bound">alg</a> <a id="1034" class="Symbol">:</a> <a id="1036" href="Codata.Musical.M.html#1018" class="Bound">S</a> <a id="1038" class="Symbol">→</a> <a id="1040" href="Data.Container.Core.html#755" class="Function Operator">⟦</a> <a id="1042" href="Codata.Musical.M.html#970" class="Bound">C</a> <a id="1044" href="Data.Container.Core.html#755" class="Function Operator">⟧</a> <a id="1046" href="Codata.Musical.M.html#1018" class="Bound">S</a><a id="1047" class="Symbol">)</a> <a id="1049" class="Keyword">where</a>

  <a id="1058" href="Codata.Musical.M.html#1058" class="Function">unfold</a> <a id="1065" class="Symbol">:</a> <a id="1067" href="Codata.Musical.M.html#1018" class="Bound">S</a> <a id="1069" class="Symbol">→</a> <a id="1071" href="Codata.Musical.M.html#469" class="Datatype">M</a> <a id="1073" href="Codata.Musical.M.html#970" class="Bound">C</a>
  <a id="1077" href="Codata.Musical.M.html#1058" class="Function">unfold</a> <a id="1084" href="Codata.Musical.M.html#1084" class="Bound">seed</a> <a id="1089" class="Symbol">=</a> <a id="1091" class="Keyword">let</a> <a id="1095" class="Symbol">(</a><a id="1096" href="Codata.Musical.M.html#1096" class="Bound">x</a> <a id="1098" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1100" href="Codata.Musical.M.html#1100" class="Bound">f</a><a id="1101" class="Symbol">)</a> <a id="1103" class="Symbol">=</a> <a id="1105" href="Codata.Musical.M.html#1030" class="Bound">alg</a> <a id="1109" href="Codata.Musical.M.html#1084" class="Bound">seed</a> <a id="1114" class="Keyword">in</a>
                <a id="1133" href="Codata.Musical.M.html#519" class="InductiveConstructor">inf</a> <a id="1137" class="Symbol">(</a><a id="1138" href="Codata.Musical.M.html#1096" class="Bound">x</a> <a id="1140" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1142" class="Symbol">λ</a> <a id="1144" href="Codata.Musical.M.html#1144" class="Bound">p</a> <a id="1146" class="Symbol">→</a> <a id="1148" href="Agda.Builtin.Coinduction.html#218" class="CoinductiveConstructor Operator">♯</a> <a id="1150" href="Codata.Musical.M.html#1058" class="Function">unfold</a> <a id="1157" class="Symbol">(</a><a id="1158" href="Codata.Musical.M.html#1100" class="Bound">f</a> <a id="1160" href="Codata.Musical.M.html#1144" class="Bound">p</a><a id="1161" class="Symbol">))</a>
</pre></body></html>