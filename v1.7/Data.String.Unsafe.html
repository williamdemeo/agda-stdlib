<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.String.Unsafe</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Unsafe String operations and proofs</a>
<a id="145" class="Comment">------------------------------------------------------------------------</a>

<a id="219" class="Symbol">{-#</a> <a id="223" class="Keyword">OPTIONS</a> <a id="231" class="Pragma">--with-K</a> <a id="240" class="Symbol">#-}</a>

<a id="245" class="Keyword">module</a> <a id="252" href="Data.String.Unsafe.html" class="Module">Data.String.Unsafe</a> <a id="271" class="Keyword">where</a>

<a id="278" class="Keyword">import</a> <a id="285" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="300" class="Symbol">as</a> <a id="303" class="Module">List</a>
<a id="308" class="Keyword">import</a> <a id="315" href="Data.List.Properties.html" class="Module">Data.List.Properties</a> <a id="336" class="Symbol">as</a> <a id="339" class="Module">Listₚ</a>
<a id="345" class="Keyword">open</a> <a id="350" class="Keyword">import</a> <a id="357" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="373" class="Keyword">using</a> <a id="379" class="Symbol">(</a><a id="380" href="Data.Maybe.Base.html#1554" class="Function">maybe′</a><a id="386" class="Symbol">)</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="414" class="Keyword">using</a> <a id="420" class="Symbol">(</a><a id="421" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="425" class="Symbol">;</a> <a id="427" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="430" class="Symbol">;</a> <a id="432" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="435" class="Symbol">)</a>
<a id="437" class="Keyword">open</a> <a id="442" class="Keyword">import</a> <a id="449" href="Data.Product.html" class="Module">Data.Product</a> <a id="462" class="Keyword">using</a> <a id="468" class="Symbol">(</a><a id="469" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="474" class="Symbol">)</a>
<a id="476" class="Keyword">open</a> <a id="481" class="Keyword">import</a> <a id="488" href="Data.String.Base.html" class="Module">Data.String.Base</a>
<a id="505" class="Keyword">open</a> <a id="510" class="Keyword">import</a> <a id="517" href="Function.Base.html" class="Module">Function.Base</a> <a id="531" class="Keyword">using</a> <a id="537" class="Symbol">(</a><a id="538" href="Function.Base.html#3706" class="Function Operator">_∘′_</a><a id="542" class="Symbol">)</a>

<a id="545" class="Keyword">open</a> <a id="550" class="Keyword">import</a> <a id="557" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a><a id="594" class="Symbol">;</a> <a id="596" class="Keyword">open</a> <a id="601" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>
<a id="613" class="Keyword">open</a> <a id="618" class="Keyword">import</a> <a id="625" href="Relation.Binary.PropositionalEquality.TrustMe.html" class="Module">Relation.Binary.PropositionalEquality.TrustMe</a> <a id="671" class="Keyword">using</a> <a id="677" class="Symbol">(</a><a id="678" href="Relation.Binary.PropositionalEquality.TrustMe.html#501" class="Function">trustMe</a><a id="685" class="Symbol">)</a>

<a id="688" class="Comment">------------------------------------------------------------------------</a>
<a id="761" class="Comment">-- Properties of tail</a>

<a id="length-tail"></a><a id="784" href="Data.String.Unsafe.html#784" class="Function">length-tail</a> <a id="796" class="Symbol">:</a> <a id="798" class="Symbol">∀</a> <a id="800" href="Data.String.Unsafe.html#800" class="Bound">s</a> <a id="802" class="Symbol">→</a> <a id="804" href="Data.String.Base.html#2430" class="Function">length</a> <a id="811" href="Data.String.Unsafe.html#800" class="Bound">s</a> <a id="813" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="815" href="Data.Maybe.Base.html#1554" class="Function">maybe′</a> <a id="822" class="Symbol">(</a><a id="823" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="827" href="Function.Base.html#3706" class="Function Operator">∘′</a> <a id="830" href="Data.String.Base.html#2430" class="Function">length</a><a id="836" class="Symbol">)</a> <a id="838" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="843" class="Symbol">(</a><a id="844" href="Data.String.Base.html#2109" class="Function">tail</a> <a id="849" href="Data.String.Unsafe.html#800" class="Bound">s</a><a id="850" class="Symbol">)</a>
<a id="852" href="Data.String.Unsafe.html#784" class="Function">length-tail</a> <a id="864" href="Data.String.Unsafe.html#864" class="Bound">s</a> <a id="866" class="Symbol">=</a> <a id="868" href="Relation.Binary.PropositionalEquality.TrustMe.html#501" class="Function">trustMe</a>

<a id="877" class="Comment">------------------------------------------------------------------------</a>
<a id="950" class="Comment">-- Properties of conversion functions</a>

<a id="toList∘fromList"></a><a id="989" href="Data.String.Unsafe.html#989" class="Function">toList∘fromList</a> <a id="1005" class="Symbol">:</a> <a id="1007" class="Symbol">∀</a> <a id="1009" href="Data.String.Unsafe.html#1009" class="Bound">s</a> <a id="1011" class="Symbol">→</a> <a id="1013" href="Data.String.Base.html#1493" class="Primitive">toList</a> <a id="1020" class="Symbol">(</a><a id="1021" href="Data.String.Base.html#1526" class="Primitive">fromList</a> <a id="1030" href="Data.String.Unsafe.html#1009" class="Bound">s</a><a id="1031" class="Symbol">)</a> <a id="1033" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1035" href="Data.String.Unsafe.html#1009" class="Bound">s</a>
<a id="1037" href="Data.String.Unsafe.html#989" class="Function">toList∘fromList</a> <a id="1053" href="Data.String.Unsafe.html#1053" class="Bound">s</a> <a id="1055" class="Symbol">=</a> <a id="1057" href="Relation.Binary.PropositionalEquality.TrustMe.html#501" class="Function">trustMe</a>

<a id="fromList∘toList"></a><a id="1066" href="Data.String.Unsafe.html#1066" class="Function">fromList∘toList</a> <a id="1082" class="Symbol">:</a> <a id="1084" class="Symbol">∀</a> <a id="1086" href="Data.String.Unsafe.html#1086" class="Bound">s</a> <a id="1088" class="Symbol">→</a> <a id="1090" href="Data.String.Base.html#1526" class="Primitive">fromList</a> <a id="1099" class="Symbol">(</a><a id="1100" href="Data.String.Base.html#1493" class="Primitive">toList</a> <a id="1107" href="Data.String.Unsafe.html#1086" class="Bound">s</a><a id="1108" class="Symbol">)</a> <a id="1110" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1112" href="Data.String.Unsafe.html#1086" class="Bound">s</a>
<a id="1114" href="Data.String.Unsafe.html#1066" class="Function">fromList∘toList</a> <a id="1130" href="Data.String.Unsafe.html#1130" class="Bound">s</a> <a id="1132" class="Symbol">=</a> <a id="1134" href="Relation.Binary.PropositionalEquality.TrustMe.html#501" class="Function">trustMe</a>

<a id="toList-++"></a><a id="1143" href="Data.String.Unsafe.html#1143" class="Function">toList-++</a> <a id="1153" class="Symbol">:</a> <a id="1155" class="Symbol">∀</a> <a id="1157" href="Data.String.Unsafe.html#1157" class="Bound">s</a> <a id="1159" href="Data.String.Unsafe.html#1159" class="Bound">t</a> <a id="1161" class="Symbol">→</a> <a id="1163" href="Data.String.Base.html#1493" class="Primitive">toList</a> <a id="1170" class="Symbol">(</a><a id="1171" href="Data.String.Unsafe.html#1157" class="Bound">s</a> <a id="1173" href="Data.String.Base.html#2366" class="Function Operator">++</a> <a id="1176" href="Data.String.Unsafe.html#1159" class="Bound">t</a><a id="1177" class="Symbol">)</a> <a id="1179" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1181" href="Data.String.Base.html#1493" class="Primitive">toList</a> <a id="1188" href="Data.String.Unsafe.html#1157" class="Bound">s</a> <a id="1190" href="Data.List.Base.html#1810" class="Function Operator">List.++</a> <a id="1198" href="Data.String.Base.html#1493" class="Primitive">toList</a> <a id="1205" href="Data.String.Unsafe.html#1159" class="Bound">t</a>
<a id="1207" href="Data.String.Unsafe.html#1143" class="Function">toList-++</a> <a id="1217" href="Data.String.Unsafe.html#1217" class="Bound">s</a> <a id="1219" href="Data.String.Unsafe.html#1219" class="Bound">t</a> <a id="1221" class="Symbol">=</a> <a id="1223" href="Relation.Binary.PropositionalEquality.TrustMe.html#501" class="Function">trustMe</a>

<a id="length-++"></a><a id="1232" href="Data.String.Unsafe.html#1232" class="Function">length-++</a> <a id="1242" class="Symbol">:</a> <a id="1244" class="Symbol">∀</a> <a id="1246" href="Data.String.Unsafe.html#1246" class="Bound">s</a> <a id="1248" href="Data.String.Unsafe.html#1248" class="Bound">t</a> <a id="1250" class="Symbol">→</a> <a id="1252" href="Data.String.Base.html#2430" class="Function">length</a> <a id="1259" class="Symbol">(</a><a id="1260" href="Data.String.Unsafe.html#1246" class="Bound">s</a> <a id="1262" href="Data.String.Base.html#2366" class="Function Operator">++</a> <a id="1265" href="Data.String.Unsafe.html#1248" class="Bound">t</a><a id="1266" class="Symbol">)</a> <a id="1268" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1270" href="Data.String.Base.html#2430" class="Function">length</a> <a id="1277" href="Data.String.Unsafe.html#1246" class="Bound">s</a> <a id="1279" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1281" href="Data.String.Base.html#2430" class="Function">length</a> <a id="1288" href="Data.String.Unsafe.html#1248" class="Bound">t</a>
<a id="1290" href="Data.String.Unsafe.html#1232" class="Function">length-++</a> <a id="1300" href="Data.String.Unsafe.html#1300" class="Bound">s</a> <a id="1302" href="Data.String.Unsafe.html#1302" class="Bound">t</a> <a id="1304" class="Symbol">=</a> <a id="1306" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
  <a id="1314" href="Data.String.Base.html#2430" class="Function">length</a> <a id="1321" class="Symbol">(</a><a id="1322" href="Data.String.Unsafe.html#1300" class="Bound">s</a> <a id="1324" href="Data.String.Base.html#2366" class="Function Operator">++</a> <a id="1327" href="Data.String.Unsafe.html#1302" class="Bound">t</a><a id="1328" class="Symbol">)</a>                         <a id="1354" href="Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
  <a id="1360" href="Data.List.Base.html#4864" class="Function">List.length</a> <a id="1372" class="Symbol">(</a><a id="1373" href="Data.String.Base.html#1493" class="Primitive">toList</a> <a id="1380" class="Symbol">(</a><a id="1381" href="Data.String.Unsafe.html#1300" class="Bound">s</a> <a id="1383" href="Data.String.Base.html#2366" class="Function Operator">++</a> <a id="1386" href="Data.String.Unsafe.html#1302" class="Bound">t</a><a id="1387" class="Symbol">))</a>           <a id="1400" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="1403" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1408" href="Data.List.Base.html#4864" class="Function">List.length</a> <a id="1420" class="Symbol">(</a><a id="1421" href="Data.String.Unsafe.html#1143" class="Function">toList-++</a> <a id="1431" href="Data.String.Unsafe.html#1300" class="Bound">s</a> <a id="1433" href="Data.String.Unsafe.html#1302" class="Bound">t</a><a id="1434" class="Symbol">)</a> <a id="1436" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="1440" href="Data.List.Base.html#4864" class="Function">List.length</a> <a id="1452" class="Symbol">(</a><a id="1453" href="Data.String.Base.html#1493" class="Primitive">toList</a> <a id="1460" href="Data.String.Unsafe.html#1300" class="Bound">s</a> <a id="1462" href="Data.List.Base.html#1810" class="Function Operator">List.++</a> <a id="1470" href="Data.String.Base.html#1493" class="Primitive">toList</a> <a id="1477" href="Data.String.Unsafe.html#1302" class="Bound">t</a><a id="1478" class="Symbol">)</a> <a id="1480" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="1483" href="Data.List.Properties.html#5143" class="Function">Listₚ.length-++</a> <a id="1499" class="Symbol">(</a><a id="1500" href="Data.String.Base.html#1493" class="Primitive">toList</a> <a id="1507" href="Data.String.Unsafe.html#1300" class="Bound">s</a><a id="1508" class="Symbol">)</a> <a id="1510" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="1514" href="Data.String.Base.html#2430" class="Function">length</a> <a id="1521" href="Data.String.Unsafe.html#1300" class="Bound">s</a> <a id="1523" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1525" href="Data.String.Base.html#2430" class="Function">length</a> <a id="1532" href="Data.String.Unsafe.html#1302" class="Bound">t</a>                     <a id="1554" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>

<a id="length-replicate"></a><a id="1557" href="Data.String.Unsafe.html#1557" class="Function">length-replicate</a> <a id="1574" class="Symbol">:</a> <a id="1576" class="Symbol">∀</a> <a id="1578" href="Data.String.Unsafe.html#1578" class="Bound">n</a> <a id="1580" class="Symbol">{</a><a id="1581" href="Data.String.Unsafe.html#1581" class="Bound">c</a><a id="1582" class="Symbol">}</a> <a id="1584" class="Symbol">→</a> <a id="1586" href="Data.String.Base.html#2430" class="Function">length</a> <a id="1593" class="Symbol">(</a><a id="1594" href="Data.String.Base.html#2481" class="Function">replicate</a> <a id="1604" href="Data.String.Unsafe.html#1578" class="Bound">n</a> <a id="1606" href="Data.String.Unsafe.html#1581" class="Bound">c</a><a id="1607" class="Symbol">)</a> <a id="1609" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1611" href="Data.String.Unsafe.html#1578" class="Bound">n</a>
<a id="1613" href="Data.String.Unsafe.html#1557" class="Function">length-replicate</a> <a id="1630" href="Data.String.Unsafe.html#1630" class="Bound">n</a> <a id="1632" class="Symbol">{</a><a id="1633" href="Data.String.Unsafe.html#1633" class="Bound">c</a><a id="1634" class="Symbol">}</a> <a id="1636" class="Symbol">=</a> <a id="1638" class="Keyword">let</a> <a id="1642" href="Data.String.Unsafe.html#1642" class="Bound">cs</a> <a id="1645" class="Symbol">=</a> <a id="1647" href="Data.List.Base.html#5139" class="Function">List.replicate</a> <a id="1662" href="Data.String.Unsafe.html#1630" class="Bound">n</a> <a id="1664" href="Data.String.Unsafe.html#1633" class="Bound">c</a> <a id="1666" class="Keyword">in</a> <a id="1669" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
  <a id="1677" href="Data.String.Base.html#2430" class="Function">length</a> <a id="1684" class="Symbol">(</a><a id="1685" href="Data.String.Base.html#2481" class="Function">replicate</a> <a id="1695" href="Data.String.Unsafe.html#1630" class="Bound">n</a> <a id="1697" href="Data.String.Unsafe.html#1633" class="Bound">c</a><a id="1698" class="Symbol">)</a> <a id="1700" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="1703" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1708" href="Data.List.Base.html#4864" class="Function">List.length</a> <a id="1720" class="Symbol">(</a><a id="1721" href="Data.String.Unsafe.html#989" class="Function">toList∘fromList</a> <a id="1737" href="Data.String.Unsafe.html#1642" class="Bound">cs</a><a id="1739" class="Symbol">)</a> <a id="1741" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="1745" href="Data.List.Base.html#4864" class="Function">List.length</a> <a id="1757" href="Data.String.Unsafe.html#1642" class="Bound">cs</a>         <a id="1768" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="1771" href="Data.List.Properties.html#20290" class="Function">Listₚ.length-replicate</a> <a id="1794" href="Data.String.Unsafe.html#1630" class="Bound">n</a> <a id="1796" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="1800" href="Data.String.Unsafe.html#1630" class="Bound">n</a>                      <a id="1823" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre></body></html>