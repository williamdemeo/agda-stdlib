<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Reflection.AST.DeBruijn</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Weakening, strengthening and free variable check for reflected terms.</a>
<a id="179" class="Comment">------------------------------------------------------------------------</a>

<a id="253" class="Symbol">{-#</a> <a id="257" class="Keyword">OPTIONS</a> <a id="265" class="Pragma">--without-K</a> <a id="277" class="Pragma">--safe</a> <a id="284" class="Symbol">#-}</a>

<a id="289" class="Keyword">module</a> <a id="296" href="Reflection.AST.DeBruijn.html" class="Module">Reflection.AST.DeBruijn</a> <a id="320" class="Keyword">where</a>

<a id="327" class="Keyword">open</a> <a id="332" class="Keyword">import</a> <a id="339" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>  <a id="355" class="Keyword">using</a> <a id="361" class="Symbol">(</a><a id="362" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="366" class="Symbol">;</a> <a id="368" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="372" class="Symbol">;</a> <a id="374" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="379" class="Symbol">;</a> <a id="381" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a><a id="384" class="Symbol">;</a> <a id="386" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a><a id="399" class="Symbol">)</a>
<a id="401" class="Keyword">open</a> <a id="406" class="Keyword">import</a> <a id="413" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>   <a id="429" class="Keyword">using</a> <a id="435" class="Symbol">(</a><a id="436" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="437" class="Symbol">;</a> <a id="439" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="443" class="Symbol">;</a> <a id="445" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="448" class="Symbol">;</a> <a id="450" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="453" class="Symbol">;</a> <a id="455" href="Data.Nat.Base.html#3202" class="Primitive Operator">_∸_</a><a id="458" class="Symbol">;</a> <a id="460" href="Data.Nat.Base.html#1301" class="Primitive Operator">_&lt;ᵇ_</a><a id="464" class="Symbol">;</a> <a id="466" href="Data.Nat.Base.html#1127" class="Primitive Operator">_≡ᵇ_</a><a id="470" class="Symbol">)</a>
<a id="472" class="Keyword">open</a> <a id="477" class="Keyword">import</a> <a id="484" href="Data.List.Base.html" class="Module">Data.List.Base</a>  <a id="500" class="Keyword">using</a> <a id="506" class="Symbol">(</a><a id="507" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="511" class="Symbol">;</a> <a id="513" href="Data.List.Base.html#7361" class="InductiveConstructor">[]</a><a id="515" class="Symbol">;</a> <a id="517" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="520" class="Symbol">;</a> <a id="522" href="Data.List.Base.html#1929" class="Function Operator">_++_</a><a id="526" class="Symbol">)</a>
<a id="528" class="Keyword">open</a> <a id="533" class="Keyword">import</a> <a id="540" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="556" class="Keyword">using</a> <a id="562" class="Symbol">(</a><a id="563" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a><a id="568" class="Symbol">;</a> <a id="570" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a><a id="577" class="Symbol">;</a> <a id="579" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a><a id="583" class="Symbol">)</a>
<a id="585" class="Keyword">import</a> <a id="592" href="Data.Maybe.Effectful.html" class="Module">Data.Maybe.Effectful</a> <a id="613" class="Symbol">as</a> <a id="616" class="Module">Maybe</a>
<a id="622" class="Keyword">import</a> <a id="629" href="Function.Identity.Effectful.html" class="Module">Function.Identity.Effectful</a> <a id="657" class="Symbol">as</a> <a id="660" class="Module">Identity</a>
<a id="669" class="Keyword">open</a> <a id="674" class="Keyword">import</a> <a id="681" href="Effect.Applicative.html" class="Module">Effect.Applicative</a> <a id="700" class="Keyword">using</a> <a id="706" class="Symbol">(</a><a id="707" href="Effect.Applicative.html#970" class="Record">RawApplicative</a><a id="721" class="Symbol">;</a> <a id="723" href="Effect.Applicative.html#1763" class="Function">mkRawApplicative</a><a id="739" class="Symbol">)</a>

<a id="742" class="Keyword">open</a> <a id="747" class="Keyword">import</a> <a id="754" href="Reflection.html" class="Module">Reflection</a>
<a id="765" class="Keyword">open</a> <a id="770" class="Keyword">import</a> <a id="777" href="Reflection.AST.Argument.Visibility.html" class="Module">Reflection.AST.Argument.Visibility</a> <a id="812" class="Keyword">using</a> <a id="818" class="Symbol">(</a><a id="819" href="Agda.Builtin.Reflection.html#2738" class="Datatype">Visibility</a><a id="829" class="Symbol">)</a>
<a id="831" class="Keyword">import</a> <a id="838" href="Reflection.AST.Traversal.html" class="Module">Reflection.AST.Traversal</a> <a id="863" class="Symbol">as</a> <a id="866" class="Module">Traverse</a>

<a id="876" class="Keyword">private</a>
  <a id="886" class="Keyword">variable</a> <a id="895" href="Reflection.AST.DeBruijn.html#895" class="Generalizable">A</a> <a id="897" class="Symbol">:</a> <a id="899" href="Agda.Primitive.html#326" class="Primitive">Set</a>

<a id="904" class="Comment">------------------------------------------------------------------------</a>
<a id="977" class="Comment">-- Weakening</a>

<a id="991" class="Keyword">module</a> <a id="998" href="Reflection.AST.DeBruijn.html#998" class="Module">_</a> <a id="1000" class="Keyword">where</a>

  <a id="1009" class="Keyword">open</a> <a id="1014" href="Reflection.AST.Traversal.html" class="Module">Traverse</a> <a id="1023" href="Function.Identity.Effectful.html#647" class="Function">Identity.applicative</a>

  <a id="1047" class="Keyword">private</a>

    <a id="1060" href="Reflection.AST.DeBruijn.html#1060" class="Function">wkVar</a> <a id="1066" class="Symbol">:</a> <a id="1068" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1070" class="Symbol">→</a> <a id="1072" href="Reflection.AST.Traversal.html#957" class="Record">Cxt</a> <a id="1076" class="Symbol">→</a> <a id="1078" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1080" class="Symbol">→</a> <a id="1082" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="1088" href="Reflection.AST.DeBruijn.html#1060" class="Function">wkVar</a> <a id="1094" href="Reflection.AST.DeBruijn.html#1094" class="Bound">by</a> <a id="1097" class="Symbol">(</a><a id="1098" href="Reflection.AST.DeBruijn.html#1098" class="Bound">from</a> <a id="1103" href="Reflection.AST.Traversal.html#987" class="InductiveConstructor Operator">,</a> <a id="1105" class="Symbol">_)</a> <a id="1108" href="Reflection.AST.DeBruijn.html#1108" class="Bound">i</a> <a id="1110" class="Symbol">=</a> <a id="1112" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1115" href="Reflection.AST.DeBruijn.html#1108" class="Bound">i</a> <a id="1117" href="Data.Nat.Base.html#1301" class="Primitive Operator">&lt;ᵇ</a> <a id="1120" href="Reflection.AST.DeBruijn.html#1098" class="Bound">from</a> <a id="1125" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1130" href="Reflection.AST.DeBruijn.html#1108" class="Bound">i</a> <a id="1132" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1137" href="Reflection.AST.DeBruijn.html#1108" class="Bound">i</a> <a id="1139" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1141" href="Reflection.AST.DeBruijn.html#1094" class="Bound">by</a>

    <a id="1149" href="Reflection.AST.DeBruijn.html#1149" class="Function">actions</a> <a id="1157" class="Symbol">:</a> <a id="1159" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1161" class="Symbol">→</a> <a id="1163" href="Reflection.AST.Traversal.html#1447" class="Record">Actions</a>
    <a id="1175" href="Reflection.AST.DeBruijn.html#1149" class="Function">actions</a> <a id="1183" href="Reflection.AST.DeBruijn.html#1183" class="Bound">k</a> <a id="1185" class="Symbol">=</a> <a id="1187" class="Keyword">record</a> <a id="1194" href="Reflection.AST.Traversal.html#1604" class="Function">defaultActions</a> <a id="1209" class="Symbol">{</a> <a id="1211" href="Reflection.AST.Traversal.html#1479" class="Field">onVar</a> <a id="1217" class="Symbol">=</a> <a id="1219" href="Reflection.AST.DeBruijn.html#1060" class="Function">wkVar</a> <a id="1225" href="Reflection.AST.DeBruijn.html#1183" class="Bound">k</a> <a id="1227" class="Symbol">}</a>

  <a id="1232" href="Reflection.AST.DeBruijn.html#1232" class="Function">weakenFrom′</a> <a id="1244" class="Symbol">:</a> <a id="1246" class="Symbol">(</a><a id="1247" href="Reflection.AST.Traversal.html#1447" class="Record">Actions</a> <a id="1255" class="Symbol">→</a> <a id="1257" href="Reflection.AST.Traversal.html#957" class="Record">Cxt</a> <a id="1261" class="Symbol">→</a> <a id="1263" href="Reflection.AST.DeBruijn.html#895" class="Generalizable">A</a> <a id="1265" class="Symbol">→</a> <a id="1267" href="Reflection.AST.DeBruijn.html#895" class="Generalizable">A</a><a id="1268" class="Symbol">)</a> <a id="1270" class="Symbol">→</a> <a id="1272" class="Symbol">(</a><a id="1273" href="Reflection.AST.DeBruijn.html#1273" class="Bound">from</a> <a id="1278" href="Reflection.AST.DeBruijn.html#1278" class="Bound">by</a> <a id="1281" class="Symbol">:</a> <a id="1283" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1284" class="Symbol">)</a> <a id="1286" class="Symbol">→</a> <a id="1288" href="Reflection.AST.DeBruijn.html#895" class="Generalizable">A</a> <a id="1290" class="Symbol">→</a> <a id="1292" href="Reflection.AST.DeBruijn.html#895" class="Generalizable">A</a>
  <a id="1296" href="Reflection.AST.DeBruijn.html#1232" class="Function">weakenFrom′</a> <a id="1308" href="Reflection.AST.DeBruijn.html#1308" class="Bound">trav</a> <a id="1313" href="Reflection.AST.DeBruijn.html#1313" class="Bound">from</a> <a id="1318" href="Reflection.AST.DeBruijn.html#1318" class="Bound">by</a> <a id="1321" class="Symbol">=</a> <a id="1323" href="Reflection.AST.DeBruijn.html#1308" class="Bound">trav</a> <a id="1328" class="Symbol">(</a><a id="1329" href="Reflection.AST.DeBruijn.html#1149" class="Function">actions</a> <a id="1337" href="Reflection.AST.DeBruijn.html#1318" class="Bound">by</a><a id="1339" class="Symbol">)</a> <a id="1341" class="Symbol">(</a><a id="1342" href="Reflection.AST.DeBruijn.html#1313" class="Bound">from</a> <a id="1347" href="Reflection.AST.Traversal.html#987" class="InductiveConstructor Operator">,</a> <a id="1349" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1351" class="Symbol">)</a> <a id="1353" class="Comment">-- not using the context part</a>

  <a id="1386" href="Reflection.AST.DeBruijn.html#1386" class="Function">weakenFrom</a> <a id="1397" class="Symbol">:</a> <a id="1399" class="Symbol">(</a><a id="1400" href="Reflection.AST.DeBruijn.html#1400" class="Bound">from</a> <a id="1405" href="Reflection.AST.DeBruijn.html#1405" class="Bound">by</a> <a id="1408" class="Symbol">:</a> <a id="1410" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1411" class="Symbol">)</a> <a id="1413" class="Symbol">→</a> <a id="1415" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1420" class="Symbol">→</a> <a id="1422" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="1429" href="Reflection.AST.DeBruijn.html#1386" class="Function">weakenFrom</a> <a id="1440" class="Symbol">=</a> <a id="1442" href="Reflection.AST.DeBruijn.html#1232" class="Function">weakenFrom′</a> <a id="1454" href="Reflection.AST.Traversal.html#1949" class="Function">traverseTerm</a>

  <a id="1470" href="Reflection.AST.DeBruijn.html#1470" class="Function">weaken</a> <a id="1477" class="Symbol">:</a> <a id="1479" class="Symbol">(</a><a id="1480" href="Reflection.AST.DeBruijn.html#1480" class="Bound">by</a> <a id="1483" class="Symbol">:</a> <a id="1485" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1486" class="Symbol">)</a> <a id="1488" class="Symbol">→</a> <a id="1490" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1495" class="Symbol">→</a> <a id="1497" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="1504" href="Reflection.AST.DeBruijn.html#1470" class="Function">weaken</a> <a id="1511" class="Symbol">=</a> <a id="1513" href="Reflection.AST.DeBruijn.html#1386" class="Function">weakenFrom</a> <a id="1524" class="Number">0</a>

  <a id="1529" href="Reflection.AST.DeBruijn.html#1529" class="Function">weakenArgs</a> <a id="1540" class="Symbol">:</a> <a id="1542" class="Symbol">(</a><a id="1543" href="Reflection.AST.DeBruijn.html#1543" class="Bound">by</a> <a id="1546" class="Symbol">:</a> <a id="1548" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1549" class="Symbol">)</a> <a id="1551" class="Symbol">→</a> <a id="1553" href="Reflection.AST.Argument.html#1570" class="Function">Args</a> <a id="1558" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1563" class="Symbol">→</a> <a id="1565" href="Reflection.AST.Argument.html#1570" class="Function">Args</a> <a id="1570" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="1577" href="Reflection.AST.DeBruijn.html#1529" class="Function">weakenArgs</a> <a id="1588" class="Symbol">=</a> <a id="1590" href="Reflection.AST.DeBruijn.html#1232" class="Function">weakenFrom′</a> <a id="1602" href="Reflection.AST.Traversal.html#2048" class="Function">traverseArgs</a> <a id="1615" class="Number">0</a>

  <a id="1620" href="Reflection.AST.DeBruijn.html#1620" class="Function">weakenClauses</a> <a id="1634" class="Symbol">:</a> <a id="1636" class="Symbol">(</a><a id="1637" href="Reflection.AST.DeBruijn.html#1637" class="Bound">by</a> <a id="1640" class="Symbol">:</a> <a id="1642" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1643" class="Symbol">)</a> <a id="1645" class="Symbol">→</a> <a id="1647" href="Reflection.AST.Term.html#1716" class="Function">Clauses</a> <a id="1655" class="Symbol">→</a> <a id="1657" href="Reflection.AST.Term.html#1716" class="Function">Clauses</a>
  <a id="1667" href="Reflection.AST.DeBruijn.html#1620" class="Function">weakenClauses</a> <a id="1681" class="Symbol">=</a> <a id="1683" href="Reflection.AST.DeBruijn.html#1232" class="Function">weakenFrom′</a> <a id="1695" href="Reflection.AST.Traversal.html#2228" class="Function">traverseClauses</a> <a id="1711" class="Number">0</a>


<a id="1715" class="Comment">------------------------------------------------------------------------</a>
<a id="1788" class="Comment">-- η-expansion</a>

<a id="1804" class="Keyword">private</a>
  <a id="η"></a><a id="1814" href="Reflection.AST.DeBruijn.html#1814" class="Function">η</a> <a id="1816" class="Symbol">:</a> <a id="1818" href="Agda.Builtin.Reflection.html#2738" class="Datatype">Visibility</a> <a id="1829" class="Symbol">→</a> <a id="1831" class="Symbol">(</a><a id="1832" href="Reflection.AST.Argument.html#1570" class="Function">Args</a> <a id="1837" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1842" class="Symbol">→</a> <a id="1844" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a><a id="1848" class="Symbol">)</a> <a id="1850" class="Symbol">→</a> <a id="1852" href="Reflection.AST.Argument.html#1570" class="Function">Args</a> <a id="1857" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1862" class="Symbol">→</a> <a id="1864" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="1871" href="Reflection.AST.DeBruijn.html#1814" class="Function">η</a> <a id="1873" href="Reflection.AST.DeBruijn.html#1873" class="Bound">h</a> <a id="1875" href="Reflection.AST.DeBruijn.html#1875" class="Bound">f</a> <a id="1877" href="Reflection.AST.DeBruijn.html#1877" class="Bound">args</a> <a id="1882" class="Symbol">=</a>
    <a id="1888" href="Agda.Builtin.Reflection.html#4960" class="InductiveConstructor">lam</a> <a id="1892" href="Reflection.AST.DeBruijn.html#1873" class="Bound">h</a> <a id="1894" class="Symbol">(</a><a id="1895" href="Agda.Builtin.Reflection.html#3980" class="InductiveConstructor">abs</a> <a id="1899" class="String">&quot;x&quot;</a> <a id="1903" class="Symbol">(</a><a id="1904" href="Reflection.AST.DeBruijn.html#1875" class="Bound">f</a> <a id="1906" class="Symbol">(</a><a id="1907" href="Reflection.AST.DeBruijn.html#1529" class="Function">weakenArgs</a> <a id="1918" class="Number">1</a> <a id="1920" href="Reflection.AST.DeBruijn.html#1877" class="Bound">args</a> <a id="1925" href="Data.List.Base.html#1929" class="Function Operator">++</a>
                       <a id="1951" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">arg</a> <a id="1955" class="Symbol">(</a><a id="1956" href="Agda.Builtin.Reflection.html#3638" class="InductiveConstructor">arg-info</a> <a id="1965" href="Reflection.AST.DeBruijn.html#1873" class="Bound">h</a> <a id="1967" href="Reflection.AST.Argument.html#1239" class="InductiveConstructor">defaultModality</a><a id="1982" class="Symbol">)</a> <a id="1984" class="Symbol">(</a><a id="1985" href="Agda.Builtin.Reflection.html#4790" class="InductiveConstructor">var</a> <a id="1989" class="Number">0</a> <a id="1991" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1993" class="Symbol">)</a> <a id="1995" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                       <a id="2020" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2022" class="Symbol">)))</a>

<a id="η-expand"></a><a id="2027" href="Reflection.AST.DeBruijn.html#2027" class="Function">η-expand</a> <a id="2036" class="Symbol">:</a> <a id="2038" href="Agda.Builtin.Reflection.html#2738" class="Datatype">Visibility</a> <a id="2049" class="Symbol">→</a> <a id="2051" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="2056" class="Symbol">→</a> <a id="2058" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
<a id="2063" href="Reflection.AST.DeBruijn.html#2027" class="Function">η-expand</a> <a id="2072" href="Reflection.AST.DeBruijn.html#2072" class="Bound">h</a> <a id="2074" class="Symbol">(</a><a id="2075" href="Agda.Builtin.Reflection.html#4790" class="InductiveConstructor">var</a> <a id="2079" href="Reflection.AST.DeBruijn.html#2079" class="Bound">x</a>      <a id="2086" href="Reflection.AST.DeBruijn.html#2086" class="Bound">args</a><a id="2090" class="Symbol">)</a> <a id="2092" class="Symbol">=</a> <a id="2094" href="Reflection.AST.DeBruijn.html#1814" class="Function">η</a> <a id="2096" href="Reflection.AST.DeBruijn.html#2072" class="Bound">h</a> <a id="2098" class="Symbol">(</a><a id="2099" href="Agda.Builtin.Reflection.html#4790" class="InductiveConstructor">var</a> <a id="2103" class="Symbol">(</a><a id="2104" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2108" href="Reflection.AST.DeBruijn.html#2079" class="Bound">x</a><a id="2109" class="Symbol">))</a> <a id="2112" href="Reflection.AST.DeBruijn.html#2086" class="Bound">args</a>
<a id="2117" href="Reflection.AST.DeBruijn.html#2027" class="Function">η-expand</a> <a id="2126" href="Reflection.AST.DeBruijn.html#2126" class="Bound">h</a> <a id="2128" class="Symbol">(</a><a id="2129" href="Agda.Builtin.Reflection.html#4846" class="InductiveConstructor">con</a> <a id="2133" href="Reflection.AST.DeBruijn.html#2133" class="Bound">c</a>      <a id="2140" href="Reflection.AST.DeBruijn.html#2140" class="Bound">args</a><a id="2144" class="Symbol">)</a> <a id="2146" class="Symbol">=</a> <a id="2148" href="Reflection.AST.DeBruijn.html#1814" class="Function">η</a> <a id="2150" href="Reflection.AST.DeBruijn.html#2126" class="Bound">h</a> <a id="2152" class="Symbol">(</a><a id="2153" href="Agda.Builtin.Reflection.html#4846" class="InductiveConstructor">con</a> <a id="2157" href="Reflection.AST.DeBruijn.html#2133" class="Bound">c</a><a id="2158" class="Symbol">)</a> <a id="2160" href="Reflection.AST.DeBruijn.html#2140" class="Bound">args</a>
<a id="2165" href="Reflection.AST.DeBruijn.html#2027" class="Function">η-expand</a> <a id="2174" href="Reflection.AST.DeBruijn.html#2174" class="Bound">h</a> <a id="2176" class="Symbol">(</a><a id="2177" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="2181" href="Reflection.AST.DeBruijn.html#2181" class="Bound">f</a>      <a id="2188" href="Reflection.AST.DeBruijn.html#2188" class="Bound">args</a><a id="2192" class="Symbol">)</a> <a id="2194" class="Symbol">=</a> <a id="2196" href="Reflection.AST.DeBruijn.html#1814" class="Function">η</a> <a id="2198" href="Reflection.AST.DeBruijn.html#2174" class="Bound">h</a> <a id="2200" class="Symbol">(</a><a id="2201" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="2205" href="Reflection.AST.DeBruijn.html#2181" class="Bound">f</a><a id="2206" class="Symbol">)</a> <a id="2208" href="Reflection.AST.DeBruijn.html#2188" class="Bound">args</a>
<a id="2213" href="Reflection.AST.DeBruijn.html#2027" class="Function">η-expand</a> <a id="2222" href="Reflection.AST.DeBruijn.html#2222" class="Bound">h</a> <a id="2224" class="Symbol">(</a><a id="2225" href="Agda.Builtin.Reflection.html#5013" class="InductiveConstructor">pat-lam</a> <a id="2233" href="Reflection.AST.DeBruijn.html#2233" class="Bound">cs</a> <a id="2236" href="Reflection.AST.DeBruijn.html#2236" class="Bound">args</a><a id="2240" class="Symbol">)</a> <a id="2242" class="Symbol">=</a> <a id="2244" href="Reflection.AST.DeBruijn.html#1814" class="Function">η</a> <a id="2246" href="Reflection.AST.DeBruijn.html#2222" class="Bound">h</a> <a id="2248" class="Symbol">(</a><a id="2249" href="Agda.Builtin.Reflection.html#5013" class="InductiveConstructor">pat-lam</a> <a id="2257" class="Symbol">(</a><a id="2258" href="Reflection.AST.DeBruijn.html#1620" class="Function">weakenClauses</a> <a id="2272" class="Number">1</a> <a id="2274" href="Reflection.AST.DeBruijn.html#2233" class="Bound">cs</a><a id="2276" class="Symbol">))</a> <a id="2279" href="Reflection.AST.DeBruijn.html#2236" class="Bound">args</a>
<a id="2284" href="Reflection.AST.DeBruijn.html#2027" class="Function">η-expand</a> <a id="2293" href="Reflection.AST.DeBruijn.html#2293" class="Bound">h</a> <a id="2295" class="Symbol">(</a><a id="2296" href="Agda.Builtin.Reflection.html#5196" class="InductiveConstructor">meta</a> <a id="2301" href="Reflection.AST.DeBruijn.html#2301" class="Bound">x</a>     <a id="2307" href="Reflection.AST.DeBruijn.html#2307" class="Bound">args</a><a id="2311" class="Symbol">)</a> <a id="2313" class="Symbol">=</a> <a id="2315" href="Reflection.AST.DeBruijn.html#1814" class="Function">η</a> <a id="2317" href="Reflection.AST.DeBruijn.html#2293" class="Bound">h</a> <a id="2319" class="Symbol">(</a><a id="2320" href="Agda.Builtin.Reflection.html#5196" class="InductiveConstructor">meta</a> <a id="2325" href="Reflection.AST.DeBruijn.html#2301" class="Bound">x</a><a id="2326" class="Symbol">)</a> <a id="2328" href="Reflection.AST.DeBruijn.html#2307" class="Bound">args</a>
<a id="2333" href="Reflection.AST.DeBruijn.html#2027" class="Function">η-expand</a> <a id="2342" href="Reflection.AST.DeBruijn.html#2342" class="Bound">h</a> <a id="2344" href="Reflection.AST.DeBruijn.html#2344" class="Bound">t</a><a id="2345" class="Symbol">@(</a><a id="2347" href="Agda.Builtin.Reflection.html#4960" class="InductiveConstructor">lam</a> <a id="2351" class="Symbol">_</a> <a id="2353" class="Symbol">_)</a>       <a id="2362" class="Symbol">=</a> <a id="2364" href="Reflection.AST.DeBruijn.html#2344" class="Bound">t</a>
<a id="2366" href="Reflection.AST.DeBruijn.html#2027" class="Function">η-expand</a> <a id="2375" href="Reflection.AST.DeBruijn.html#2375" class="Bound">h</a> <a id="2377" href="Reflection.AST.DeBruijn.html#2377" class="Bound">t</a><a id="2378" class="Symbol">@(</a><a id="2380" href="Agda.Builtin.Reflection.html#5078" class="InductiveConstructor">pi</a> <a id="2383" class="Symbol">_</a> <a id="2385" class="Symbol">_)</a>        <a id="2395" class="Symbol">=</a> <a id="2397" href="Reflection.AST.DeBruijn.html#2377" class="Bound">t</a>
<a id="2399" href="Reflection.AST.DeBruijn.html#2027" class="Function">η-expand</a> <a id="2408" href="Reflection.AST.DeBruijn.html#2408" class="Bound">h</a> <a id="2410" href="Reflection.AST.DeBruijn.html#2410" class="Bound">t</a><a id="2411" class="Symbol">@(</a><a id="2413" href="Agda.Builtin.Reflection.html#5129" class="InductiveConstructor">agda-sort</a> <a id="2423" class="Symbol">_)</a>   <a id="2428" class="Symbol">=</a> <a id="2430" href="Reflection.AST.DeBruijn.html#2410" class="Bound">t</a>
<a id="2432" href="Reflection.AST.DeBruijn.html#2027" class="Function">η-expand</a> <a id="2441" href="Reflection.AST.DeBruijn.html#2441" class="Bound">h</a> <a id="2443" href="Reflection.AST.DeBruijn.html#2443" class="Bound">t</a><a id="2444" class="Symbol">@(</a><a id="2446" href="Agda.Builtin.Reflection.html#5161" class="InductiveConstructor">lit</a> <a id="2450" class="Symbol">_)</a>         <a id="2461" class="Symbol">=</a> <a id="2463" href="Reflection.AST.DeBruijn.html#2443" class="Bound">t</a>
<a id="2465" href="Reflection.AST.DeBruijn.html#2027" class="Function">η-expand</a> <a id="2474" href="Reflection.AST.DeBruijn.html#2474" class="Bound">h</a> <a id="2476" href="Reflection.AST.DeBruijn.html#2476" class="Bound">t</a><a id="2477" class="Symbol">@</a><a id="2478" href="Agda.Builtin.Reflection.html#5246" class="InductiveConstructor">unknown</a>         <a id="2494" class="Symbol">=</a> <a id="2496" href="Reflection.AST.DeBruijn.html#2476" class="Bound">t</a>


<a id="2500" class="Comment">------------------------------------------------------------------------</a>
<a id="2573" class="Comment">-- Strengthening</a>

<a id="2591" class="Keyword">module</a> <a id="2598" href="Reflection.AST.DeBruijn.html#2598" class="Module">_</a> <a id="2600" class="Keyword">where</a>

  <a id="2609" class="Keyword">open</a> <a id="2614" href="Reflection.AST.Traversal.html" class="Module">Traverse</a> <a id="2623" href="Data.Maybe.Effectful.html#734" class="Function">Maybe.applicative</a>

  <a id="2644" class="Keyword">private</a>
    <a id="2656" href="Reflection.AST.DeBruijn.html#2656" class="Function">strVar</a> <a id="2663" class="Symbol">:</a> <a id="2665" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2667" class="Symbol">→</a> <a id="2669" href="Reflection.AST.Traversal.html#957" class="Record">Cxt</a> <a id="2673" class="Symbol">→</a> <a id="2675" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2677" class="Symbol">→</a> <a id="2679" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2685" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="2691" href="Reflection.AST.DeBruijn.html#2656" class="Function">strVar</a> <a id="2698" href="Reflection.AST.DeBruijn.html#2698" class="Bound">by</a> <a id="2701" class="Symbol">(</a><a id="2702" href="Reflection.AST.DeBruijn.html#2702" class="Bound">from</a> <a id="2707" href="Reflection.AST.Traversal.html#987" class="InductiveConstructor Operator">,</a> <a id="2709" href="Reflection.AST.DeBruijn.html#2709" class="Bound">Γ</a><a id="2710" class="Symbol">)</a> <a id="2712" href="Reflection.AST.DeBruijn.html#2712" class="Bound">i</a> <a id="2714" class="Keyword">with</a> <a id="2719" href="Reflection.AST.DeBruijn.html#2712" class="Bound">i</a> <a id="2721" href="Data.Nat.Base.html#1301" class="Primitive Operator">&lt;ᵇ</a> <a id="2724" href="Reflection.AST.DeBruijn.html#2702" class="Bound">from</a> <a id="2729" class="Symbol">|</a> <a id="2731" href="Reflection.AST.DeBruijn.html#2712" class="Bound">i</a> <a id="2733" href="Data.Nat.Base.html#1301" class="Primitive Operator">&lt;ᵇ</a> <a id="2736" href="Reflection.AST.DeBruijn.html#2702" class="Bound">from</a> <a id="2741" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2743" href="Reflection.AST.DeBruijn.html#2698" class="Bound">by</a>
    <a id="2750" class="Symbol">...</a> <a id="2754" class="Symbol">|</a> <a id="2756" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="2761" class="Symbol">|</a> <a id="2763" class="Symbol">_</a>    <a id="2768" class="Symbol">=</a> <a id="2770" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2775" class="Bound">i</a>
    <a id="2781" class="CatchallClause Symbol">...</a><a id="2784" class="CatchallClause"> </a><a id="2785" class="CatchallClause Symbol">|</a><a id="2786" class="CatchallClause"> </a><a id="2787" class="CatchallClause Symbol">_</a><a id="2788" class="CatchallClause">    </a><a id="2792" class="CatchallClause Symbol">|</a><a id="2793" class="CatchallClause"> </a><a id="2794" href="Agda.Builtin.Bool.html#188" class="CatchallClause InductiveConstructor">true</a> <a id="2799" class="Symbol">=</a> <a id="2801" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
    <a id="2813" class="CatchallClause Symbol">...</a><a id="2816" class="CatchallClause"> </a><a id="2817" class="CatchallClause Symbol">|</a><a id="2818" class="CatchallClause"> </a><a id="2819" class="CatchallClause Symbol">_</a><a id="2820" class="CatchallClause">    </a><a id="2824" class="CatchallClause Symbol">|</a><a id="2825" class="CatchallClause"> </a><a id="2826" class="CatchallClause Symbol">_</a>    <a id="2831" class="Symbol">=</a> <a id="2833" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2838" class="Symbol">(</a><a id="2839" class="Bound">i</a> <a id="2841" href="Data.Nat.Base.html#3202" class="Primitive Operator">∸</a> <a id="2843" class="Bound">by</a><a id="2845" class="Symbol">)</a>

    <a id="2852" href="Reflection.AST.DeBruijn.html#2852" class="Function">actions</a> <a id="2860" class="Symbol">:</a> <a id="2862" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2864" class="Symbol">→</a> <a id="2866" href="Reflection.AST.Traversal.html#1447" class="Record">Actions</a>
    <a id="2878" href="Reflection.AST.DeBruijn.html#2852" class="Function">actions</a> <a id="2886" href="Reflection.AST.DeBruijn.html#2886" class="Bound">by</a> <a id="2889" class="Symbol">=</a> <a id="2891" class="Keyword">record</a> <a id="2898" href="Reflection.AST.Traversal.html#1604" class="Function">defaultActions</a> <a id="2913" class="Symbol">{</a> <a id="2915" href="Reflection.AST.Traversal.html#1479" class="Field">onVar</a> <a id="2921" class="Symbol">=</a> <a id="2923" href="Reflection.AST.DeBruijn.html#2656" class="Function">strVar</a> <a id="2930" href="Reflection.AST.DeBruijn.html#2886" class="Bound">by</a> <a id="2933" class="Symbol">}</a>

  <a id="2938" href="Reflection.AST.DeBruijn.html#2938" class="Function">strengthenFromBy′</a> <a id="2956" class="Symbol">:</a> <a id="2958" class="Symbol">(</a><a id="2959" href="Reflection.AST.Traversal.html#1447" class="Record">Actions</a> <a id="2967" class="Symbol">→</a> <a id="2969" href="Reflection.AST.Traversal.html#957" class="Record">Cxt</a> <a id="2973" class="Symbol">→</a> <a id="2975" href="Reflection.AST.DeBruijn.html#895" class="Generalizable">A</a> <a id="2977" class="Symbol">→</a> <a id="2979" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2985" href="Reflection.AST.DeBruijn.html#895" class="Generalizable">A</a><a id="2986" class="Symbol">)</a> <a id="2988" class="Symbol">→</a> <a id="2990" class="Symbol">(</a><a id="2991" href="Reflection.AST.DeBruijn.html#2991" class="Bound">from</a> <a id="2996" href="Reflection.AST.DeBruijn.html#2996" class="Bound">by</a> <a id="2999" class="Symbol">:</a> <a id="3001" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3002" class="Symbol">)</a> <a id="3004" class="Symbol">→</a> <a id="3006" href="Reflection.AST.DeBruijn.html#895" class="Generalizable">A</a> <a id="3008" class="Symbol">→</a> <a id="3010" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3016" href="Reflection.AST.DeBruijn.html#895" class="Generalizable">A</a>
  <a id="3020" href="Reflection.AST.DeBruijn.html#2938" class="Function">strengthenFromBy′</a> <a id="3038" href="Reflection.AST.DeBruijn.html#3038" class="Bound">trav</a> <a id="3043" href="Reflection.AST.DeBruijn.html#3043" class="Bound">from</a> <a id="3048" href="Reflection.AST.DeBruijn.html#3048" class="Bound">by</a> <a id="3051" class="Symbol">=</a> <a id="3053" href="Reflection.AST.DeBruijn.html#3038" class="Bound">trav</a> <a id="3058" class="Symbol">(</a><a id="3059" href="Reflection.AST.DeBruijn.html#2852" class="Function">actions</a> <a id="3067" href="Reflection.AST.DeBruijn.html#3048" class="Bound">by</a><a id="3069" class="Symbol">)</a> <a id="3071" class="Symbol">(</a><a id="3072" href="Reflection.AST.DeBruijn.html#3043" class="Bound">from</a> <a id="3077" href="Reflection.AST.Traversal.html#987" class="InductiveConstructor Operator">,</a> <a id="3079" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3081" class="Symbol">)</a> <a id="3083" class="Comment">-- not using the context part</a>

  <a id="3116" href="Reflection.AST.DeBruijn.html#3116" class="Function">strengthenFromBy</a> <a id="3133" class="Symbol">:</a> <a id="3135" class="Symbol">(</a><a id="3136" href="Reflection.AST.DeBruijn.html#3136" class="Bound">from</a> <a id="3141" href="Reflection.AST.DeBruijn.html#3141" class="Bound">by</a> <a id="3144" class="Symbol">:</a> <a id="3146" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3147" class="Symbol">)</a> <a id="3149" class="Symbol">→</a> <a id="3151" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="3156" class="Symbol">→</a> <a id="3158" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3164" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="3171" href="Reflection.AST.DeBruijn.html#3116" class="Function">strengthenFromBy</a> <a id="3188" class="Symbol">=</a> <a id="3190" href="Reflection.AST.DeBruijn.html#2938" class="Function">strengthenFromBy′</a> <a id="3208" href="Reflection.AST.Traversal.html#1949" class="Function">traverseTerm</a>

  <a id="3224" href="Reflection.AST.DeBruijn.html#3224" class="Function">strengthenBy</a> <a id="3237" class="Symbol">:</a> <a id="3239" class="Symbol">(</a><a id="3240" href="Reflection.AST.DeBruijn.html#3240" class="Bound">by</a> <a id="3243" class="Symbol">:</a> <a id="3245" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3246" class="Symbol">)</a> <a id="3248" class="Symbol">→</a> <a id="3250" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="3255" class="Symbol">→</a> <a id="3257" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3263" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="3270" href="Reflection.AST.DeBruijn.html#3224" class="Function">strengthenBy</a> <a id="3283" class="Symbol">=</a> <a id="3285" href="Reflection.AST.DeBruijn.html#3116" class="Function">strengthenFromBy</a> <a id="3302" class="Number">0</a>

  <a id="3307" href="Reflection.AST.DeBruijn.html#3307" class="Function">strengthenFrom</a> <a id="3322" class="Symbol">:</a> <a id="3324" class="Symbol">(</a><a id="3325" href="Reflection.AST.DeBruijn.html#3325" class="Bound">from</a> <a id="3330" class="Symbol">:</a> <a id="3332" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3333" class="Symbol">)</a> <a id="3335" class="Symbol">→</a> <a id="3337" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="3342" class="Symbol">→</a> <a id="3344" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3350" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="3357" href="Reflection.AST.DeBruijn.html#3307" class="Function">strengthenFrom</a> <a id="3372" href="Reflection.AST.DeBruijn.html#3372" class="Bound">from</a> <a id="3377" class="Symbol">=</a> <a id="3379" href="Reflection.AST.DeBruijn.html#3116" class="Function">strengthenFromBy</a> <a id="3396" href="Reflection.AST.DeBruijn.html#3372" class="Bound">from</a> <a id="3401" class="Number">1</a>

  <a id="3406" href="Reflection.AST.DeBruijn.html#3406" class="Function">strengthen</a> <a id="3417" class="Symbol">:</a> <a id="3419" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="3424" class="Symbol">→</a> <a id="3426" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3432" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="3439" href="Reflection.AST.DeBruijn.html#3406" class="Function">strengthen</a> <a id="3450" class="Symbol">=</a> <a id="3452" href="Reflection.AST.DeBruijn.html#3116" class="Function">strengthenFromBy</a> <a id="3469" class="Number">0</a> <a id="3471" class="Number">1</a>


<a id="3475" class="Comment">------------------------------------------------------------------------</a>
<a id="3548" class="Comment">-- Free variable check</a>

<a id="3572" class="Keyword">module</a> <a id="3579" href="Reflection.AST.DeBruijn.html#3579" class="Module">_</a> <a id="3581" class="Keyword">where</a>

  <a id="3590" class="Keyword">private</a>
    <a id="3602" href="Reflection.AST.DeBruijn.html#3602" class="Function">anyApplicative</a> <a id="3617" class="Symbol">:</a> <a id="3619" href="Effect.Applicative.html#970" class="Record">RawApplicative</a> <a id="3634" class="Symbol">(λ</a> <a id="3637" href="Reflection.AST.DeBruijn.html#3637" class="Symbol">_</a> <a id="3639" class="Symbol">→</a> <a id="3641" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="3645" class="Symbol">)</a>
    <a id="3651" href="Reflection.AST.DeBruijn.html#3602" class="Function">anyApplicative</a> <a id="3666" class="Symbol">=</a> <a id="3668" href="Effect.Applicative.html#1763" class="Function">mkRawApplicative</a> <a id="3685" class="Symbol">_</a> <a id="3687" class="Symbol">(λ</a> <a id="3690" href="Reflection.AST.DeBruijn.html#3690" class="Bound">_</a> <a id="3692" class="Symbol">→</a> <a id="3694" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="3699" class="Symbol">)</a>  <a id="3702" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a>

  <a id="3709" class="Keyword">open</a> <a id="3714" href="Reflection.AST.Traversal.html" class="Module">Traverse</a> <a id="3723" href="Reflection.AST.DeBruijn.html#3602" class="Function">anyApplicative</a>

  <a id="3741" class="Keyword">private</a>
    <a id="3753" href="Reflection.AST.DeBruijn.html#3753" class="Function">fvVar</a> <a id="3759" class="Symbol">:</a> <a id="3761" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3763" class="Symbol">→</a> <a id="3765" href="Reflection.AST.Traversal.html#957" class="Record">Cxt</a> <a id="3769" class="Symbol">→</a> <a id="3771" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3773" class="Symbol">→</a> <a id="3775" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
    <a id="3784" href="Reflection.AST.DeBruijn.html#3753" class="Function">fvVar</a> <a id="3790" href="Reflection.AST.DeBruijn.html#3790" class="Bound">i</a> <a id="3792" class="Symbol">(</a><a id="3793" href="Reflection.AST.DeBruijn.html#3793" class="Bound">n</a> <a id="3795" href="Reflection.AST.Traversal.html#987" class="InductiveConstructor Operator">,</a> <a id="3797" class="Symbol">_)</a> <a id="3800" href="Reflection.AST.DeBruijn.html#3800" class="Bound">x</a> <a id="3802" class="Symbol">=</a> <a id="3804" href="Reflection.AST.DeBruijn.html#3790" class="Bound">i</a> <a id="3806" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3808" href="Reflection.AST.DeBruijn.html#3793" class="Bound">n</a> <a id="3810" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="3813" href="Reflection.AST.DeBruijn.html#3800" class="Bound">x</a>

    <a id="3820" href="Reflection.AST.DeBruijn.html#3820" class="Function">actions</a> <a id="3828" class="Symbol">:</a> <a id="3830" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3832" class="Symbol">→</a> <a id="3834" href="Reflection.AST.Traversal.html#1447" class="Record">Actions</a>
    <a id="3846" href="Reflection.AST.DeBruijn.html#3820" class="Function">actions</a> <a id="3854" href="Reflection.AST.DeBruijn.html#3854" class="Bound">i</a> <a id="3856" class="Symbol">=</a> <a id="3858" class="Keyword">record</a> <a id="3865" href="Reflection.AST.Traversal.html#1604" class="Function">defaultActions</a> <a id="3880" class="Symbol">{</a> <a id="3882" href="Reflection.AST.Traversal.html#1479" class="Field">onVar</a> <a id="3888" class="Symbol">=</a> <a id="3890" href="Reflection.AST.DeBruijn.html#3753" class="Function">fvVar</a> <a id="3896" href="Reflection.AST.DeBruijn.html#3854" class="Bound">i</a> <a id="3898" class="Symbol">}</a>

  <a id="3903" href="Reflection.AST.DeBruijn.html#3903" class="Function Operator">_∈FV_</a> <a id="3909" class="Symbol">:</a> <a id="3911" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3913" class="Symbol">→</a> <a id="3915" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="3920" class="Symbol">→</a> <a id="3922" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
  <a id="3929" href="Reflection.AST.DeBruijn.html#3929" class="Bound">i</a> <a id="3931" href="Reflection.AST.DeBruijn.html#3903" class="Function Operator">∈FV</a> <a id="3935" href="Reflection.AST.DeBruijn.html#3935" class="Bound">t</a> <a id="3937" class="Symbol">=</a> <a id="3939" href="Reflection.AST.Traversal.html#1949" class="Function">traverseTerm</a> <a id="3952" class="Symbol">(</a><a id="3953" href="Reflection.AST.DeBruijn.html#3820" class="Function">actions</a> <a id="3961" href="Reflection.AST.DeBruijn.html#3929" class="Bound">i</a><a id="3962" class="Symbol">)</a> <a id="3964" class="Symbol">(</a><a id="3965" class="Number">0</a> <a id="3967" href="Reflection.AST.Traversal.html#987" class="InductiveConstructor Operator">,</a> <a id="3969" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3971" class="Symbol">)</a> <a id="3973" href="Reflection.AST.DeBruijn.html#3935" class="Bound">t</a>
</pre></body></html>