<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Maybe.Effectful</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- An effectful view of Maybe</a>
<a id="136" class="Comment">------------------------------------------------------------------------</a>

<a id="210" class="Symbol">{-#</a> <a id="214" class="Keyword">OPTIONS</a> <a id="222" class="Pragma">--cubical-compatible</a> <a id="243" class="Pragma">--safe</a> <a id="250" class="Symbol">#-}</a>

<a id="255" class="Keyword">module</a> <a id="262" href="Data.Maybe.Effectful.html" class="Module">Data.Maybe.Effectful</a> <a id="283" class="Keyword">where</a>

<a id="290" class="Keyword">open</a> <a id="295" class="Keyword">import</a> <a id="302" href="Level.html" class="Module">Level</a>
<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a>
<a id="336" class="Keyword">open</a> <a id="341" class="Keyword">import</a> <a id="348" href="Effect.Functor.html" class="Module">Effect.Functor</a>
<a id="363" class="Keyword">open</a> <a id="368" class="Keyword">import</a> <a id="375" href="Effect.Applicative.html" class="Module">Effect.Applicative</a>
<a id="394" class="Keyword">open</a> <a id="399" class="Keyword">import</a> <a id="406" href="Effect.Monad.html" class="Module">Effect.Monad</a>
<a id="419" class="Keyword">import</a> <a id="426" href="Function.Identity.Effectful.html" class="Module">Function.Identity.Effectful</a> <a id="454" class="Symbol">as</a> <a id="457" class="Module">Id</a>
<a id="460" class="Keyword">open</a> <a id="465" class="Keyword">import</a> <a id="472" href="Function.html" class="Module">Function</a>

<a id="482" class="Keyword">private</a>
  <a id="492" class="Keyword">variable</a>
    <a id="505" href="Data.Maybe.Effectful.html#505" class="Generalizable">a</a> <a id="507" href="Data.Maybe.Effectful.html#507" class="Generalizable">b</a> <a id="509" href="Data.Maybe.Effectful.html#509" class="Generalizable">f</a> <a id="511" href="Data.Maybe.Effectful.html#511" class="Generalizable">m</a> <a id="513" class="Symbol">:</a> <a id="515" href="Agda.Primitive.html#591" class="Postulate">Level</a>
    <a id="525" href="Data.Maybe.Effectful.html#525" class="Generalizable">A</a> <a id="527" class="Symbol">:</a> <a id="529" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="533" href="Data.Maybe.Effectful.html#505" class="Generalizable">a</a>
    <a id="539" href="Data.Maybe.Effectful.html#539" class="Generalizable">B</a> <a id="541" class="Symbol">:</a> <a id="543" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="547" href="Data.Maybe.Effectful.html#507" class="Generalizable">b</a>

<a id="550" class="Comment">------------------------------------------------------------------------</a>
<a id="623" class="Comment">-- Maybe applicative functor</a>

<a id="functor"></a><a id="653" href="Data.Maybe.Effectful.html#653" class="Function">functor</a> <a id="661" class="Symbol">:</a> <a id="663" href="Effect.Functor.html#498" class="Record">RawFunctor</a> <a id="674" class="Symbol">{</a><a id="675" href="Data.Maybe.Effectful.html#509" class="Generalizable">f</a><a id="676" class="Symbol">}</a> <a id="678" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a>
<a id="684" href="Data.Maybe.Effectful.html#653" class="Function">functor</a> <a id="692" class="Symbol">=</a> <a id="694" class="Keyword">record</a>
  <a id="703" class="Symbol">{</a> <a id="705" href="Effect.Functor.html#607" class="Field Operator">_&lt;$&gt;_</a> <a id="711" class="Symbol">=</a> <a id="713" href="Data.Maybe.Base.html#2029" class="Function">map</a>
  <a id="719" class="Symbol">}</a>

<a id="applicative"></a><a id="722" href="Data.Maybe.Effectful.html#722" class="Function">applicative</a> <a id="734" class="Symbol">:</a> <a id="736" href="Effect.Applicative.html#499" class="Function">RawApplicative</a> <a id="751" class="Symbol">{</a><a id="752" href="Data.Maybe.Effectful.html#509" class="Generalizable">f</a><a id="753" class="Symbol">}</a> <a id="755" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a>
<a id="761" href="Data.Maybe.Effectful.html#722" class="Function">applicative</a> <a id="773" class="Symbol">=</a> <a id="775" class="Keyword">record</a>
  <a id="784" class="Symbol">{</a> <a id="786" href="Effect.Applicative.Indexed.html#1000" class="Field">pure</a> <a id="791" class="Symbol">=</a> <a id="793" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a>
  <a id="800" class="Symbol">;</a> <a id="802" href="Effect.Applicative.Indexed.html#1031" class="Field Operator">_⊛_</a>  <a id="807" class="Symbol">=</a> <a id="809" href="Data.Maybe.Base.html#1371" class="Function">maybe</a> <a id="815" href="Data.Maybe.Base.html#2029" class="Function">map</a> <a id="819" class="Symbol">(</a><a id="820" href="Function.Base.html#725" class="Function">const</a> <a id="826" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a><a id="833" class="Symbol">)</a>
  <a id="837" class="Symbol">}</a>

<a id="applicativeZero"></a><a id="840" href="Data.Maybe.Effectful.html#840" class="Function">applicativeZero</a> <a id="856" class="Symbol">:</a> <a id="858" href="Effect.Applicative.html#730" class="Function">RawApplicativeZero</a> <a id="877" class="Symbol">{</a><a id="878" href="Data.Maybe.Effectful.html#509" class="Generalizable">f</a><a id="879" class="Symbol">}</a> <a id="881" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a>
<a id="887" href="Data.Maybe.Effectful.html#840" class="Function">applicativeZero</a> <a id="903" class="Symbol">=</a> <a id="905" class="Keyword">record</a>
  <a id="914" class="Symbol">{</a> <a id="916" href="Effect.Applicative.Indexed.html#1915" class="Field">applicative</a> <a id="928" class="Symbol">=</a> <a id="930" href="Data.Maybe.Effectful.html#722" class="Function">applicative</a>
  <a id="944" class="Symbol">;</a> <a id="946" href="Effect.Applicative.Indexed.html#1951" class="Field">∅</a>           <a id="958" class="Symbol">=</a> <a id="960" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>
  <a id="970" class="Symbol">}</a>

<a id="alternative"></a><a id="973" href="Data.Maybe.Effectful.html#973" class="Function">alternative</a> <a id="985" class="Symbol">:</a> <a id="987" href="Effect.Applicative.html#991" class="Function">RawAlternative</a> <a id="1002" class="Symbol">{</a><a id="1003" href="Data.Maybe.Effectful.html#509" class="Generalizable">f</a><a id="1004" class="Symbol">}</a> <a id="1006" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a>
<a id="1012" href="Data.Maybe.Effectful.html#973" class="Function">alternative</a> <a id="1024" class="Symbol">=</a> <a id="1026" class="Keyword">record</a>
  <a id="1035" class="Symbol">{</a> <a id="1037" href="Effect.Applicative.Indexed.html#2263" class="Field">applicativeZero</a> <a id="1053" class="Symbol">=</a> <a id="1055" href="Data.Maybe.Effectful.html#840" class="Function">applicativeZero</a>
  <a id="1073" class="Symbol">;</a> <a id="1075" href="Effect.Applicative.Indexed.html#2307" class="Field Operator">_∣_</a>             <a id="1091" class="Symbol">=</a> <a id="1093" href="Data.Maybe.Base.html#2359" class="Function Operator">_&lt;∣&gt;_</a>
  <a id="1101" class="Symbol">}</a>

<a id="1104" class="Comment">------------------------------------------------------------------------</a>
<a id="1177" class="Comment">-- Maybe monad transformer</a>

<a id="monadT"></a><a id="1205" href="Data.Maybe.Effectful.html#1205" class="Function">monadT</a> <a id="1212" class="Symbol">:</a> <a id="1214" href="Effect.Monad.html#516" class="Function">RawMonadT</a> <a id="1224" class="Symbol">{</a><a id="1225" href="Data.Maybe.Effectful.html#509" class="Generalizable">f</a><a id="1226" class="Symbol">}</a> <a id="1228" class="Symbol">(</a><a id="1229" href="Function.Base.html#3646" class="Function Operator">_∘′</a> <a id="1233" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a><a id="1238" class="Symbol">)</a>
<a id="1240" href="Data.Maybe.Effectful.html#1205" class="Function">monadT</a> <a id="1247" href="Data.Maybe.Effectful.html#1247" class="Bound">M</a> <a id="1249" class="Symbol">=</a> <a id="1251" class="Keyword">record</a>
  <a id="1260" class="Symbol">{</a> <a id="1262" href="Effect.Monad.Indexed.html#654" class="Field">return</a> <a id="1269" class="Symbol">=</a> <a id="1271" href="Effect.Monad.Indexed.html#654" class="Field">M.return</a> <a id="1280" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1282" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a>
  <a id="1289" class="Symbol">;</a> <a id="1291" href="Effect.Monad.Indexed.html#687" class="Field Operator">_&gt;&gt;=_</a>  <a id="1298" class="Symbol">=</a> <a id="1300" class="Symbol">λ</a> <a id="1302" href="Data.Maybe.Effectful.html#1302" class="Bound">m</a> <a id="1304" href="Data.Maybe.Effectful.html#1304" class="Bound">f</a> <a id="1306" class="Symbol">→</a> <a id="1308" href="Data.Maybe.Effectful.html#1302" class="Bound">m</a> <a id="1310" href="Effect.Monad.Indexed.html#687" class="Field Operator">M.&gt;&gt;=</a> <a id="1316" href="Data.Maybe.Base.html#1371" class="Function">maybe</a> <a id="1322" href="Data.Maybe.Effectful.html#1304" class="Bound">f</a> <a id="1324" class="Symbol">(</a><a id="1325" href="Effect.Monad.Indexed.html#654" class="Field">M.return</a> <a id="1334" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a><a id="1341" class="Symbol">)</a>
  <a id="1345" class="Symbol">}</a>
  <a id="1349" class="Keyword">where</a> <a id="1355" class="Keyword">module</a> <a id="1362" href="Data.Maybe.Effectful.html#1362" class="Module">M</a> <a id="1364" class="Symbol">=</a> <a id="1366" href="Effect.Monad.html#821" class="Module">RawMonad</a> <a id="1375" href="Data.Maybe.Effectful.html#1247" class="Bound">M</a>

<a id="1378" class="Comment">------------------------------------------------------------------------</a>
<a id="1451" class="Comment">-- Maybe monad</a>

<a id="monad"></a><a id="1467" href="Data.Maybe.Effectful.html#1467" class="Function">monad</a> <a id="1473" class="Symbol">:</a> <a id="1475" href="Effect.Monad.html#437" class="Function">RawMonad</a> <a id="1484" class="Symbol">{</a><a id="1485" href="Data.Maybe.Effectful.html#509" class="Generalizable">f</a><a id="1486" class="Symbol">}</a> <a id="1488" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a>
<a id="1494" href="Data.Maybe.Effectful.html#1467" class="Function">monad</a> <a id="1500" class="Symbol">=</a> <a id="1502" href="Data.Maybe.Effectful.html#1205" class="Function">monadT</a> <a id="1509" href="Function.Identity.Effectful.html#649" class="Function">Id.monad</a>

<a id="monadZero"></a><a id="1519" href="Data.Maybe.Effectful.html#1519" class="Function">monadZero</a> <a id="1529" class="Symbol">:</a> <a id="1531" href="Effect.Monad.html#632" class="Function">RawMonadZero</a> <a id="1544" class="Symbol">{</a><a id="1545" href="Data.Maybe.Effectful.html#509" class="Generalizable">f</a><a id="1546" class="Symbol">}</a> <a id="1548" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a>
<a id="1554" href="Data.Maybe.Effectful.html#1519" class="Function">monadZero</a> <a id="1564" class="Symbol">=</a> <a id="1566" class="Keyword">record</a>
  <a id="1575" class="Symbol">{</a> <a id="1577" href="Effect.Monad.Indexed.html#1557" class="Field">monad</a>           <a id="1593" class="Symbol">=</a> <a id="1595" href="Data.Maybe.Effectful.html#1467" class="Function">monad</a>
  <a id="1603" class="Symbol">;</a> <a id="1605" href="Effect.Monad.Indexed.html#1591" class="Field">applicativeZero</a> <a id="1621" class="Symbol">=</a> <a id="1623" href="Data.Maybe.Effectful.html#840" class="Function">applicativeZero</a>
  <a id="1641" class="Symbol">}</a>

<a id="monadPlus"></a><a id="1644" href="Data.Maybe.Effectful.html#1644" class="Function">monadPlus</a> <a id="1654" class="Symbol">:</a> <a id="1656" href="Effect.Monad.html#723" class="Function">RawMonadPlus</a> <a id="1669" class="Symbol">{</a><a id="1670" href="Data.Maybe.Effectful.html#509" class="Generalizable">f</a><a id="1671" class="Symbol">}</a> <a id="1673" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a>
<a id="1679" href="Data.Maybe.Effectful.html#1644" class="Function">monadPlus</a> <a id="1689" class="Symbol">{</a><a id="1690" href="Data.Maybe.Effectful.html#1690" class="Bound">f</a><a id="1691" class="Symbol">}</a> <a id="1693" class="Symbol">=</a> <a id="1695" class="Keyword">record</a>
  <a id="1704" class="Symbol">{</a> <a id="1706" href="Effect.Monad.Indexed.html#1807" class="Field">monad</a>       <a id="1718" class="Symbol">=</a> <a id="1720" href="Data.Maybe.Effectful.html#1467" class="Function">monad</a>
  <a id="1728" class="Symbol">;</a> <a id="1730" href="Effect.Monad.Indexed.html#1837" class="Field">alternative</a> <a id="1742" class="Symbol">=</a> <a id="1744" href="Data.Maybe.Effectful.html#973" class="Function">alternative</a>
  <a id="1758" class="Symbol">}</a>

<a id="1761" class="Comment">------------------------------------------------------------------------</a>
<a id="1834" class="Comment">-- Get access to other monadic functions</a>

<a id="1876" class="Keyword">module</a> <a id="TraversableA"></a><a id="1883" href="Data.Maybe.Effectful.html#1883" class="Module">TraversableA</a> <a id="1896" class="Symbol">{</a><a id="1897" href="Data.Maybe.Effectful.html#1897" class="Bound">F</a><a id="1898" class="Symbol">}</a> <a id="1900" class="Symbol">(</a><a id="1901" href="Data.Maybe.Effectful.html#1901" class="Bound">App</a> <a id="1905" class="Symbol">:</a> <a id="1907" href="Effect.Applicative.html#499" class="Function">RawApplicative</a> <a id="1922" class="Symbol">{</a><a id="1923" href="Data.Maybe.Effectful.html#509" class="Generalizable">f</a><a id="1924" class="Symbol">}</a> <a id="1926" href="Data.Maybe.Effectful.html#1897" class="Bound">F</a><a id="1927" class="Symbol">)</a> <a id="1929" class="Keyword">where</a>

  <a id="1938" class="Keyword">open</a> <a id="1943" href="Effect.Applicative.html#607" class="Module">RawApplicative</a> <a id="1958" href="Data.Maybe.Effectful.html#1901" class="Bound">App</a>

  <a id="TraversableA.sequenceA"></a><a id="1965" href="Data.Maybe.Effectful.html#1965" class="Function">sequenceA</a> <a id="1975" class="Symbol">:</a> <a id="1977" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1983" class="Symbol">(</a><a id="1984" href="Data.Maybe.Effectful.html#1897" class="Bound">F</a> <a id="1986" href="Data.Maybe.Effectful.html#525" class="Generalizable">A</a><a id="1987" class="Symbol">)</a> <a id="1989" class="Symbol">→</a> <a id="1991" href="Data.Maybe.Effectful.html#1897" class="Bound">F</a> <a id="1993" class="Symbol">(</a><a id="1994" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="2000" href="Data.Maybe.Effectful.html#525" class="Generalizable">A</a><a id="2001" class="Symbol">)</a>
  <a id="2005" href="Data.Maybe.Effectful.html#1965" class="Function">sequenceA</a> <a id="2015" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>  <a id="2024" class="Symbol">=</a> <a id="2026" href="Effect.Applicative.Indexed.html#1000" class="Field">pure</a> <a id="2031" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>
  <a id="2041" href="Data.Maybe.Effectful.html#1965" class="Function">sequenceA</a> <a id="2051" class="Symbol">(</a><a id="2052" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="2057" href="Data.Maybe.Effectful.html#2057" class="Bound">x</a><a id="2058" class="Symbol">)</a> <a id="2060" class="Symbol">=</a> <a id="2062" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="2067" href="Effect.Functor.html#607" class="Function Operator">&lt;$&gt;</a> <a id="2071" href="Data.Maybe.Effectful.html#2057" class="Bound">x</a>

  <a id="TraversableA.mapA"></a><a id="2076" href="Data.Maybe.Effectful.html#2076" class="Function">mapA</a> <a id="2081" class="Symbol">:</a> <a id="2083" class="Symbol">(</a><a id="2084" href="Data.Maybe.Effectful.html#525" class="Generalizable">A</a> <a id="2086" class="Symbol">→</a> <a id="2088" href="Data.Maybe.Effectful.html#1897" class="Bound">F</a> <a id="2090" href="Data.Maybe.Effectful.html#539" class="Generalizable">B</a><a id="2091" class="Symbol">)</a> <a id="2093" class="Symbol">→</a> <a id="2095" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="2101" href="Data.Maybe.Effectful.html#525" class="Generalizable">A</a> <a id="2103" class="Symbol">→</a> <a id="2105" href="Data.Maybe.Effectful.html#1897" class="Bound">F</a> <a id="2107" class="Symbol">(</a><a id="2108" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="2114" href="Data.Maybe.Effectful.html#539" class="Generalizable">B</a><a id="2115" class="Symbol">)</a>
  <a id="2119" href="Data.Maybe.Effectful.html#2076" class="Function">mapA</a> <a id="2124" href="Data.Maybe.Effectful.html#2124" class="Bound">f</a> <a id="2126" class="Symbol">=</a> <a id="2128" href="Data.Maybe.Effectful.html#1965" class="Function">sequenceA</a> <a id="2138" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2140" href="Data.Maybe.Base.html#2029" class="Function">map</a> <a id="2144" href="Data.Maybe.Effectful.html#2124" class="Bound">f</a>

  <a id="TraversableA.forA"></a><a id="2149" href="Data.Maybe.Effectful.html#2149" class="Function">forA</a> <a id="2154" class="Symbol">:</a> <a id="2156" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="2162" href="Data.Maybe.Effectful.html#525" class="Generalizable">A</a> <a id="2164" class="Symbol">→</a> <a id="2166" class="Symbol">(</a><a id="2167" href="Data.Maybe.Effectful.html#525" class="Generalizable">A</a> <a id="2169" class="Symbol">→</a> <a id="2171" href="Data.Maybe.Effectful.html#1897" class="Bound">F</a> <a id="2173" href="Data.Maybe.Effectful.html#539" class="Generalizable">B</a><a id="2174" class="Symbol">)</a> <a id="2176" class="Symbol">→</a> <a id="2178" href="Data.Maybe.Effectful.html#1897" class="Bound">F</a> <a id="2180" class="Symbol">(</a><a id="2181" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="2187" href="Data.Maybe.Effectful.html#539" class="Generalizable">B</a><a id="2188" class="Symbol">)</a>
  <a id="2192" href="Data.Maybe.Effectful.html#2149" class="Function">forA</a> <a id="2197" class="Symbol">=</a> <a id="2199" href="Function.Base.html#1638" class="Function">flip</a> <a id="2204" href="Data.Maybe.Effectful.html#2076" class="Function">mapA</a>

<a id="2210" class="Keyword">module</a> <a id="TraversableM"></a><a id="2217" href="Data.Maybe.Effectful.html#2217" class="Module">TraversableM</a> <a id="2230" class="Symbol">{</a><a id="2231" href="Data.Maybe.Effectful.html#2231" class="Bound">M</a><a id="2232" class="Symbol">}</a> <a id="2234" class="Symbol">(</a><a id="2235" href="Data.Maybe.Effectful.html#2235" class="Bound">Mon</a> <a id="2239" class="Symbol">:</a> <a id="2241" href="Effect.Monad.html#437" class="Function">RawMonad</a> <a id="2250" class="Symbol">{</a><a id="2251" href="Data.Maybe.Effectful.html#511" class="Generalizable">m</a><a id="2252" class="Symbol">}</a> <a id="2254" href="Data.Maybe.Effectful.html#2231" class="Bound">M</a><a id="2255" class="Symbol">)</a> <a id="2257" class="Keyword">where</a>

  <a id="2266" class="Keyword">open</a> <a id="2271" href="Effect.Monad.html#821" class="Module">RawMonad</a> <a id="2280" href="Data.Maybe.Effectful.html#2235" class="Bound">Mon</a>

  <a id="2287" class="Keyword">open</a> <a id="2292" href="Data.Maybe.Effectful.html#1883" class="Module">TraversableA</a> <a id="2305" href="Effect.Monad.Indexed.html#1151" class="Function">rawIApplicative</a> <a id="2321" class="Keyword">public</a>
    <a id="2332" class="Keyword">renaming</a>
    <a id="2345" class="Symbol">(</a> <a id="2347" href="Data.Maybe.Effectful.html#1965" class="Function">sequenceA</a> <a id="2357" class="Symbol">to</a> <a id="2360" class="Function">sequenceM</a>
    <a id="2374" class="Symbol">;</a> <a id="2376" href="Data.Maybe.Effectful.html#2076" class="Function">mapA</a>      <a id="2386" class="Symbol">to</a> <a id="2389" class="Function">mapM</a>
    <a id="2398" class="Symbol">;</a> <a id="2400" href="Data.Maybe.Effectful.html#2149" class="Function">forA</a>      <a id="2410" class="Symbol">to</a> <a id="2413" class="Function">forM</a>
    <a id="2422" class="Symbol">)</a>
</pre></body></html>