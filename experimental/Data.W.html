<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.W</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- W-types</a>
<a id="117" class="Comment">------------------------------------------------------------------------</a>

<a id="191" class="Symbol">{-#</a> <a id="195" class="Keyword">OPTIONS</a> <a id="203" class="Pragma">--cubical-compatible</a> <a id="224" class="Pragma">--safe</a> <a id="231" class="Symbol">#-}</a>

<a id="236" class="Keyword">module</a> <a id="243" href="Data.W.html" class="Module">Data.W</a> <a id="250" class="Keyword">where</a>

<a id="257" class="Keyword">open</a> <a id="262" class="Keyword">import</a> <a id="269" href="Level.html" class="Module">Level</a>
<a id="275" class="Keyword">open</a> <a id="280" class="Keyword">import</a> <a id="287" href="Function.Base.html" class="Module">Function.Base</a> <a id="301" class="Keyword">using</a> <a id="307" class="Symbol">(</a><a id="308" href="Function.Base.html#2003" class="Function Operator">_$_</a><a id="311" class="Symbol">;</a> <a id="313" href="Function.Base.html#1115" class="Function Operator">_∘_</a><a id="316" class="Symbol">;</a> <a id="318" href="Function.Base.html#725" class="Function">const</a><a id="323" class="Symbol">)</a>
<a id="325" class="Keyword">open</a> <a id="330" class="Keyword">import</a> <a id="337" href="Data.Product.html" class="Module">Data.Product</a> <a id="350" class="Keyword">using</a> <a id="356" class="Symbol">(</a><a id="357" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a><a id="360" class="Symbol">;</a> <a id="362" href="Data.Product.html#2256" class="Function Operator">-,_</a><a id="365" class="Symbol">;</a> <a id="367" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="372" class="Symbol">)</a>
<a id="374" class="Keyword">open</a> <a id="379" class="Keyword">import</a> <a id="386" href="Data.Container.Core.html" class="Module">Data.Container.Core</a> <a id="406" class="Keyword">using</a> <a id="412" class="Symbol">(</a><a id="413" href="Data.Container.Core.html#567" class="Record">Container</a><a id="422" class="Symbol">;</a> <a id="424" href="Data.Container.Core.html#764" class="Function Operator">⟦_⟧</a><a id="427" class="Symbol">;</a> <a id="429" href="Data.Container.Core.html#647" class="Field">Shape</a><a id="434" class="Symbol">;</a> <a id="436" href="Data.Container.Core.html#668" class="Field">Position</a><a id="444" class="Symbol">;</a> <a id="446" href="Data.Container.Core.html#1063" class="Record Operator">_⇒_</a><a id="449" class="Symbol">;</a> <a id="451" href="Data.Container.Core.html#1295" class="Function Operator">⟪_⟫</a><a id="454" class="Symbol">)</a>
<a id="456" class="Keyword">open</a> <a id="461" class="Keyword">import</a> <a id="468" href="Data.Container.Relation.Unary.All.html" class="Module">Data.Container.Relation.Unary.All</a> <a id="502" class="Keyword">using</a> <a id="508" class="Symbol">(</a><a id="509" href="Data.Container.Relation.Unary.All.html#552" class="Record">□</a><a id="510" class="Symbol">;</a> <a id="512" href="Data.Container.Relation.Unary.All.html#671" class="InductiveConstructor">all</a><a id="515" class="Symbol">)</a>
<a id="517" class="Keyword">open</a> <a id="522" class="Keyword">import</a> <a id="529" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="546" class="Keyword">using</a> <a id="552" class="Symbol">(</a><a id="553" href="Relation.Nullary.html#665" class="Function Operator">¬_</a><a id="555" class="Symbol">)</a>
<a id="557" class="Keyword">open</a> <a id="562" class="Keyword">import</a> <a id="569" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a> <a id="591" class="Keyword">using</a> <a id="597" class="Symbol">(</a><a id="598" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="601" class="Symbol">;</a> <a id="603" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="607" class="Symbol">)</a>

<a id="610" class="Keyword">private</a>
  <a id="620" class="Keyword">variable</a>
    <a id="633" href="Data.W.html#633" class="Generalizable">s</a> <a id="635" href="Data.W.html#635" class="Generalizable">p</a> <a id="637" href="Data.W.html#637" class="Generalizable">s₁</a> <a id="640" href="Data.W.html#640" class="Generalizable">s₂</a> <a id="643" href="Data.W.html#643" class="Generalizable">p₁</a> <a id="646" href="Data.W.html#646" class="Generalizable">p₂</a> <a id="649" href="Data.W.html#649" class="Generalizable">ℓ</a> <a id="651" class="Symbol">:</a> <a id="653" href="Agda.Primitive.html#591" class="Postulate">Level</a>
    <a id="663" href="Data.W.html#663" class="Generalizable">C</a> <a id="665" class="Symbol">:</a> <a id="667" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="677" href="Data.W.html#633" class="Generalizable">s</a> <a id="679" href="Data.W.html#635" class="Generalizable">p</a>
    <a id="685" href="Data.W.html#685" class="Generalizable">C₁</a> <a id="688" class="Symbol">:</a> <a id="690" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="700" href="Data.W.html#637" class="Generalizable">s₁</a> <a id="703" href="Data.W.html#643" class="Generalizable">p₁</a>
    <a id="710" href="Data.W.html#710" class="Generalizable">C₂</a> <a id="713" class="Symbol">:</a> <a id="715" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="725" href="Data.W.html#640" class="Generalizable">s₂</a> <a id="728" href="Data.W.html#646" class="Generalizable">p₂</a>

<a id="732" class="Comment">-- The family of W-types.</a>

<a id="759" class="Keyword">data</a> <a id="W"></a><a id="764" href="Data.W.html#764" class="Datatype">W</a> <a id="766" class="Symbol">(</a><a id="767" href="Data.W.html#767" class="Bound">C</a> <a id="769" class="Symbol">:</a> <a id="771" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="781" href="Data.W.html#633" class="Generalizable">s</a> <a id="783" href="Data.W.html#635" class="Generalizable">p</a><a id="784" class="Symbol">)</a> <a id="786" class="Symbol">:</a> <a id="788" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="792" class="Symbol">(</a><a id="793" href="Data.W.html#781" class="Bound">s</a> <a id="795" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="797" href="Data.W.html#783" class="Bound">p</a><a id="798" class="Symbol">)</a> <a id="800" class="Keyword">where</a>
  <a id="W.sup"></a><a id="808" href="Data.W.html#808" class="InductiveConstructor">sup</a> <a id="812" class="Symbol">:</a> <a id="814" href="Data.Container.Core.html#764" class="Function Operator">⟦</a> <a id="816" href="Data.W.html#767" class="Bound">C</a> <a id="818" href="Data.Container.Core.html#764" class="Function Operator">⟧</a> <a id="820" class="Symbol">(</a><a id="821" href="Data.W.html#764" class="Datatype">W</a> <a id="823" href="Data.W.html#767" class="Bound">C</a><a id="824" class="Symbol">)</a> <a id="826" class="Symbol">→</a> <a id="828" href="Data.W.html#764" class="Datatype">W</a> <a id="830" href="Data.W.html#767" class="Bound">C</a>

<a id="sup-injective₁"></a><a id="833" href="Data.W.html#833" class="Function">sup-injective₁</a> <a id="848" class="Symbol">:</a> <a id="850" class="Symbol">∀</a> <a id="852" class="Symbol">{</a><a id="853" href="Data.W.html#853" class="Bound">s</a> <a id="855" href="Data.W.html#855" class="Bound">t</a> <a id="857" class="Symbol">:</a> <a id="859" href="Data.Container.Core.html#647" class="Field">Shape</a> <a id="865" href="Data.W.html#663" class="Generalizable">C</a><a id="866" class="Symbol">}</a> <a id="868" class="Symbol">{</a><a id="869" href="Data.W.html#869" class="Bound">f</a> <a id="871" class="Symbol">:</a> <a id="873" href="Data.Container.Core.html#668" class="Field">Position</a> <a id="882" href="Data.W.html#663" class="Generalizable">C</a> <a id="884" href="Data.W.html#853" class="Bound">s</a> <a id="886" class="Symbol">→</a> <a id="888" href="Data.W.html#764" class="Datatype">W</a> <a id="890" href="Data.W.html#663" class="Generalizable">C</a><a id="891" class="Symbol">}</a> <a id="893" class="Symbol">{</a><a id="894" href="Data.W.html#894" class="Bound">g</a><a id="895" class="Symbol">}</a> <a id="897" class="Symbol">→</a>
                 <a id="916" href="Data.W.html#808" class="InductiveConstructor">sup</a> <a id="920" class="Symbol">(</a><a id="921" href="Data.W.html#853" class="Bound">s</a> <a id="923" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="925" href="Data.W.html#869" class="Bound">f</a><a id="926" class="Symbol">)</a> <a id="928" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="930" href="Data.W.html#808" class="InductiveConstructor">sup</a> <a id="934" class="Symbol">(</a><a id="935" href="Data.W.html#855" class="Bound">t</a> <a id="937" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="939" href="Data.W.html#894" class="Bound">g</a><a id="940" class="Symbol">)</a> <a id="942" class="Symbol">→</a> <a id="944" href="Data.W.html#853" class="Bound">s</a> <a id="946" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="948" href="Data.W.html#855" class="Bound">t</a>
<a id="950" href="Data.W.html#833" class="Function">sup-injective₁</a> <a id="965" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="970" class="Symbol">=</a> <a id="972" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="978" class="Comment">-- See also Data.W.WithK.sup-injective₂.</a>

<a id="1020" class="Comment">-- Projections.</a>

<a id="head"></a><a id="1037" href="Data.W.html#1037" class="Function">head</a> <a id="1042" class="Symbol">:</a> <a id="1044" href="Data.W.html#764" class="Datatype">W</a> <a id="1046" href="Data.W.html#663" class="Generalizable">C</a> <a id="1048" class="Symbol">→</a> <a id="1050" href="Data.Container.Core.html#647" class="Field">Shape</a> <a id="1056" href="Data.W.html#663" class="Generalizable">C</a>
<a id="1058" href="Data.W.html#1037" class="Function">head</a> <a id="1063" class="Symbol">(</a><a id="1064" href="Data.W.html#808" class="InductiveConstructor">sup</a> <a id="1068" class="Symbol">(</a><a id="1069" href="Data.W.html#1069" class="Bound">x</a> <a id="1071" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1073" href="Data.W.html#1073" class="Bound">f</a><a id="1074" class="Symbol">))</a> <a id="1077" class="Symbol">=</a> <a id="1079" href="Data.W.html#1069" class="Bound">x</a>

<a id="tail"></a><a id="1082" href="Data.W.html#1082" class="Function">tail</a> <a id="1087" class="Symbol">:</a> <a id="1089" class="Symbol">(</a><a id="1090" href="Data.W.html#1090" class="Bound">x</a> <a id="1092" class="Symbol">:</a> <a id="1094" href="Data.W.html#764" class="Datatype">W</a> <a id="1096" href="Data.W.html#663" class="Generalizable">C</a><a id="1097" class="Symbol">)</a> <a id="1099" class="Symbol">→</a> <a id="1101" href="Data.Container.Core.html#668" class="Field">Position</a> <a id="1110" href="Data.W.html#663" class="Generalizable">C</a> <a id="1112" class="Symbol">(</a><a id="1113" href="Data.W.html#1037" class="Function">head</a> <a id="1118" href="Data.W.html#1090" class="Bound">x</a><a id="1119" class="Symbol">)</a> <a id="1121" class="Symbol">→</a> <a id="1123" href="Data.W.html#764" class="Datatype">W</a> <a id="1125" href="Data.W.html#663" class="Generalizable">C</a>
<a id="1127" href="Data.W.html#1082" class="Function">tail</a> <a id="1132" class="Symbol">(</a><a id="1133" href="Data.W.html#808" class="InductiveConstructor">sup</a> <a id="1137" class="Symbol">(</a><a id="1138" href="Data.W.html#1138" class="Bound">x</a> <a id="1140" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1142" href="Data.W.html#1142" class="Bound">f</a><a id="1143" class="Symbol">))</a> <a id="1146" class="Symbol">=</a> <a id="1148" href="Data.W.html#1142" class="Bound">f</a>

<a id="1151" class="Comment">-- map</a>

<a id="map"></a><a id="1159" href="Data.W.html#1159" class="Function">map</a> <a id="1163" class="Symbol">:</a> <a id="1165" class="Symbol">(</a><a id="1166" href="Data.W.html#1166" class="Bound">m</a> <a id="1168" class="Symbol">:</a> <a id="1170" href="Data.W.html#685" class="Generalizable">C₁</a> <a id="1173" href="Data.Container.Core.html#1063" class="Record Operator">⇒</a> <a id="1175" href="Data.W.html#710" class="Generalizable">C₂</a><a id="1177" class="Symbol">)</a> <a id="1179" class="Symbol">→</a> <a id="1181" href="Data.W.html#764" class="Datatype">W</a> <a id="1183" href="Data.W.html#685" class="Generalizable">C₁</a> <a id="1186" class="Symbol">→</a> <a id="1188" href="Data.W.html#764" class="Datatype">W</a> <a id="1190" href="Data.W.html#710" class="Generalizable">C₂</a>
<a id="1193" href="Data.W.html#1159" class="Function">map</a> <a id="1197" href="Data.W.html#1197" class="Bound">m</a> <a id="1199" class="Symbol">(</a><a id="1200" href="Data.W.html#808" class="InductiveConstructor">sup</a> <a id="1204" class="Symbol">(</a><a id="1205" href="Data.W.html#1205" class="Bound">x</a> <a id="1207" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1209" href="Data.W.html#1209" class="Bound">f</a><a id="1210" class="Symbol">))</a> <a id="1213" class="Symbol">=</a> <a id="1215" href="Data.W.html#808" class="InductiveConstructor">sup</a> <a id="1219" class="Symbol">(</a><a id="1220" href="Data.Container.Core.html#1295" class="Function Operator">⟪</a> <a id="1222" href="Data.W.html#1197" class="Bound">m</a> <a id="1224" href="Data.Container.Core.html#1295" class="Function Operator">⟫</a> <a id="1226" class="Symbol">(</a><a id="1227" href="Data.W.html#1205" class="Bound">x</a> <a id="1229" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1231" class="Symbol">λ</a> <a id="1233" href="Data.W.html#1233" class="Bound">p</a> <a id="1235" class="Symbol">→</a> <a id="1237" href="Data.W.html#1159" class="Function">map</a> <a id="1241" href="Data.W.html#1197" class="Bound">m</a> <a id="1243" class="Symbol">(</a><a id="1244" href="Data.W.html#1209" class="Bound">f</a> <a id="1246" href="Data.W.html#1233" class="Bound">p</a><a id="1247" class="Symbol">)))</a>

<a id="1252" class="Comment">-- induction</a>

<a id="1266" class="Keyword">module</a> <a id="1273" href="Data.W.html#1273" class="Module">_</a> <a id="1275" class="Symbol">(</a><a id="1276" href="Data.W.html#1276" class="Bound">P</a> <a id="1278" class="Symbol">:</a> <a id="1280" href="Data.W.html#764" class="Datatype">W</a> <a id="1282" href="Data.W.html#663" class="Generalizable">C</a> <a id="1284" class="Symbol">→</a> <a id="1286" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1290" href="Data.W.html#649" class="Generalizable">ℓ</a><a id="1291" class="Symbol">)</a>
         <a id="1302" class="Symbol">(</a><a id="1303" href="Data.W.html#1303" class="Bound">alg</a> <a id="1307" class="Symbol">:</a> <a id="1309" class="Symbol">∀</a> <a id="1311" class="Symbol">{</a><a id="1312" href="Data.W.html#1312" class="Bound">t</a><a id="1313" class="Symbol">}</a> <a id="1315" class="Symbol">→</a> <a id="1317" href="Data.Container.Relation.Unary.All.html#552" class="Record">□</a> <a id="1319" href="Data.W.html#663" class="Generalizable">C</a> <a id="1321" href="Data.W.html#1276" class="Bound">P</a> <a id="1323" href="Data.W.html#1312" class="Bound">t</a> <a id="1325" class="Symbol">→</a> <a id="1327" href="Data.W.html#1276" class="Bound">P</a> <a id="1329" class="Symbol">(</a><a id="1330" href="Data.W.html#808" class="InductiveConstructor">sup</a> <a id="1334" href="Data.W.html#1312" class="Bound">t</a><a id="1335" class="Symbol">))</a> <a id="1338" class="Keyword">where</a>

 <a id="1346" href="Data.W.html#1346" class="Function">induction</a> <a id="1356" class="Symbol">:</a> <a id="1358" class="Symbol">(</a><a id="1359" href="Data.W.html#1359" class="Bound">w</a> <a id="1361" class="Symbol">:</a> <a id="1363" href="Data.W.html#764" class="Datatype">W</a> <a id="1365" href="Data.W.html#1282" class="Bound">C</a><a id="1366" class="Symbol">)</a> <a id="1368" class="Symbol">→</a> <a id="1370" href="Data.W.html#1276" class="Bound">P</a> <a id="1372" href="Data.W.html#1359" class="Bound">w</a>
 <a id="1375" href="Data.W.html#1346" class="Function">induction</a> <a id="1385" class="Symbol">(</a><a id="1386" href="Data.W.html#808" class="InductiveConstructor">sup</a> <a id="1390" class="Symbol">(</a><a id="1391" href="Data.W.html#1391" class="Bound">s</a> <a id="1393" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1395" href="Data.W.html#1395" class="Bound">f</a><a id="1396" class="Symbol">))</a> <a id="1399" class="Symbol">=</a> <a id="1401" href="Data.W.html#1303" class="Bound">alg</a> <a id="1405" href="Function.Base.html#2003" class="Function Operator">$</a> <a id="1407" href="Data.Container.Relation.Unary.All.html#671" class="InductiveConstructor">all</a> <a id="1411" class="Symbol">(</a><a id="1412" href="Data.W.html#1346" class="Function">induction</a> <a id="1422" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1424" href="Data.W.html#1395" class="Bound">f</a><a id="1425" class="Symbol">)</a>

<a id="1428" class="Keyword">module</a> <a id="1435" href="Data.W.html#1435" class="Module">_</a> <a id="1437" class="Symbol">{</a><a id="1438" href="Data.W.html#1438" class="Bound">P</a> <a id="1440" class="Symbol">:</a> <a id="1442" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1446" href="Data.W.html#649" class="Generalizable">ℓ</a><a id="1447" class="Symbol">}</a> <a id="1449" class="Symbol">(</a><a id="1450" href="Data.W.html#1450" class="Bound">alg</a> <a id="1454" class="Symbol">:</a> <a id="1456" href="Data.Container.Core.html#764" class="Function Operator">⟦</a> <a id="1458" href="Data.W.html#663" class="Generalizable">C</a> <a id="1460" href="Data.Container.Core.html#764" class="Function Operator">⟧</a> <a id="1462" href="Data.W.html#1438" class="Bound">P</a> <a id="1464" class="Symbol">→</a> <a id="1466" href="Data.W.html#1438" class="Bound">P</a><a id="1467" class="Symbol">)</a> <a id="1469" class="Keyword">where</a>

 <a id="1477" href="Data.W.html#1477" class="Function">foldr</a> <a id="1483" class="Symbol">:</a> <a id="1485" href="Data.W.html#764" class="Datatype">W</a> <a id="1487" href="Data.W.html#1458" class="Bound">C</a> <a id="1489" class="Symbol">→</a> <a id="1491" href="Data.W.html#1438" class="Bound">P</a>
 <a id="1494" href="Data.W.html#1477" class="Function">foldr</a> <a id="1500" class="Symbol">=</a> <a id="1502" href="Data.W.html#1346" class="Function">induction</a> <a id="1512" class="Symbol">(</a><a id="1513" href="Function.Base.html#725" class="Function">const</a> <a id="1519" href="Data.W.html#1438" class="Bound">P</a><a id="1520" class="Symbol">)</a> <a id="1522" class="Symbol">(</a><a id="1523" href="Data.W.html#1450" class="Bound">alg</a> <a id="1527" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1529" href="Data.Product.html#2256" class="Function Operator">-,_</a> <a id="1533" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1535" href="Data.Container.Relation.Unary.All.html#683" class="Field">□.proof</a><a id="1542" class="Symbol">)</a>

<a id="1545" class="Comment">-- If Position is always inhabited, then W_C is empty.</a>

<a id="inhabited⇒empty"></a><a id="1601" href="Data.W.html#1601" class="Function">inhabited⇒empty</a> <a id="1617" class="Symbol">:</a> <a id="1619" class="Symbol">(∀</a> <a id="1622" href="Data.W.html#1622" class="Bound">s</a> <a id="1624" class="Symbol">→</a> <a id="1626" href="Data.Container.Core.html#668" class="Field">Position</a> <a id="1635" href="Data.W.html#663" class="Generalizable">C</a> <a id="1637" href="Data.W.html#1622" class="Bound">s</a><a id="1638" class="Symbol">)</a> <a id="1640" class="Symbol">→</a> <a id="1642" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="1644" href="Data.W.html#764" class="Datatype">W</a> <a id="1646" href="Data.W.html#663" class="Generalizable">C</a>
<a id="1648" href="Data.W.html#1601" class="Function">inhabited⇒empty</a> <a id="1664" href="Data.W.html#1664" class="Bound">b</a> <a id="1666" class="Symbol">=</a> <a id="1668" href="Data.W.html#1477" class="Function">foldr</a> <a id="1674" class="Symbol">((</a><a id="1676" href="Function.Base.html#2003" class="Function Operator">_$</a> <a id="1679" href="Data.W.html#1664" class="Bound">b</a> <a id="1681" class="Symbol">_)</a> <a id="1684" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1686" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="1691" class="Symbol">)</a>
</pre></body></html>