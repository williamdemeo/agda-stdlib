<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.W</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- W-types</a>
<a id="117" class="Comment">------------------------------------------------------------------------</a>

<a id="191" class="Symbol">{-#</a> <a id="195" class="Keyword">OPTIONS</a> <a id="203" class="Pragma">--without-K</a> <a id="215" class="Pragma">--safe</a> <a id="222" class="Symbol">#-}</a>

<a id="227" class="Keyword">module</a> <a id="234" href="Data.W.html" class="Module">Data.W</a> <a id="241" class="Keyword">where</a>

<a id="248" class="Keyword">open</a> <a id="253" class="Keyword">import</a> <a id="260" href="Level.html" class="Module">Level</a>
<a id="266" class="Keyword">open</a> <a id="271" class="Keyword">import</a> <a id="278" href="Function.Base.html" class="Module">Function.Base</a> <a id="292" class="Keyword">using</a> <a id="298" class="Symbol">(</a><a id="299" href="Function.Base.html#1919" class="Function Operator">_$_</a><a id="302" class="Symbol">;</a> <a id="304" href="Function.Base.html#1031" class="Function Operator">_∘_</a><a id="307" class="Symbol">;</a> <a id="309" href="Function.Base.html#636" class="Function">const</a><a id="314" class="Symbol">)</a>
<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Data.Product.html" class="Module">Data.Product</a> <a id="341" class="Keyword">using</a> <a id="347" class="Symbol">(</a><a id="348" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="351" class="Symbol">;</a> <a id="353" href="Data.Product.html#2247" class="Function Operator">-,_</a><a id="356" class="Symbol">;</a> <a id="358" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="363" class="Symbol">)</a>
<a id="365" class="Keyword">open</a> <a id="370" class="Keyword">import</a> <a id="377" href="Data.Container.Core.html" class="Module">Data.Container.Core</a> <a id="397" class="Keyword">using</a> <a id="403" class="Symbol">(</a><a id="404" href="Data.Container.Core.html#558" class="Record">Container</a><a id="413" class="Symbol">;</a> <a id="415" href="Data.Container.Core.html#755" class="Function Operator">⟦_⟧</a><a id="418" class="Symbol">;</a> <a id="420" href="Data.Container.Core.html#638" class="Field">Shape</a><a id="425" class="Symbol">;</a> <a id="427" href="Data.Container.Core.html#659" class="Field">Position</a><a id="435" class="Symbol">;</a> <a id="437" href="Data.Container.Core.html#1054" class="Record Operator">_⇒_</a><a id="440" class="Symbol">;</a> <a id="442" href="Data.Container.Core.html#1286" class="Function Operator">⟪_⟫</a><a id="445" class="Symbol">)</a>
<a id="447" class="Keyword">open</a> <a id="452" class="Keyword">import</a> <a id="459" href="Data.Container.Relation.Unary.All.html" class="Module">Data.Container.Relation.Unary.All</a> <a id="493" class="Keyword">using</a> <a id="499" class="Symbol">(</a><a id="500" href="Data.Container.Relation.Unary.All.html#543" class="Record">□</a><a id="501" class="Symbol">;</a> <a id="503" href="Data.Container.Relation.Unary.All.html#662" class="InductiveConstructor">all</a><a id="506" class="Symbol">)</a>
<a id="508" class="Keyword">open</a> <a id="513" class="Keyword">import</a> <a id="520" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="537" class="Keyword">using</a> <a id="543" class="Symbol">(</a><a id="544" href="Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="546" class="Symbol">)</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a> <a id="582" class="Keyword">using</a> <a id="588" class="Symbol">(</a><a id="589" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="592" class="Symbol">;</a> <a id="594" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="598" class="Symbol">)</a>

<a id="601" class="Keyword">private</a>
  <a id="611" class="Keyword">variable</a>
    <a id="624" href="Data.W.html#624" class="Generalizable">s</a> <a id="626" href="Data.W.html#626" class="Generalizable">p</a> <a id="628" href="Data.W.html#628" class="Generalizable">s₁</a> <a id="631" href="Data.W.html#631" class="Generalizable">s₂</a> <a id="634" href="Data.W.html#634" class="Generalizable">p₁</a> <a id="637" href="Data.W.html#637" class="Generalizable">p₂</a> <a id="640" href="Data.W.html#640" class="Generalizable">ℓ</a> <a id="642" class="Symbol">:</a> <a id="644" href="Agda.Primitive.html#597" class="Postulate">Level</a>
    <a id="654" href="Data.W.html#654" class="Generalizable">C</a> <a id="656" class="Symbol">:</a> <a id="658" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="668" href="Data.W.html#624" class="Generalizable">s</a> <a id="670" href="Data.W.html#626" class="Generalizable">p</a>
    <a id="676" href="Data.W.html#676" class="Generalizable">C₁</a> <a id="679" class="Symbol">:</a> <a id="681" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="691" href="Data.W.html#628" class="Generalizable">s₁</a> <a id="694" href="Data.W.html#634" class="Generalizable">p₁</a>
    <a id="701" href="Data.W.html#701" class="Generalizable">C₂</a> <a id="704" class="Symbol">:</a> <a id="706" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="716" href="Data.W.html#631" class="Generalizable">s₂</a> <a id="719" href="Data.W.html#637" class="Generalizable">p₂</a>

<a id="723" class="Comment">-- The family of W-types.</a>

<a id="750" class="Keyword">data</a> <a id="W"></a><a id="755" href="Data.W.html#755" class="Datatype">W</a> <a id="757" class="Symbol">(</a><a id="758" href="Data.W.html#758" class="Bound">C</a> <a id="760" class="Symbol">:</a> <a id="762" href="Data.Container.Core.html#558" class="Record">Container</a> <a id="772" href="Data.W.html#624" class="Generalizable">s</a> <a id="774" href="Data.W.html#626" class="Generalizable">p</a><a id="775" class="Symbol">)</a> <a id="777" class="Symbol">:</a> <a id="779" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="783" class="Symbol">(</a><a id="784" href="Data.W.html#772" class="Bound">s</a> <a id="786" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="788" href="Data.W.html#774" class="Bound">p</a><a id="789" class="Symbol">)</a> <a id="791" class="Keyword">where</a>
  <a id="W.sup"></a><a id="799" href="Data.W.html#799" class="InductiveConstructor">sup</a> <a id="803" class="Symbol">:</a> <a id="805" href="Data.Container.Core.html#755" class="Function Operator">⟦</a> <a id="807" href="Data.W.html#758" class="Bound">C</a> <a id="809" href="Data.Container.Core.html#755" class="Function Operator">⟧</a> <a id="811" class="Symbol">(</a><a id="812" href="Data.W.html#755" class="Datatype">W</a> <a id="814" href="Data.W.html#758" class="Bound">C</a><a id="815" class="Symbol">)</a> <a id="817" class="Symbol">→</a> <a id="819" href="Data.W.html#755" class="Datatype">W</a> <a id="821" href="Data.W.html#758" class="Bound">C</a>

<a id="sup-injective₁"></a><a id="824" href="Data.W.html#824" class="Function">sup-injective₁</a> <a id="839" class="Symbol">:</a> <a id="841" class="Symbol">∀</a> <a id="843" class="Symbol">{</a><a id="844" href="Data.W.html#844" class="Bound">s</a> <a id="846" href="Data.W.html#846" class="Bound">t</a> <a id="848" class="Symbol">:</a> <a id="850" href="Data.Container.Core.html#638" class="Field">Shape</a> <a id="856" href="Data.W.html#654" class="Generalizable">C</a><a id="857" class="Symbol">}</a> <a id="859" class="Symbol">{</a><a id="860" href="Data.W.html#860" class="Bound">f</a> <a id="862" class="Symbol">:</a> <a id="864" href="Data.Container.Core.html#659" class="Field">Position</a> <a id="873" href="Data.W.html#654" class="Generalizable">C</a> <a id="875" href="Data.W.html#844" class="Bound">s</a> <a id="877" class="Symbol">→</a> <a id="879" href="Data.W.html#755" class="Datatype">W</a> <a id="881" href="Data.W.html#654" class="Generalizable">C</a><a id="882" class="Symbol">}</a> <a id="884" class="Symbol">{</a><a id="885" href="Data.W.html#885" class="Bound">g</a><a id="886" class="Symbol">}</a> <a id="888" class="Symbol">→</a>
                 <a id="907" href="Data.W.html#799" class="InductiveConstructor">sup</a> <a id="911" class="Symbol">(</a><a id="912" href="Data.W.html#844" class="Bound">s</a> <a id="914" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="916" href="Data.W.html#860" class="Bound">f</a><a id="917" class="Symbol">)</a> <a id="919" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="921" href="Data.W.html#799" class="InductiveConstructor">sup</a> <a id="925" class="Symbol">(</a><a id="926" href="Data.W.html#846" class="Bound">t</a> <a id="928" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="930" href="Data.W.html#885" class="Bound">g</a><a id="931" class="Symbol">)</a> <a id="933" class="Symbol">→</a> <a id="935" href="Data.W.html#844" class="Bound">s</a> <a id="937" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="939" href="Data.W.html#846" class="Bound">t</a>
<a id="941" href="Data.W.html#824" class="Function">sup-injective₁</a> <a id="956" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="961" class="Symbol">=</a> <a id="963" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="969" class="Comment">-- See also Data.W.WithK.sup-injective₂.</a>

<a id="1011" class="Comment">-- Projections.</a>

<a id="head"></a><a id="1028" href="Data.W.html#1028" class="Function">head</a> <a id="1033" class="Symbol">:</a> <a id="1035" href="Data.W.html#755" class="Datatype">W</a> <a id="1037" href="Data.W.html#654" class="Generalizable">C</a> <a id="1039" class="Symbol">→</a> <a id="1041" href="Data.Container.Core.html#638" class="Field">Shape</a> <a id="1047" href="Data.W.html#654" class="Generalizable">C</a>
<a id="1049" href="Data.W.html#1028" class="Function">head</a> <a id="1054" class="Symbol">(</a><a id="1055" href="Data.W.html#799" class="InductiveConstructor">sup</a> <a id="1059" class="Symbol">(</a><a id="1060" href="Data.W.html#1060" class="Bound">x</a> <a id="1062" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1064" href="Data.W.html#1064" class="Bound">f</a><a id="1065" class="Symbol">))</a> <a id="1068" class="Symbol">=</a> <a id="1070" href="Data.W.html#1060" class="Bound">x</a>

<a id="tail"></a><a id="1073" href="Data.W.html#1073" class="Function">tail</a> <a id="1078" class="Symbol">:</a> <a id="1080" class="Symbol">(</a><a id="1081" href="Data.W.html#1081" class="Bound">x</a> <a id="1083" class="Symbol">:</a> <a id="1085" href="Data.W.html#755" class="Datatype">W</a> <a id="1087" href="Data.W.html#654" class="Generalizable">C</a><a id="1088" class="Symbol">)</a> <a id="1090" class="Symbol">→</a> <a id="1092" href="Data.Container.Core.html#659" class="Field">Position</a> <a id="1101" href="Data.W.html#654" class="Generalizable">C</a> <a id="1103" class="Symbol">(</a><a id="1104" href="Data.W.html#1028" class="Function">head</a> <a id="1109" href="Data.W.html#1081" class="Bound">x</a><a id="1110" class="Symbol">)</a> <a id="1112" class="Symbol">→</a> <a id="1114" href="Data.W.html#755" class="Datatype">W</a> <a id="1116" href="Data.W.html#654" class="Generalizable">C</a>
<a id="1118" href="Data.W.html#1073" class="Function">tail</a> <a id="1123" class="Symbol">(</a><a id="1124" href="Data.W.html#799" class="InductiveConstructor">sup</a> <a id="1128" class="Symbol">(</a><a id="1129" href="Data.W.html#1129" class="Bound">x</a> <a id="1131" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1133" href="Data.W.html#1133" class="Bound">f</a><a id="1134" class="Symbol">))</a> <a id="1137" class="Symbol">=</a> <a id="1139" href="Data.W.html#1133" class="Bound">f</a>

<a id="1142" class="Comment">-- map</a>

<a id="map"></a><a id="1150" href="Data.W.html#1150" class="Function">map</a> <a id="1154" class="Symbol">:</a> <a id="1156" class="Symbol">(</a><a id="1157" href="Data.W.html#1157" class="Bound">m</a> <a id="1159" class="Symbol">:</a> <a id="1161" href="Data.W.html#676" class="Generalizable">C₁</a> <a id="1164" href="Data.Container.Core.html#1054" class="Record Operator">⇒</a> <a id="1166" href="Data.W.html#701" class="Generalizable">C₂</a><a id="1168" class="Symbol">)</a> <a id="1170" class="Symbol">→</a> <a id="1172" href="Data.W.html#755" class="Datatype">W</a> <a id="1174" href="Data.W.html#676" class="Generalizable">C₁</a> <a id="1177" class="Symbol">→</a> <a id="1179" href="Data.W.html#755" class="Datatype">W</a> <a id="1181" href="Data.W.html#701" class="Generalizable">C₂</a>
<a id="1184" href="Data.W.html#1150" class="Function">map</a> <a id="1188" href="Data.W.html#1188" class="Bound">m</a> <a id="1190" class="Symbol">(</a><a id="1191" href="Data.W.html#799" class="InductiveConstructor">sup</a> <a id="1195" class="Symbol">(</a><a id="1196" href="Data.W.html#1196" class="Bound">x</a> <a id="1198" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1200" href="Data.W.html#1200" class="Bound">f</a><a id="1201" class="Symbol">))</a> <a id="1204" class="Symbol">=</a> <a id="1206" href="Data.W.html#799" class="InductiveConstructor">sup</a> <a id="1210" class="Symbol">(</a><a id="1211" href="Data.Container.Core.html#1286" class="Function Operator">⟪</a> <a id="1213" href="Data.W.html#1188" class="Bound">m</a> <a id="1215" href="Data.Container.Core.html#1286" class="Function Operator">⟫</a> <a id="1217" class="Symbol">(</a><a id="1218" href="Data.W.html#1196" class="Bound">x</a> <a id="1220" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1222" class="Symbol">λ</a> <a id="1224" href="Data.W.html#1224" class="Bound">p</a> <a id="1226" class="Symbol">→</a> <a id="1228" href="Data.W.html#1150" class="Function">map</a> <a id="1232" href="Data.W.html#1188" class="Bound">m</a> <a id="1234" class="Symbol">(</a><a id="1235" href="Data.W.html#1200" class="Bound">f</a> <a id="1237" href="Data.W.html#1224" class="Bound">p</a><a id="1238" class="Symbol">)))</a>

<a id="1243" class="Comment">-- induction</a>

<a id="1257" class="Keyword">module</a> <a id="1264" href="Data.W.html#1264" class="Module">_</a> <a id="1266" class="Symbol">(</a><a id="1267" href="Data.W.html#1267" class="Bound">P</a> <a id="1269" class="Symbol">:</a> <a id="1271" href="Data.W.html#755" class="Datatype">W</a> <a id="1273" href="Data.W.html#654" class="Generalizable">C</a> <a id="1275" class="Symbol">→</a> <a id="1277" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1281" href="Data.W.html#640" class="Generalizable">ℓ</a><a id="1282" class="Symbol">)</a>
         <a id="1293" class="Symbol">(</a><a id="1294" href="Data.W.html#1294" class="Bound">alg</a> <a id="1298" class="Symbol">:</a> <a id="1300" class="Symbol">∀</a> <a id="1302" class="Symbol">{</a><a id="1303" href="Data.W.html#1303" class="Bound">t</a><a id="1304" class="Symbol">}</a> <a id="1306" class="Symbol">→</a> <a id="1308" href="Data.Container.Relation.Unary.All.html#543" class="Record">□</a> <a id="1310" href="Data.W.html#654" class="Generalizable">C</a> <a id="1312" href="Data.W.html#1267" class="Bound">P</a> <a id="1314" href="Data.W.html#1303" class="Bound">t</a> <a id="1316" class="Symbol">→</a> <a id="1318" href="Data.W.html#1267" class="Bound">P</a> <a id="1320" class="Symbol">(</a><a id="1321" href="Data.W.html#799" class="InductiveConstructor">sup</a> <a id="1325" href="Data.W.html#1303" class="Bound">t</a><a id="1326" class="Symbol">))</a> <a id="1329" class="Keyword">where</a>

 <a id="1337" href="Data.W.html#1337" class="Function">induction</a> <a id="1347" class="Symbol">:</a> <a id="1349" class="Symbol">(</a><a id="1350" href="Data.W.html#1350" class="Bound">w</a> <a id="1352" class="Symbol">:</a> <a id="1354" href="Data.W.html#755" class="Datatype">W</a> <a id="1356" href="Data.W.html#1273" class="Bound">C</a><a id="1357" class="Symbol">)</a> <a id="1359" class="Symbol">→</a> <a id="1361" href="Data.W.html#1267" class="Bound">P</a> <a id="1363" href="Data.W.html#1350" class="Bound">w</a>
 <a id="1366" href="Data.W.html#1337" class="Function">induction</a> <a id="1376" class="Symbol">(</a><a id="1377" href="Data.W.html#799" class="InductiveConstructor">sup</a> <a id="1381" class="Symbol">(</a><a id="1382" href="Data.W.html#1382" class="Bound">s</a> <a id="1384" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1386" href="Data.W.html#1386" class="Bound">f</a><a id="1387" class="Symbol">))</a> <a id="1390" class="Symbol">=</a> <a id="1392" href="Data.W.html#1294" class="Bound">alg</a> <a id="1396" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="1398" href="Data.Container.Relation.Unary.All.html#662" class="InductiveConstructor">all</a> <a id="1402" class="Symbol">(</a><a id="1403" href="Data.W.html#1337" class="Function">induction</a> <a id="1413" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1415" href="Data.W.html#1386" class="Bound">f</a><a id="1416" class="Symbol">)</a>

<a id="1419" class="Keyword">module</a> <a id="1426" href="Data.W.html#1426" class="Module">_</a> <a id="1428" class="Symbol">{</a><a id="1429" href="Data.W.html#1429" class="Bound">P</a> <a id="1431" class="Symbol">:</a> <a id="1433" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1437" href="Data.W.html#640" class="Generalizable">ℓ</a><a id="1438" class="Symbol">}</a> <a id="1440" class="Symbol">(</a><a id="1441" href="Data.W.html#1441" class="Bound">alg</a> <a id="1445" class="Symbol">:</a> <a id="1447" href="Data.Container.Core.html#755" class="Function Operator">⟦</a> <a id="1449" href="Data.W.html#654" class="Generalizable">C</a> <a id="1451" href="Data.Container.Core.html#755" class="Function Operator">⟧</a> <a id="1453" href="Data.W.html#1429" class="Bound">P</a> <a id="1455" class="Symbol">→</a> <a id="1457" href="Data.W.html#1429" class="Bound">P</a><a id="1458" class="Symbol">)</a> <a id="1460" class="Keyword">where</a>

 <a id="1468" href="Data.W.html#1468" class="Function">foldr</a> <a id="1474" class="Symbol">:</a> <a id="1476" href="Data.W.html#755" class="Datatype">W</a> <a id="1478" href="Data.W.html#1449" class="Bound">C</a> <a id="1480" class="Symbol">→</a> <a id="1482" href="Data.W.html#1429" class="Bound">P</a>
 <a id="1485" href="Data.W.html#1468" class="Function">foldr</a> <a id="1491" class="Symbol">=</a> <a id="1493" href="Data.W.html#1337" class="Function">induction</a> <a id="1503" class="Symbol">(</a><a id="1504" href="Function.Base.html#636" class="Function">const</a> <a id="1510" href="Data.W.html#1429" class="Bound">P</a><a id="1511" class="Symbol">)</a> <a id="1513" class="Symbol">(</a><a id="1514" href="Data.W.html#1441" class="Bound">alg</a> <a id="1518" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1520" href="Data.Product.html#2247" class="Function Operator">-,_</a> <a id="1524" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1526" href="Data.Container.Relation.Unary.All.html#674" class="Field">□.proof</a><a id="1533" class="Symbol">)</a>

<a id="1536" class="Comment">-- If Position is always inhabited, then W_C is empty.</a>

<a id="inhabited⇒empty"></a><a id="1592" href="Data.W.html#1592" class="Function">inhabited⇒empty</a> <a id="1608" class="Symbol">:</a> <a id="1610" class="Symbol">(∀</a> <a id="1613" href="Data.W.html#1613" class="Bound">s</a> <a id="1615" class="Symbol">→</a> <a id="1617" href="Data.Container.Core.html#659" class="Field">Position</a> <a id="1626" href="Data.W.html#654" class="Generalizable">C</a> <a id="1628" href="Data.W.html#1613" class="Bound">s</a><a id="1629" class="Symbol">)</a> <a id="1631" class="Symbol">→</a> <a id="1633" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="1635" href="Data.W.html#755" class="Datatype">W</a> <a id="1637" href="Data.W.html#654" class="Generalizable">C</a>
<a id="1639" href="Data.W.html#1592" class="Function">inhabited⇒empty</a> <a id="1655" href="Data.W.html#1655" class="Bound">b</a> <a id="1657" class="Symbol">=</a> <a id="1659" href="Data.W.html#1468" class="Function">foldr</a> <a id="1665" class="Symbol">((</a><a id="1667" href="Function.Base.html#1919" class="Function Operator">_$</a> <a id="1670" href="Data.W.html#1655" class="Bound">b</a> <a id="1672" class="Symbol">_)</a> <a id="1675" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1677" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="1682" class="Symbol">)</a>
</pre></body></html>