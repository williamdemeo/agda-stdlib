<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Sized.Delay.Effectful</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- An effectful view of Delay</a>
<a id="136" class="Comment">------------------------------------------------------------------------</a>

<a id="210" class="Symbol">{-#</a> <a id="214" class="Keyword">OPTIONS</a> <a id="222" class="Pragma">--cubical-compatible</a> <a id="243" class="Pragma">--sized-types</a> <a id="257" class="Symbol">#-}</a>

<a id="262" class="Keyword">module</a> <a id="269" href="Codata.Sized.Delay.Effectful.html" class="Module">Codata.Sized.Delay.Effectful</a> <a id="298" class="Keyword">where</a>

<a id="305" class="Keyword">open</a> <a id="310" class="Keyword">import</a> <a id="317" href="Codata.Sized.Delay.html" class="Module">Codata.Sized.Delay</a>
<a id="336" class="Keyword">open</a> <a id="341" class="Keyword">import</a> <a id="348" href="Function.html" class="Module">Function</a>
<a id="357" class="Keyword">open</a> <a id="362" class="Keyword">import</a> <a id="369" href="Effect.Functor.html" class="Module">Effect.Functor</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Effect.Applicative.html" class="Module">Effect.Applicative</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="Effect.Monad.html" class="Module">Effect.Monad</a>
<a id="440" class="Keyword">open</a> <a id="445" class="Keyword">import</a> <a id="452" href="Data.These.html" class="Module">Data.These</a> <a id="463" class="Keyword">using</a> <a id="469" class="Symbol">(</a><a id="470" href="Data.These.html#937" class="Function">leftMost</a><a id="478" class="Symbol">)</a>

<a id="functor"></a><a id="481" href="Codata.Sized.Delay.Effectful.html#481" class="Function">functor</a> <a id="489" class="Symbol">:</a> <a id="491" class="Symbol">∀</a> <a id="493" class="Symbol">{</a><a id="494" href="Codata.Sized.Delay.Effectful.html#494" class="Bound">i</a> <a id="496" href="Codata.Sized.Delay.Effectful.html#496" class="Bound">ℓ</a><a id="497" class="Symbol">}</a> <a id="499" class="Symbol">→</a> <a id="501" href="Effect.Functor.html#498" class="Record">RawFunctor</a> <a id="512" class="Symbol">{</a><a id="513" href="Codata.Sized.Delay.Effectful.html#496" class="Bound">ℓ</a><a id="514" class="Symbol">}</a> <a id="516" class="Symbol">(λ</a> <a id="519" href="Codata.Sized.Delay.Effectful.html#519" class="Bound">A</a> <a id="521" class="Symbol">→</a> <a id="523" href="Codata.Sized.Delay.html#894" class="Datatype">Delay</a> <a id="529" href="Codata.Sized.Delay.Effectful.html#519" class="Bound">A</a> <a id="531" href="Codata.Sized.Delay.Effectful.html#494" class="Bound">i</a><a id="532" class="Symbol">)</a>
<a id="534" href="Codata.Sized.Delay.Effectful.html#481" class="Function">functor</a> <a id="542" class="Symbol">=</a> <a id="544" class="Keyword">record</a> <a id="551" class="Symbol">{</a> <a id="553" href="Effect.Functor.html#607" class="Field Operator">_&lt;$&gt;_</a> <a id="559" class="Symbol">=</a> <a id="561" class="Symbol">λ</a> <a id="563" href="Codata.Sized.Delay.Effectful.html#563" class="Bound">f</a> <a id="565" class="Symbol">→</a> <a id="567" href="Codata.Sized.Delay.html#1493" class="Function">map</a> <a id="571" href="Codata.Sized.Delay.Effectful.html#563" class="Bound">f</a> <a id="573" class="Symbol">}</a>

<a id="576" class="Keyword">module</a> <a id="Sequential"></a><a id="583" href="Codata.Sized.Delay.Effectful.html#583" class="Module">Sequential</a> <a id="594" class="Keyword">where</a>

  <a id="Sequential.applicative"></a><a id="603" href="Codata.Sized.Delay.Effectful.html#603" class="Function">applicative</a> <a id="615" class="Symbol">:</a> <a id="617" class="Symbol">∀</a> <a id="619" class="Symbol">{</a><a id="620" href="Codata.Sized.Delay.Effectful.html#620" class="Bound">i</a> <a id="622" href="Codata.Sized.Delay.Effectful.html#622" class="Bound">ℓ</a><a id="623" class="Symbol">}</a> <a id="625" class="Symbol">→</a> <a id="627" href="Effect.Applicative.html#499" class="Function">RawApplicative</a> <a id="642" class="Symbol">{</a><a id="643" href="Codata.Sized.Delay.Effectful.html#622" class="Bound">ℓ</a><a id="644" class="Symbol">}</a> <a id="646" class="Symbol">(λ</a> <a id="649" href="Codata.Sized.Delay.Effectful.html#649" class="Bound">A</a> <a id="651" class="Symbol">→</a> <a id="653" href="Codata.Sized.Delay.html#894" class="Datatype">Delay</a> <a id="659" href="Codata.Sized.Delay.Effectful.html#649" class="Bound">A</a> <a id="661" href="Codata.Sized.Delay.Effectful.html#620" class="Bound">i</a><a id="662" class="Symbol">)</a>
  <a id="666" href="Codata.Sized.Delay.Effectful.html#603" class="Function">applicative</a> <a id="678" class="Symbol">=</a> <a id="680" class="Keyword">record</a>
    <a id="691" class="Symbol">{</a> <a id="693" href="Effect.Applicative.Indexed.html#1000" class="Field">pure</a> <a id="698" class="Symbol">=</a> <a id="700" href="Codata.Sized.Delay.html#943" class="InductiveConstructor">now</a>
    <a id="708" class="Symbol">;</a> <a id="710" href="Effect.Applicative.Indexed.html#1031" class="Field Operator">_⊛_</a>  <a id="715" class="Symbol">=</a> <a id="717" class="Symbol">λ</a> <a id="719" href="Codata.Sized.Delay.Effectful.html#719" class="Bound">df</a> <a id="722" href="Codata.Sized.Delay.Effectful.html#722" class="Bound">da</a> <a id="725" class="Symbol">→</a> <a id="727" href="Codata.Sized.Delay.html#1629" class="Function">bind</a> <a id="732" href="Codata.Sized.Delay.Effectful.html#719" class="Bound">df</a> <a id="735" class="Symbol">(λ</a> <a id="738" href="Codata.Sized.Delay.Effectful.html#738" class="Bound">f</a> <a id="740" class="Symbol">→</a> <a id="742" href="Codata.Sized.Delay.html#1493" class="Function">map</a> <a id="746" href="Codata.Sized.Delay.Effectful.html#738" class="Bound">f</a> <a id="748" href="Codata.Sized.Delay.Effectful.html#722" class="Bound">da</a><a id="750" class="Symbol">)</a>
    <a id="756" class="Symbol">}</a>

  <a id="Sequential.applicativeZero"></a><a id="761" href="Codata.Sized.Delay.Effectful.html#761" class="Function">applicativeZero</a> <a id="777" class="Symbol">:</a> <a id="779" class="Symbol">∀</a> <a id="781" class="Symbol">{</a><a id="782" href="Codata.Sized.Delay.Effectful.html#782" class="Bound">i</a> <a id="784" href="Codata.Sized.Delay.Effectful.html#784" class="Bound">ℓ</a><a id="785" class="Symbol">}</a> <a id="787" class="Symbol">→</a> <a id="789" href="Effect.Applicative.html#730" class="Function">RawApplicativeZero</a> <a id="808" class="Symbol">{</a><a id="809" href="Codata.Sized.Delay.Effectful.html#784" class="Bound">ℓ</a><a id="810" class="Symbol">}</a> <a id="812" class="Symbol">(λ</a> <a id="815" href="Codata.Sized.Delay.Effectful.html#815" class="Bound">A</a> <a id="817" class="Symbol">→</a> <a id="819" href="Codata.Sized.Delay.html#894" class="Datatype">Delay</a> <a id="825" href="Codata.Sized.Delay.Effectful.html#815" class="Bound">A</a> <a id="827" href="Codata.Sized.Delay.Effectful.html#782" class="Bound">i</a><a id="828" class="Symbol">)</a>
  <a id="832" href="Codata.Sized.Delay.Effectful.html#761" class="Function">applicativeZero</a> <a id="848" class="Symbol">=</a> <a id="850" class="Keyword">record</a>
    <a id="861" class="Symbol">{</a> <a id="863" href="Effect.Applicative.Indexed.html#1915" class="Field">applicative</a> <a id="875" class="Symbol">=</a> <a id="877" href="Codata.Sized.Delay.Effectful.html#603" class="Function">applicative</a>
    <a id="893" class="Symbol">;</a> <a id="895" href="Effect.Applicative.Indexed.html#1951" class="Field">∅</a>           <a id="907" class="Symbol">=</a> <a id="909" href="Codata.Sized.Delay.html#1162" class="Function">never</a>
    <a id="919" class="Symbol">}</a>

  <a id="Sequential.monad"></a><a id="924" href="Codata.Sized.Delay.Effectful.html#924" class="Function">monad</a> <a id="930" class="Symbol">:</a> <a id="932" class="Symbol">∀</a> <a id="934" class="Symbol">{</a><a id="935" href="Codata.Sized.Delay.Effectful.html#935" class="Bound">i</a> <a id="937" href="Codata.Sized.Delay.Effectful.html#937" class="Bound">ℓ</a><a id="938" class="Symbol">}</a> <a id="940" class="Symbol">→</a> <a id="942" href="Effect.Monad.html#437" class="Function">RawMonad</a> <a id="951" class="Symbol">{</a><a id="952" href="Codata.Sized.Delay.Effectful.html#937" class="Bound">ℓ</a><a id="953" class="Symbol">}</a> <a id="955" class="Symbol">(λ</a> <a id="958" href="Codata.Sized.Delay.Effectful.html#958" class="Bound">A</a> <a id="960" class="Symbol">→</a> <a id="962" href="Codata.Sized.Delay.html#894" class="Datatype">Delay</a> <a id="968" href="Codata.Sized.Delay.Effectful.html#958" class="Bound">A</a> <a id="970" href="Codata.Sized.Delay.Effectful.html#935" class="Bound">i</a><a id="971" class="Symbol">)</a>
  <a id="975" href="Codata.Sized.Delay.Effectful.html#924" class="Function">monad</a> <a id="981" class="Symbol">=</a> <a id="983" class="Keyword">record</a>
    <a id="994" class="Symbol">{</a> <a id="996" href="Effect.Monad.Indexed.html#654" class="Field">return</a> <a id="1003" class="Symbol">=</a> <a id="1005" href="Codata.Sized.Delay.html#943" class="InductiveConstructor">now</a>
    <a id="1013" class="Symbol">;</a> <a id="1015" href="Effect.Monad.Indexed.html#687" class="Field Operator">_&gt;&gt;=_</a>  <a id="1022" class="Symbol">=</a> <a id="1024" href="Codata.Sized.Delay.html#1629" class="Function">bind</a>
    <a id="1033" class="Symbol">}</a>

  <a id="Sequential.monadZero"></a><a id="1038" href="Codata.Sized.Delay.Effectful.html#1038" class="Function">monadZero</a> <a id="1048" class="Symbol">:</a> <a id="1050" class="Symbol">∀</a> <a id="1052" class="Symbol">{</a><a id="1053" href="Codata.Sized.Delay.Effectful.html#1053" class="Bound">i</a> <a id="1055" href="Codata.Sized.Delay.Effectful.html#1055" class="Bound">ℓ</a><a id="1056" class="Symbol">}</a> <a id="1058" class="Symbol">→</a> <a id="1060" href="Effect.Monad.html#632" class="Function">RawMonadZero</a> <a id="1073" class="Symbol">{</a><a id="1074" href="Codata.Sized.Delay.Effectful.html#1055" class="Bound">ℓ</a><a id="1075" class="Symbol">}</a> <a id="1077" class="Symbol">(λ</a> <a id="1080" href="Codata.Sized.Delay.Effectful.html#1080" class="Bound">A</a> <a id="1082" class="Symbol">→</a> <a id="1084" href="Codata.Sized.Delay.html#894" class="Datatype">Delay</a> <a id="1090" href="Codata.Sized.Delay.Effectful.html#1080" class="Bound">A</a> <a id="1092" href="Codata.Sized.Delay.Effectful.html#1053" class="Bound">i</a><a id="1093" class="Symbol">)</a>
  <a id="1097" href="Codata.Sized.Delay.Effectful.html#1038" class="Function">monadZero</a> <a id="1107" class="Symbol">=</a> <a id="1109" class="Keyword">record</a>
    <a id="1120" class="Symbol">{</a> <a id="1122" href="Effect.Monad.Indexed.html#1557" class="Field">monad</a>           <a id="1138" class="Symbol">=</a> <a id="1140" href="Codata.Sized.Delay.Effectful.html#924" class="Function">monad</a>
    <a id="1150" class="Symbol">;</a> <a id="1152" href="Effect.Monad.Indexed.html#1591" class="Field">applicativeZero</a> <a id="1168" class="Symbol">=</a> <a id="1170" href="Codata.Sized.Delay.Effectful.html#761" class="Function">applicativeZero</a>
    <a id="1190" class="Symbol">}</a>

<a id="1193" class="Keyword">module</a> <a id="Zippy"></a><a id="1200" href="Codata.Sized.Delay.Effectful.html#1200" class="Module">Zippy</a> <a id="1206" class="Keyword">where</a>

  <a id="Zippy.applicative"></a><a id="1215" href="Codata.Sized.Delay.Effectful.html#1215" class="Function">applicative</a> <a id="1227" class="Symbol">:</a> <a id="1229" class="Symbol">∀</a> <a id="1231" class="Symbol">{</a><a id="1232" href="Codata.Sized.Delay.Effectful.html#1232" class="Bound">i</a> <a id="1234" href="Codata.Sized.Delay.Effectful.html#1234" class="Bound">ℓ</a><a id="1235" class="Symbol">}</a> <a id="1237" class="Symbol">→</a> <a id="1239" href="Effect.Applicative.html#499" class="Function">RawApplicative</a> <a id="1254" class="Symbol">{</a><a id="1255" href="Codata.Sized.Delay.Effectful.html#1234" class="Bound">ℓ</a><a id="1256" class="Symbol">}</a> <a id="1258" class="Symbol">(λ</a> <a id="1261" href="Codata.Sized.Delay.Effectful.html#1261" class="Bound">A</a> <a id="1263" class="Symbol">→</a> <a id="1265" href="Codata.Sized.Delay.html#894" class="Datatype">Delay</a> <a id="1271" href="Codata.Sized.Delay.Effectful.html#1261" class="Bound">A</a> <a id="1273" href="Codata.Sized.Delay.Effectful.html#1232" class="Bound">i</a><a id="1274" class="Symbol">)</a>
  <a id="1278" href="Codata.Sized.Delay.Effectful.html#1215" class="Function">applicative</a> <a id="1290" class="Symbol">=</a> <a id="1292" class="Keyword">record</a>
    <a id="1303" class="Symbol">{</a> <a id="1305" href="Effect.Applicative.Indexed.html#1000" class="Field">pure</a> <a id="1310" class="Symbol">=</a> <a id="1312" href="Codata.Sized.Delay.html#943" class="InductiveConstructor">now</a>
    <a id="1320" class="Symbol">;</a> <a id="1322" href="Effect.Applicative.Indexed.html#1031" class="Field Operator">_⊛_</a>  <a id="1327" class="Symbol">=</a> <a id="1329" href="Codata.Sized.Delay.html#1998" class="Function">zipWith</a> <a id="1337" href="Function.Base.html#704" class="Function">id</a>
    <a id="1344" class="Symbol">}</a>

  <a id="Zippy.applicativeZero"></a><a id="1349" href="Codata.Sized.Delay.Effectful.html#1349" class="Function">applicativeZero</a> <a id="1365" class="Symbol">:</a> <a id="1367" class="Symbol">∀</a> <a id="1369" class="Symbol">{</a><a id="1370" href="Codata.Sized.Delay.Effectful.html#1370" class="Bound">i</a> <a id="1372" href="Codata.Sized.Delay.Effectful.html#1372" class="Bound">ℓ</a><a id="1373" class="Symbol">}</a> <a id="1375" class="Symbol">→</a> <a id="1377" href="Effect.Applicative.html#730" class="Function">RawApplicativeZero</a> <a id="1396" class="Symbol">{</a><a id="1397" href="Codata.Sized.Delay.Effectful.html#1372" class="Bound">ℓ</a><a id="1398" class="Symbol">}</a> <a id="1400" class="Symbol">(λ</a> <a id="1403" href="Codata.Sized.Delay.Effectful.html#1403" class="Bound">A</a> <a id="1405" class="Symbol">→</a> <a id="1407" href="Codata.Sized.Delay.html#894" class="Datatype">Delay</a> <a id="1413" href="Codata.Sized.Delay.Effectful.html#1403" class="Bound">A</a> <a id="1415" href="Codata.Sized.Delay.Effectful.html#1370" class="Bound">i</a><a id="1416" class="Symbol">)</a>
  <a id="1420" href="Codata.Sized.Delay.Effectful.html#1349" class="Function">applicativeZero</a> <a id="1436" class="Symbol">=</a> <a id="1438" class="Keyword">record</a>
    <a id="1449" class="Symbol">{</a> <a id="1451" href="Effect.Applicative.Indexed.html#1915" class="Field">applicative</a> <a id="1463" class="Symbol">=</a> <a id="1465" href="Codata.Sized.Delay.Effectful.html#1215" class="Function">applicative</a>
    <a id="1481" class="Symbol">;</a> <a id="1483" href="Effect.Applicative.Indexed.html#1951" class="Field">∅</a>           <a id="1495" class="Symbol">=</a> <a id="1497" href="Codata.Sized.Delay.html#1162" class="Function">never</a>
    <a id="1507" class="Symbol">}</a>

  <a id="Zippy.alternative"></a><a id="1512" href="Codata.Sized.Delay.Effectful.html#1512" class="Function">alternative</a> <a id="1524" class="Symbol">:</a> <a id="1526" class="Symbol">∀</a> <a id="1528" class="Symbol">{</a><a id="1529" href="Codata.Sized.Delay.Effectful.html#1529" class="Bound">i</a> <a id="1531" href="Codata.Sized.Delay.Effectful.html#1531" class="Bound">ℓ</a><a id="1532" class="Symbol">}</a> <a id="1534" class="Symbol">→</a> <a id="1536" href="Effect.Applicative.html#991" class="Function">RawAlternative</a> <a id="1551" class="Symbol">{</a><a id="1552" href="Codata.Sized.Delay.Effectful.html#1531" class="Bound">ℓ</a><a id="1553" class="Symbol">}</a> <a id="1555" class="Symbol">(λ</a> <a id="1558" href="Codata.Sized.Delay.Effectful.html#1558" class="Bound">A</a> <a id="1560" class="Symbol">→</a> <a id="1562" href="Codata.Sized.Delay.html#894" class="Datatype">Delay</a> <a id="1568" href="Codata.Sized.Delay.Effectful.html#1558" class="Bound">A</a> <a id="1570" href="Codata.Sized.Delay.Effectful.html#1529" class="Bound">i</a><a id="1571" class="Symbol">)</a>
  <a id="1575" href="Codata.Sized.Delay.Effectful.html#1512" class="Function">alternative</a> <a id="1587" class="Symbol">=</a> <a id="1589" class="Keyword">record</a>
    <a id="1600" class="Symbol">{</a> <a id="1602" href="Effect.Applicative.Indexed.html#2263" class="Field">applicativeZero</a> <a id="1618" class="Symbol">=</a> <a id="1620" href="Codata.Sized.Delay.Effectful.html#1349" class="Function">applicativeZero</a>
    <a id="1640" class="Symbol">;</a> <a id="1642" href="Effect.Applicative.Indexed.html#2307" class="Field Operator">_∣_</a>             <a id="1658" class="Symbol">=</a> <a id="1660" href="Codata.Sized.Delay.html#2252" class="Function">alignWith</a> <a id="1670" href="Data.These.html#937" class="Function">leftMost</a>
    <a id="1683" class="Symbol">}</a>
</pre></body></html>