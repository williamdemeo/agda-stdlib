<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Algebra.Solver.Ring.NaturalCoefficients</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Instantiates the ring solver, using the natural numbers as the</a>
<a id="172" class="Comment">-- coefficient &quot;ring&quot;</a>
<a id="194" class="Comment">------------------------------------------------------------------------</a>

<a id="268" class="Symbol">{-#</a> <a id="272" class="Keyword">OPTIONS</a> <a id="280" class="Pragma">--without-K</a> <a id="292" class="Pragma">--safe</a> <a id="299" class="Symbol">#-}</a>

<a id="304" class="Keyword">open</a> <a id="309" class="Keyword">import</a> <a id="316" href="Algebra.html" class="Module">Algebra</a>
<a id="324" class="Keyword">import</a> <a id="331" href="Algebra.Properties.Semiring.Mult.html" class="Module">Algebra.Properties.Semiring.Mult</a> <a id="364" class="Symbol">as</a> <a id="367" class="Module">SemiringMultiplication</a>
<a id="390" class="Keyword">open</a> <a id="395" class="Keyword">import</a> <a id="402" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="418" class="Keyword">using</a> <a id="424" class="Symbol">(</a><a id="425" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a><a id="430" class="Symbol">;</a> <a id="432" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a><a id="436" class="Symbol">;</a> <a id="438" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a><a id="445" class="Symbol">;</a> <a id="447" href="Data.Maybe.Base.html#2020" class="Function">map</a><a id="450" class="Symbol">)</a>
<a id="452" class="Keyword">open</a> <a id="457" class="Keyword">import</a> <a id="464" href="Algebra.Solver.Ring.AlmostCommutativeRing.html" class="Module">Algebra.Solver.Ring.AlmostCommutativeRing</a>
<a id="506" class="Keyword">open</a> <a id="511" class="Keyword">import</a> <a id="518" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="532" class="Symbol">as</a> <a id="535" class="Module">ℕ</a>
<a id="537" class="Keyword">open</a> <a id="542" class="Keyword">import</a> <a id="549" href="Data.Product.html" class="Module">Data.Product</a> <a id="562" class="Keyword">using</a> <a id="568" class="Symbol">(</a><a id="569" class="Keyword">module</a> <a id="576" href="Data.Product.html#715" class="Module">Σ</a><a id="577" class="Symbol">)</a>
<a id="579" class="Keyword">open</a> <a id="584" class="Keyword">import</a> <a id="591" href="Function.Base.html" class="Module">Function.Base</a> <a id="605" class="Keyword">using</a> <a id="611" class="Symbol">(</a><a id="612" href="Function.Base.html#615" class="Function">id</a><a id="614" class="Symbol">)</a>
<a id="616" class="Keyword">open</a> <a id="621" class="Keyword">import</a> <a id="628" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="666" class="Keyword">using</a> <a id="672" class="Symbol">(</a><a id="673" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="676" class="Symbol">)</a>

<a id="679" class="Keyword">module</a> <a id="686" href="Algebra.Solver.Ring.NaturalCoefficients.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients</a>
  <a id="728" class="Symbol">{</a><a id="729" href="Algebra.Solver.Ring.NaturalCoefficients.html#729" class="Bound">r₁</a> <a id="732" href="Algebra.Solver.Ring.NaturalCoefficients.html#732" class="Bound">r₂</a><a id="734" class="Symbol">}</a> <a id="736" class="Symbol">(</a><a id="737" href="Algebra.Solver.Ring.NaturalCoefficients.html#737" class="Bound">R</a> <a id="739" class="Symbol">:</a> <a id="741" href="Algebra.Bundles.html#17351" class="Record">CommutativeSemiring</a> <a id="761" href="Algebra.Solver.Ring.NaturalCoefficients.html#729" class="Bound">r₁</a> <a id="764" href="Algebra.Solver.Ring.NaturalCoefficients.html#732" class="Bound">r₂</a><a id="766" class="Symbol">)</a>
  <a id="770" class="Symbol">(</a><a id="771" class="Keyword">open</a> <a id="776" href="Algebra.Bundles.html#17351" class="Module">CommutativeSemiring</a> <a id="796" href="Algebra.Solver.Ring.NaturalCoefficients.html#737" class="Bound">R</a><a id="797" class="Symbol">)</a>
  <a id="801" class="Symbol">(</a><a id="802" class="Keyword">open</a> <a id="807" href="Algebra.Properties.Semiring.Mult.html" class="Module">SemiringMultiplication</a> <a id="830" href="Algebra.Bundles.html#17812" class="Function">semiring</a> <a id="839" class="Keyword">using</a> <a id="845" class="Symbol">()</a> <a id="848" class="Keyword">renaming</a> <a id="857" class="Symbol">(</a><a id="858" href="Algebra.Definitions.RawMonoid.html#1080" class="Function Operator">_×_</a> <a id="862" class="Symbol">to</a> <a id="865" class="Function Operator">_×ᵤ_</a><a id="869" class="Symbol">))</a>
  <a id="874" class="Symbol">(</a><a id="875" href="Algebra.Solver.Ring.NaturalCoefficients.html#875" class="Bound">dec</a> <a id="879" class="Symbol">:</a> <a id="881" class="Symbol">∀</a> <a id="883" href="Algebra.Solver.Ring.NaturalCoefficients.html#883" class="Bound">m</a> <a id="885" href="Algebra.Solver.Ring.NaturalCoefficients.html#885" class="Bound">n</a> <a id="887" class="Symbol">→</a> <a id="889" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="895" class="Symbol">(</a><a id="896" href="Algebra.Solver.Ring.NaturalCoefficients.html#883" class="Bound">m</a> <a id="898" href="Algebra.Solver.Ring.NaturalCoefficients.html#865" class="Function Operator">×ᵤ</a> <a id="901" href="Algebra.Bundles.html#17650" class="Field">1#</a> <a id="904" href="Algebra.Bundles.html#17492" class="Field Operator">≈</a> <a id="906" href="Algebra.Solver.Ring.NaturalCoefficients.html#885" class="Bound">n</a> <a id="908" href="Algebra.Solver.Ring.NaturalCoefficients.html#865" class="Function Operator">×ᵤ</a> <a id="911" href="Algebra.Bundles.html#17650" class="Field">1#</a><a id="913" class="Symbol">))</a> <a id="916" class="Keyword">where</a>

<a id="923" class="Keyword">open</a> <a id="928" class="Keyword">import</a> <a id="935" href="Algebra.Properties.Semiring.Mult.TCOptimised.html" class="Module">Algebra.Properties.Semiring.Mult.TCOptimised</a> <a id="980" href="Algebra.Bundles.html#17812" class="Function">semiring</a>

<a id="990" class="Keyword">open</a> <a id="995" class="Keyword">import</a> <a id="1002" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1035" href="Algebra.Structures.html#1285" class="Function">setoid</a>

<a id="1043" class="Keyword">private</a>

  <a id="1054" class="Comment">-- The coefficient &quot;ring&quot;.</a>

  <a id="ℕ-ring"></a><a id="1084" href="Algebra.Solver.Ring.NaturalCoefficients.html#1084" class="Function">ℕ-ring</a> <a id="1091" class="Symbol">:</a> <a id="1093" href="Algebra.Bundles.html#20196" class="Record">RawRing</a> <a id="1101" class="Symbol">_</a> <a id="1103" class="Symbol">_</a>
  <a id="1107" href="Algebra.Solver.Ring.NaturalCoefficients.html#1084" class="Function">ℕ-ring</a> <a id="1114" class="Symbol">=</a> <a id="1116" class="Keyword">record</a>
    <a id="1127" class="Symbol">{</a> <a id="1129" href="Algebra.Bundles.html#20305" class="Field">Carrier</a> <a id="1137" class="Symbol">=</a> <a id="1139" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="1145" class="Symbol">;</a> <a id="1147" href="Algebra.Bundles.html#20325" class="Field Operator">_≈_</a>     <a id="1155" class="Symbol">=</a> <a id="1157" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a>
    <a id="1165" class="Symbol">;</a> <a id="1167" href="Algebra.Bundles.html#20353" class="Field Operator">_+_</a>     <a id="1175" class="Symbol">=</a> <a id="1177" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ._+_</a>
    <a id="1187" class="Symbol">;</a> <a id="1189" href="Algebra.Bundles.html#20379" class="Field Operator">_*_</a>     <a id="1197" class="Symbol">=</a> <a id="1199" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">ℕ._*_</a>
    <a id="1209" class="Symbol">;</a> <a id="1211" href="Algebra.Bundles.html#20405" class="Field Operator">-_</a>      <a id="1219" class="Symbol">=</a> <a id="1221" href="Function.Base.html#615" class="Function">id</a>
    <a id="1228" class="Symbol">;</a> <a id="1230" href="Algebra.Bundles.html#20431" class="Field">0#</a>      <a id="1238" class="Symbol">=</a> <a id="1240" class="Number">0</a>
    <a id="1246" class="Symbol">;</a> <a id="1248" href="Algebra.Bundles.html#20453" class="Field">1#</a>      <a id="1256" class="Symbol">=</a> <a id="1258" class="Number">1</a>
    <a id="1264" class="Symbol">}</a>

  <a id="1269" class="Comment">-- There is a homomorphism from ℕ to R.</a>
  <a id="1311" class="Comment">--</a>
  <a id="1316" class="Comment">-- Note that the optimised _×_ is used rather than unoptimised _×ᵤ_.</a>
  <a id="1387" class="Comment">-- If _×ᵤ_ were used, then Function.Related.TypeIsomorphisms.test would fail</a>
  <a id="1466" class="Comment">-- to type-check.</a>

  <a id="homomorphism"></a><a id="1487" href="Algebra.Solver.Ring.NaturalCoefficients.html#1487" class="Function">homomorphism</a> <a id="1500" class="Symbol">:</a> <a id="1502" href="Algebra.Solver.Ring.NaturalCoefficients.html#1084" class="Function">ℕ-ring</a> <a id="1509" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2318" class="Record Operator">-Raw-AlmostCommutative⟶</a> <a id="1533" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#4267" class="Function">fromCommutativeSemiring</a> <a id="1557" href="Algebra.Solver.Ring.NaturalCoefficients.html#737" class="Bound">R</a>
  <a id="1561" href="Algebra.Solver.Ring.NaturalCoefficients.html#1487" class="Function">homomorphism</a> <a id="1574" class="Symbol">=</a> <a id="1576" class="Keyword">record</a>
    <a id="1587" class="Symbol">{</a> <a id="1589" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2592" class="Field Operator">⟦_⟧</a>    <a id="1596" class="Symbol">=</a> <a id="1598" class="Symbol">λ</a> <a id="1600" href="Algebra.Solver.Ring.NaturalCoefficients.html#1600" class="Bound">n</a> <a id="1602" class="Symbol">→</a> <a id="1604" href="Algebra.Solver.Ring.NaturalCoefficients.html#1600" class="Bound">n</a> <a id="1606" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1163" class="Function Operator">×</a> <a id="1608" href="Algebra.Bundles.html#17650" class="Field">1#</a>
    <a id="1615" class="Symbol">;</a> <a id="1617" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2614" class="Field">+-homo</a> <a id="1624" class="Symbol">=</a> <a id="1626" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1860" class="Function">×-homo-+</a> <a id="1635" href="Algebra.Bundles.html#17650" class="Field">1#</a>
    <a id="1642" class="Symbol">;</a> <a id="1644" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2656" class="Field">*-homo</a> <a id="1651" class="Symbol">=</a> <a id="1653" href="Algebra.Properties.Semiring.Mult.TCOptimised.html#953" class="Function">×1-homo-*</a>
    <a id="1667" class="Symbol">;</a> <a id="1669" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2698" class="Field">-‿homo</a> <a id="1676" class="Symbol">=</a> <a id="1678" class="Symbol">λ</a> <a id="1680" href="Algebra.Solver.Ring.NaturalCoefficients.html#1680" class="Bound">_</a> <a id="1682" class="Symbol">→</a> <a id="1684" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
    <a id="1693" class="Symbol">;</a> <a id="1695" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2739" class="Field">0-homo</a> <a id="1702" class="Symbol">=</a> <a id="1704" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
    <a id="1713" class="Symbol">;</a> <a id="1715" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2780" class="Field">1-homo</a> <a id="1722" class="Symbol">=</a> <a id="1724" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
    <a id="1733" class="Symbol">}</a>

  <a id="1738" class="Comment">-- Equality of certain expressions can be decided.</a>

  <a id="dec′"></a><a id="1792" href="Algebra.Solver.Ring.NaturalCoefficients.html#1792" class="Function">dec′</a> <a id="1797" class="Symbol">:</a> <a id="1799" class="Symbol">∀</a> <a id="1801" href="Algebra.Solver.Ring.NaturalCoefficients.html#1801" class="Bound">m</a> <a id="1803" href="Algebra.Solver.Ring.NaturalCoefficients.html#1803" class="Bound">n</a> <a id="1805" class="Symbol">→</a> <a id="1807" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1813" class="Symbol">(</a><a id="1814" href="Algebra.Solver.Ring.NaturalCoefficients.html#1801" class="Bound">m</a> <a id="1816" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1163" class="Function Operator">×</a> <a id="1818" href="Algebra.Bundles.html#17650" class="Field">1#</a> <a id="1821" href="Algebra.Bundles.html#17492" class="Field Operator">≈</a> <a id="1823" href="Algebra.Solver.Ring.NaturalCoefficients.html#1803" class="Bound">n</a> <a id="1825" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1163" class="Function Operator">×</a> <a id="1827" href="Algebra.Bundles.html#17650" class="Field">1#</a><a id="1829" class="Symbol">)</a>
  <a id="1833" href="Algebra.Solver.Ring.NaturalCoefficients.html#1792" class="Function">dec′</a> <a id="1838" href="Algebra.Solver.Ring.NaturalCoefficients.html#1838" class="Bound">m</a> <a id="1840" href="Algebra.Solver.Ring.NaturalCoefficients.html#1840" class="Bound">n</a> <a id="1842" class="Symbol">=</a> <a id="1844" href="Data.Maybe.Base.html#2020" class="Function">map</a> <a id="1848" href="Algebra.Solver.Ring.NaturalCoefficients.html#1875" class="Function">to</a> <a id="1851" class="Symbol">(</a><a id="1852" href="Algebra.Solver.Ring.NaturalCoefficients.html#875" class="Bound">dec</a> <a id="1856" href="Algebra.Solver.Ring.NaturalCoefficients.html#1838" class="Bound">m</a> <a id="1858" href="Algebra.Solver.Ring.NaturalCoefficients.html#1840" class="Bound">n</a><a id="1859" class="Symbol">)</a>
    <a id="1865" class="Keyword">where</a>
    <a id="1875" href="Algebra.Solver.Ring.NaturalCoefficients.html#1875" class="Function">to</a> <a id="1878" class="Symbol">:</a> <a id="1880" href="Algebra.Solver.Ring.NaturalCoefficients.html#1838" class="Bound">m</a> <a id="1882" href="Algebra.Solver.Ring.NaturalCoefficients.html#865" class="Function Operator">×ᵤ</a> <a id="1885" href="Algebra.Bundles.html#17650" class="Field">1#</a> <a id="1888" href="Algebra.Bundles.html#17492" class="Field Operator">≈</a> <a id="1890" href="Algebra.Solver.Ring.NaturalCoefficients.html#1840" class="Bound">n</a> <a id="1892" href="Algebra.Solver.Ring.NaturalCoefficients.html#865" class="Function Operator">×ᵤ</a> <a id="1895" href="Algebra.Bundles.html#17650" class="Field">1#</a> <a id="1898" class="Symbol">→</a> <a id="1900" href="Algebra.Solver.Ring.NaturalCoefficients.html#1838" class="Bound">m</a> <a id="1902" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1163" class="Function Operator">×</a> <a id="1904" href="Algebra.Bundles.html#17650" class="Field">1#</a> <a id="1907" href="Algebra.Bundles.html#17492" class="Field Operator">≈</a> <a id="1909" href="Algebra.Solver.Ring.NaturalCoefficients.html#1840" class="Bound">n</a> <a id="1911" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1163" class="Function Operator">×</a> <a id="1913" href="Algebra.Bundles.html#17650" class="Field">1#</a>
    <a id="1920" href="Algebra.Solver.Ring.NaturalCoefficients.html#1875" class="Function">to</a> <a id="1923" href="Algebra.Solver.Ring.NaturalCoefficients.html#1923" class="Bound">m≈n</a> <a id="1927" class="Symbol">=</a> <a id="1929" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
      <a id="1941" href="Algebra.Solver.Ring.NaturalCoefficients.html#1838" class="Bound">m</a> <a id="1943" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1163" class="Function Operator">×</a>  <a id="1946" href="Algebra.Bundles.html#17650" class="Field">1#</a>  <a id="1950" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">≈˘⟨</a> <a id="1954" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1652" class="Function">×ᵤ≈×</a> <a id="1959" href="Algebra.Solver.Ring.NaturalCoefficients.html#1838" class="Bound">m</a> <a id="1961" href="Algebra.Bundles.html#17650" class="Field">1#</a> <a id="1964" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">⟩</a>
      <a id="1972" href="Algebra.Solver.Ring.NaturalCoefficients.html#1838" class="Bound">m</a> <a id="1974" href="Algebra.Solver.Ring.NaturalCoefficients.html#865" class="Function Operator">×ᵤ</a> <a id="1977" href="Algebra.Bundles.html#17650" class="Field">1#</a>  <a id="1981" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a>  <a id="1985" href="Algebra.Solver.Ring.NaturalCoefficients.html#1923" class="Bound">m≈n</a> <a id="1989" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
      <a id="1997" href="Algebra.Solver.Ring.NaturalCoefficients.html#1840" class="Bound">n</a> <a id="1999" href="Algebra.Solver.Ring.NaturalCoefficients.html#865" class="Function Operator">×ᵤ</a> <a id="2002" href="Algebra.Bundles.html#17650" class="Field">1#</a>  <a id="2006" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">≈⟨</a>  <a id="2010" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1652" class="Function">×ᵤ≈×</a> <a id="2015" href="Algebra.Solver.Ring.NaturalCoefficients.html#1840" class="Bound">n</a> <a id="2017" href="Algebra.Bundles.html#17650" class="Field">1#</a> <a id="2020" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">⟩</a>
      <a id="2028" href="Algebra.Solver.Ring.NaturalCoefficients.html#1840" class="Bound">n</a> <a id="2030" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1163" class="Function Operator">×</a>  <a id="2033" href="Algebra.Bundles.html#17650" class="Field">1#</a>  <a id="2037" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">∎</a>

<a id="2040" class="Comment">-- The instantiation.</a>

<a id="2063" class="Keyword">open</a> <a id="2068" class="Keyword">import</a> <a id="2075" href="Algebra.Solver.Ring.html" class="Module">Algebra.Solver.Ring</a> <a id="2095" class="Symbol">_</a> <a id="2097" class="Symbol">_</a> <a id="2099" href="Algebra.Solver.Ring.NaturalCoefficients.html#1487" class="Function">homomorphism</a> <a id="2112" href="Algebra.Solver.Ring.NaturalCoefficients.html#1792" class="Function">dec′</a> <a id="2117" class="Keyword">public</a>
</pre></body></html>