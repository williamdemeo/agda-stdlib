<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.Combinatorics.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Combinatorics operations</a>
<a id="134" class="Comment">------------------------------------------------------------------------</a>

<a id="208" class="Symbol">{-#</a> <a id="212" class="Keyword">OPTIONS</a> <a id="220" class="Pragma">--cubical-compatible</a> <a id="241" class="Pragma">--safe</a> <a id="248" class="Symbol">#-}</a>

<a id="253" class="Keyword">module</a> <a id="260" href="Data.Nat.Combinatorics.Base.html" class="Module">Data.Nat.Combinatorics.Base</a> <a id="288" class="Keyword">where</a>

<a id="295" class="Keyword">open</a> <a id="300" class="Keyword">import</a> <a id="307" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="322" class="Keyword">using</a> <a id="328" class="Symbol">(</a><a id="329" href="Data.Bool.Base.html#1292" class="Function Operator">if_then_else_</a><a id="342" class="Symbol">)</a>
<a id="344" class="Keyword">open</a> <a id="349" class="Keyword">import</a> <a id="356" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="370" class="Keyword">open</a> <a id="375" class="Keyword">import</a> <a id="382" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="402" class="Keyword">using</a> <a id="408" class="Symbol">(</a><a id="409" href="Data.Nat.Properties.html#59738" class="Function Operator">_!≢0</a><a id="413" class="Symbol">)</a>

<a id="416" class="Comment">-- NOTE: These operators are not implemented as efficiently as they</a>
<a id="484" class="Comment">-- could be. See the following link for more details.</a>
<a id="538" class="Comment">--</a>
<a id="541" class="Comment">-- https://math.stackexchange.com/questions/202554/how-do-i-compute-binomial-coefficients-efficiently</a>

<a id="644" class="Comment">------------------------------------------------------------------------</a>
<a id="717" class="Comment">-- Permutations / falling factorial</a>

<a id="754" class="Comment">-- The number of ways, including order, that k objects can be chosen</a>
<a id="823" class="Comment">-- from among n objects.</a>

<a id="849" class="Comment">-- n P k = n ! / (n ∸ k) !</a>

<a id="877" class="Comment">-- Base definition. Only valid for k ≤ n.</a>

<a id="_P′_"></a><a id="920" href="Data.Nat.Combinatorics.Base.html#920" class="Function Operator">_P′_</a> <a id="925" class="Symbol">:</a> <a id="927" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="929" class="Symbol">→</a> <a id="931" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="933" class="Symbol">→</a> <a id="935" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="937" href="Data.Nat.Combinatorics.Base.html#937" class="Bound">n</a> <a id="939" href="Data.Nat.Combinatorics.Base.html#920" class="Function Operator">P′</a> <a id="942" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>    <a id="950" class="Symbol">=</a> <a id="952" class="Number">1</a>
<a id="954" href="Data.Nat.Combinatorics.Base.html#954" class="Bound">n</a> <a id="956" href="Data.Nat.Combinatorics.Base.html#920" class="Function Operator">P′</a> <a id="959" class="Symbol">(</a><a id="960" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="964" href="Data.Nat.Combinatorics.Base.html#964" class="Bound">k</a><a id="965" class="Symbol">)</a> <a id="967" class="Symbol">=</a> <a id="969" class="Symbol">(</a><a id="970" href="Data.Nat.Combinatorics.Base.html#954" class="Bound">n</a> <a id="972" href="Data.Nat.Base.html#3140" class="Primitive Operator">∸</a> <a id="974" href="Data.Nat.Combinatorics.Base.html#964" class="Bound">k</a><a id="975" class="Symbol">)</a> <a id="977" href="Agda.Builtin.Nat.html#522" class="Primitive Operator">*</a> <a id="979" class="Symbol">(</a><a id="980" href="Data.Nat.Combinatorics.Base.html#954" class="Bound">n</a> <a id="982" href="Data.Nat.Combinatorics.Base.html#920" class="Function Operator">P′</a> <a id="985" href="Data.Nat.Combinatorics.Base.html#964" class="Bound">k</a><a id="986" class="Symbol">)</a>

<a id="989" class="Comment">-- Main definition. Valid for all k as deals with boundary case.</a>

<a id="_P_"></a><a id="1055" href="Data.Nat.Combinatorics.Base.html#1055" class="Function Operator">_P_</a> <a id="1059" class="Symbol">:</a> <a id="1061" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1063" class="Symbol">→</a> <a id="1065" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1067" class="Symbol">→</a> <a id="1069" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="1071" href="Data.Nat.Combinatorics.Base.html#1071" class="Bound">n</a> <a id="1073" href="Data.Nat.Combinatorics.Base.html#1055" class="Function Operator">P</a> <a id="1075" href="Data.Nat.Combinatorics.Base.html#1075" class="Bound">k</a> <a id="1077" class="Symbol">=</a> <a id="1079" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="1082" href="Data.Nat.Combinatorics.Base.html#1075" class="Bound">k</a> <a id="1084" href="Data.Nat.Base.html#1259" class="Function Operator">≤ᵇ</a> <a id="1087" href="Data.Nat.Combinatorics.Base.html#1071" class="Bound">n</a> <a id="1089" href="Data.Bool.Base.html#1292" class="Function Operator">then</a> <a id="1094" href="Data.Nat.Combinatorics.Base.html#1071" class="Bound">n</a> <a id="1096" href="Data.Nat.Combinatorics.Base.html#920" class="Function Operator">P′</a> <a id="1099" href="Data.Nat.Combinatorics.Base.html#1075" class="Bound">k</a> <a id="1101" href="Data.Bool.Base.html#1292" class="Function Operator">else</a> <a id="1106" class="Number">0</a>

<a id="1109" class="Comment">------------------------------------------------------------------------</a>
<a id="1182" class="Comment">-- Combinations / binomial coefficient</a>

<a id="1222" class="Comment">-- The number of ways, disregarding order, that k objects can be chosen</a>
<a id="1294" class="Comment">-- from among n objects.</a>

<a id="1320" class="Comment">-- n C k = n ! / (k ! * (n ∸ k) !)</a>

<a id="1356" class="Comment">-- Base definition. Only valid for k ≤ n.</a>

<a id="_C′_"></a><a id="1399" href="Data.Nat.Combinatorics.Base.html#1399" class="Function Operator">_C′_</a> <a id="1404" class="Symbol">:</a> <a id="1406" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1408" class="Symbol">→</a> <a id="1410" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1412" class="Symbol">→</a> <a id="1414" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="1416" href="Data.Nat.Combinatorics.Base.html#1416" class="Bound">n</a> <a id="1418" href="Data.Nat.Combinatorics.Base.html#1399" class="Function Operator">C′</a> <a id="1421" href="Data.Nat.Combinatorics.Base.html#1421" class="Bound">k</a> <a id="1423" class="Symbol">=</a> <a id="1425" class="Symbol">(</a><a id="1426" href="Data.Nat.Combinatorics.Base.html#1416" class="Bound">n</a> <a id="1428" href="Data.Nat.Combinatorics.Base.html#920" class="Function Operator">P′</a> <a id="1431" href="Data.Nat.Combinatorics.Base.html#1421" class="Bound">k</a><a id="1432" class="Symbol">)</a> <a id="1434" href="Data.Nat.Base.html#4061" class="Function Operator">/</a> <a id="1436" href="Data.Nat.Combinatorics.Base.html#1421" class="Bound">k</a> <a id="1438" href="Data.Nat.Base.html#4350" class="Function Operator">!</a>
  <a id="1442" class="Keyword">where</a> <a id="1448" class="Keyword">instance</a> <a id="1457" href="Data.Nat.Combinatorics.Base.html#1457" class="Function">_</a> <a id="1459" class="Symbol">=</a> <a id="1461" href="Data.Nat.Combinatorics.Base.html#1421" class="Bound">k</a> <a id="1463" href="Data.Nat.Properties.html#59738" class="Function Operator">!≢0</a>

<a id="1468" class="Comment">-- Main definition. Valid for all k.</a>
<a id="1505" class="Comment">-- Deals with boundary case and exploits symmetry to improve performance.</a>

<a id="_C_"></a><a id="1580" href="Data.Nat.Combinatorics.Base.html#1580" class="Function Operator">_C_</a> <a id="1584" class="Symbol">:</a> <a id="1586" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1588" class="Symbol">→</a> <a id="1590" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1592" class="Symbol">→</a> <a id="1594" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="1596" href="Data.Nat.Combinatorics.Base.html#1596" class="Bound">n</a> <a id="1598" href="Data.Nat.Combinatorics.Base.html#1580" class="Function Operator">C</a> <a id="1600" href="Data.Nat.Combinatorics.Base.html#1600" class="Bound">k</a> <a id="1602" class="Symbol">=</a> <a id="1604" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="1607" href="Data.Nat.Combinatorics.Base.html#1600" class="Bound">k</a> <a id="1609" href="Data.Nat.Base.html#1259" class="Function Operator">≤ᵇ</a> <a id="1612" href="Data.Nat.Combinatorics.Base.html#1596" class="Bound">n</a> <a id="1614" href="Data.Bool.Base.html#1292" class="Function Operator">then</a> <a id="1619" href="Data.Nat.Combinatorics.Base.html#1596" class="Bound">n</a> <a id="1621" href="Data.Nat.Combinatorics.Base.html#1399" class="Function Operator">C′</a> <a id="1624" class="Symbol">(</a><a id="1625" href="Data.Nat.Combinatorics.Base.html#1600" class="Bound">k</a> <a id="1627" href="Data.Nat.Base.html#3506" class="Function Operator">⊓</a> <a id="1629" class="Symbol">(</a><a id="1630" href="Data.Nat.Combinatorics.Base.html#1596" class="Bound">n</a> <a id="1632" href="Data.Nat.Base.html#3140" class="Primitive Operator">∸</a> <a id="1634" href="Data.Nat.Combinatorics.Base.html#1600" class="Bound">k</a><a id="1635" class="Symbol">))</a> <a id="1638" href="Data.Bool.Base.html#1292" class="Function Operator">else</a> <a id="1643" class="Number">0</a>
</pre></body></html>