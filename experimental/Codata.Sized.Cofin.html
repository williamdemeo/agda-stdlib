<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Sized.Cofin</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- &quot;Finite&quot; sets indexed on coinductive &quot;natural&quot; numbers</a>
<a id="164" class="Comment">------------------------------------------------------------------------</a>

<a id="238" class="Symbol">{-#</a> <a id="242" class="Keyword">OPTIONS</a> <a id="250" class="Pragma">--cubical-compatible</a> <a id="271" class="Pragma">--sized-types</a> <a id="285" class="Symbol">#-}</a>

<a id="290" class="Keyword">module</a> <a id="297" href="Codata.Sized.Cofin.html" class="Module">Codata.Sized.Cofin</a> <a id="316" class="Keyword">where</a>

<a id="323" class="Keyword">open</a> <a id="328" class="Keyword">import</a> <a id="335" href="Size.html" class="Module">Size</a>
<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="Codata.Sized.Thunk.html" class="Module">Codata.Sized.Thunk</a>
<a id="371" class="Keyword">open</a> <a id="376" class="Keyword">import</a> <a id="383" href="Codata.Sized.Conat.html" class="Module">Codata.Sized.Conat</a> <a id="402" class="Symbol">as</a> <a id="405" class="Module">Conat</a>
  <a id="413" class="Keyword">using</a> <a id="419" class="Symbol">(</a><a id="420" href="Codata.Sized.Conat.html#541" class="Datatype">Conat</a><a id="425" class="Symbol">;</a> <a id="427" href="Codata.Sized.Conat.html#572" class="InductiveConstructor">zero</a><a id="431" class="Symbol">;</a> <a id="433" href="Codata.Sized.Conat.html#589" class="InductiveConstructor">suc</a><a id="436" class="Symbol">;</a> <a id="438" href="Codata.Sized.Conat.html#620" class="Function">infinity</a><a id="446" class="Symbol">;</a> <a id="448" href="Codata.Sized.Conat.html#2384" class="Function Operator">_ℕ&lt;_</a><a id="452" class="Symbol">;</a> <a id="454" href="Codata.Sized.Conat.html#2335" class="InductiveConstructor">sℕ≤s</a><a id="458" class="Symbol">;</a> <a id="460" href="Codata.Sized.Conat.html#2430" class="Function Operator">_ℕ≤infinity</a><a id="471" class="Symbol">)</a>
<a id="473" class="Keyword">open</a> <a id="478" class="Keyword">import</a> <a id="485" href="Codata.Sized.Conat.Bisimilarity.html" class="Module">Codata.Sized.Conat.Bisimilarity</a> <a id="517" class="Symbol">as</a> <a id="520" class="Module">Bisim</a> <a id="526" class="Keyword">using</a> <a id="532" class="Symbol">(</a><a id="533" href="Codata.Sized.Conat.Bisimilarity.html#1300" class="Datatype Operator">_⊢_≲_</a> <a id="539" class="Symbol">;</a> <a id="541" href="Codata.Sized.Conat.Bisimilarity.html#1369" class="InductiveConstructor">s≲s</a><a id="544" class="Symbol">)</a>
<a id="546" class="Keyword">open</a> <a id="551" class="Keyword">import</a> <a id="558" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="572" class="Keyword">open</a> <a id="577" class="Keyword">import</a> <a id="584" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="598" class="Symbol">as</a> <a id="601" class="Module">Fin</a> <a id="605" class="Keyword">hiding</a> <a id="612" class="Symbol">(</a><a id="613" href="Data.Fin.Base.html#1905" class="Function">fromℕ</a><a id="618" class="Symbol">;</a> <a id="620" href="Data.Fin.Base.html#2011" class="Function">fromℕ&lt;</a><a id="626" class="Symbol">;</a> <a id="628" href="Data.Fin.Base.html#1320" class="Function">toℕ</a><a id="631" class="Symbol">)</a>
<a id="633" class="Keyword">open</a> <a id="638" class="Keyword">import</a> <a id="645" href="Function.Base.html" class="Module">Function.Base</a> <a id="659" class="Keyword">using</a> <a id="665" class="Symbol">(</a><a id="666" href="Function.Base.html#4503" class="Function Operator">_∋_</a><a id="669" class="Symbol">)</a>
<a id="671" class="Keyword">open</a> <a id="676" class="Keyword">import</a> <a id="683" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="722" class="Comment">------------------------------------------------------------------------</a>
<a id="795" class="Comment">-- The type</a>

<a id="808" class="Comment">-- Note that `Cofin infinity` is /not/ finite. Note also that this is</a>
<a id="878" class="Comment">-- not a coinductive type, but it is indexed on a coinductive type.</a>

<a id="947" class="Keyword">data</a> <a id="Cofin"></a><a id="952" href="Codata.Sized.Cofin.html#952" class="Datatype">Cofin</a> <a id="958" class="Symbol">:</a> <a id="960" href="Codata.Sized.Conat.html#541" class="Datatype">Conat</a> <a id="966" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a> <a id="968" class="Symbol">→</a> <a id="970" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="974" class="Keyword">where</a>
  <a id="Cofin.zero"></a><a id="982" href="Codata.Sized.Cofin.html#982" class="InductiveConstructor">zero</a> <a id="987" class="Symbol">:</a> <a id="989" class="Symbol">∀</a> <a id="991" class="Symbol">{</a><a id="992" href="Codata.Sized.Cofin.html#992" class="Bound">n</a><a id="993" class="Symbol">}</a> <a id="995" class="Symbol">→</a> <a id="997" href="Codata.Sized.Cofin.html#952" class="Datatype">Cofin</a> <a id="1003" class="Symbol">(</a><a id="1004" href="Codata.Sized.Conat.html#589" class="InductiveConstructor">suc</a> <a id="1008" href="Codata.Sized.Cofin.html#992" class="Bound">n</a><a id="1009" class="Symbol">)</a>
  <a id="Cofin.suc"></a><a id="1013" href="Codata.Sized.Cofin.html#1013" class="InductiveConstructor">suc</a>  <a id="1018" class="Symbol">:</a> <a id="1020" class="Symbol">∀</a> <a id="1022" class="Symbol">{</a><a id="1023" href="Codata.Sized.Cofin.html#1023" class="Bound">n</a><a id="1024" class="Symbol">}</a> <a id="1026" class="Symbol">→</a> <a id="1028" href="Codata.Sized.Cofin.html#952" class="Datatype">Cofin</a> <a id="1034" class="Symbol">(</a><a id="1035" href="Codata.Sized.Cofin.html#1023" class="Bound">n</a> <a id="1037" class="Symbol">.</a><a id="1038" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="1043" class="Symbol">)</a> <a id="1045" class="Symbol">→</a> <a id="1047" href="Codata.Sized.Cofin.html#952" class="Datatype">Cofin</a> <a id="1053" class="Symbol">(</a><a id="1054" href="Codata.Sized.Conat.html#589" class="InductiveConstructor">suc</a> <a id="1058" href="Codata.Sized.Cofin.html#1023" class="Bound">n</a><a id="1059" class="Symbol">)</a>

<a id="suc-injective"></a><a id="1062" href="Codata.Sized.Cofin.html#1062" class="Function">suc-injective</a> <a id="1076" class="Symbol">:</a> <a id="1078" class="Symbol">∀</a> <a id="1080" class="Symbol">{</a><a id="1081" href="Codata.Sized.Cofin.html#1081" class="Bound">n</a><a id="1082" class="Symbol">}</a> <a id="1084" class="Symbol">{</a><a id="1085" href="Codata.Sized.Cofin.html#1085" class="Bound">p</a> <a id="1087" href="Codata.Sized.Cofin.html#1087" class="Bound">q</a> <a id="1089" class="Symbol">:</a> <a id="1091" href="Codata.Sized.Cofin.html#952" class="Datatype">Cofin</a> <a id="1097" class="Symbol">(</a><a id="1098" href="Codata.Sized.Cofin.html#1081" class="Bound">n</a> <a id="1100" class="Symbol">.</a><a id="1101" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="1106" class="Symbol">)}</a> <a id="1109" class="Symbol">→</a>
                <a id="1127" class="Symbol">(</a><a id="1128" href="Codata.Sized.Cofin.html#952" class="Datatype">Cofin</a> <a id="1134" class="Symbol">(</a><a id="1135" class="InductiveConstructor">suc</a> <a id="1139" href="Codata.Sized.Cofin.html#1081" class="Bound">n</a><a id="1140" class="Symbol">)</a> <a id="1142" href="Function.Base.html#4503" class="Function Operator">∋</a> <a id="1144" class="InductiveConstructor">suc</a> <a id="1148" href="Codata.Sized.Cofin.html#1085" class="Bound">p</a><a id="1149" class="Symbol">)</a> <a id="1151" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1153" class="InductiveConstructor">suc</a> <a id="1157" href="Codata.Sized.Cofin.html#1087" class="Bound">q</a> <a id="1159" class="Symbol">→</a> <a id="1161" href="Codata.Sized.Cofin.html#1085" class="Bound">p</a> <a id="1163" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1165" href="Codata.Sized.Cofin.html#1087" class="Bound">q</a>
<a id="1167" href="Codata.Sized.Cofin.html#1062" class="Function">suc-injective</a> <a id="1181" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="1186" class="Symbol">=</a> <a id="1188" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="1194" class="Comment">------------------------------------------------------------------------</a>
<a id="1267" class="Comment">-- Some operations</a>

<a id="fromℕ&lt;"></a><a id="1287" href="Codata.Sized.Cofin.html#1287" class="Function">fromℕ&lt;</a> <a id="1294" class="Symbol">:</a> <a id="1296" class="Symbol">∀</a> <a id="1298" class="Symbol">{</a><a id="1299" href="Codata.Sized.Cofin.html#1299" class="Bound">n</a> <a id="1301" href="Codata.Sized.Cofin.html#1301" class="Bound">k</a><a id="1302" class="Symbol">}</a> <a id="1304" class="Symbol">→</a> <a id="1306" href="Codata.Sized.Cofin.html#1301" class="Bound">k</a> <a id="1308" href="Codata.Sized.Conat.html#2384" class="Function Operator">ℕ&lt;</a> <a id="1311" href="Codata.Sized.Cofin.html#1299" class="Bound">n</a> <a id="1313" class="Symbol">→</a> <a id="1315" href="Codata.Sized.Cofin.html#952" class="Datatype">Cofin</a> <a id="1321" href="Codata.Sized.Cofin.html#1299" class="Bound">n</a>
<a id="1323" href="Codata.Sized.Cofin.html#1287" class="Function">fromℕ&lt;</a> <a id="1330" class="Symbol">{</a><a id="1331" href="Codata.Sized.Conat.html#572" class="InductiveConstructor">zero</a><a id="1335" class="Symbol">}</a>  <a id="1338" class="Symbol">()</a>
<a id="1341" href="Codata.Sized.Cofin.html#1287" class="Function">fromℕ&lt;</a> <a id="1348" class="Symbol">{</a><a id="1349" href="Codata.Sized.Conat.html#589" class="InductiveConstructor">suc</a> <a id="1353" href="Codata.Sized.Cofin.html#1353" class="Bound">n</a><a id="1354" class="Symbol">}</a> <a id="1356" class="Symbol">{</a><a id="1357" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="1361" class="Symbol">}</a>  <a id="1364" class="Symbol">(</a><a id="1365" href="Codata.Sized.Conat.html#2335" class="InductiveConstructor">sℕ≤s</a> <a id="1370" href="Codata.Sized.Cofin.html#1370" class="Bound">p</a><a id="1371" class="Symbol">)</a> <a id="1373" class="Symbol">=</a> <a id="1375" href="Codata.Sized.Cofin.html#982" class="InductiveConstructor">zero</a>
<a id="1380" href="Codata.Sized.Cofin.html#1287" class="Function">fromℕ&lt;</a> <a id="1387" class="Symbol">{</a><a id="1388" href="Codata.Sized.Conat.html#589" class="InductiveConstructor">suc</a> <a id="1392" href="Codata.Sized.Cofin.html#1392" class="Bound">n</a><a id="1393" class="Symbol">}</a> <a id="1395" class="Symbol">{</a><a id="1396" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1400" href="Codata.Sized.Cofin.html#1400" class="Bound">k</a><a id="1401" class="Symbol">}</a> <a id="1403" class="Symbol">(</a><a id="1404" href="Codata.Sized.Conat.html#2335" class="InductiveConstructor">sℕ≤s</a> <a id="1409" href="Codata.Sized.Cofin.html#1409" class="Bound">p</a><a id="1410" class="Symbol">)</a> <a id="1412" class="Symbol">=</a> <a id="1414" href="Codata.Sized.Cofin.html#1013" class="InductiveConstructor">suc</a> <a id="1418" class="Symbol">(</a><a id="1419" href="Codata.Sized.Cofin.html#1287" class="Function">fromℕ&lt;</a> <a id="1426" href="Codata.Sized.Cofin.html#1409" class="Bound">p</a><a id="1427" class="Symbol">)</a>

<a id="fromℕ"></a><a id="1430" href="Codata.Sized.Cofin.html#1430" class="Function">fromℕ</a> <a id="1436" class="Symbol">:</a> <a id="1438" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1440" class="Symbol">→</a> <a id="1442" href="Codata.Sized.Cofin.html#952" class="Datatype">Cofin</a> <a id="1448" href="Codata.Sized.Conat.html#620" class="Function">infinity</a>
<a id="1457" href="Codata.Sized.Cofin.html#1430" class="Function">fromℕ</a> <a id="1463" href="Codata.Sized.Cofin.html#1463" class="Bound">k</a> <a id="1465" class="Symbol">=</a> <a id="1467" href="Codata.Sized.Cofin.html#1287" class="Function">fromℕ&lt;</a> <a id="1474" class="Symbol">(</a><a id="1475" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1479" href="Codata.Sized.Cofin.html#1463" class="Bound">k</a> <a id="1481" href="Codata.Sized.Conat.html#2430" class="Function Operator">ℕ≤infinity</a><a id="1491" class="Symbol">)</a>

<a id="toℕ"></a><a id="1494" href="Codata.Sized.Cofin.html#1494" class="Function">toℕ</a> <a id="1498" class="Symbol">:</a> <a id="1500" class="Symbol">∀</a> <a id="1502" class="Symbol">{</a><a id="1503" href="Codata.Sized.Cofin.html#1503" class="Bound">n</a><a id="1504" class="Symbol">}</a> <a id="1506" class="Symbol">→</a> <a id="1508" href="Codata.Sized.Cofin.html#952" class="Datatype">Cofin</a> <a id="1514" href="Codata.Sized.Cofin.html#1503" class="Bound">n</a> <a id="1516" class="Symbol">→</a> <a id="1518" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="1520" href="Codata.Sized.Cofin.html#1494" class="Function">toℕ</a> <a id="1524" href="Codata.Sized.Cofin.html#982" class="InductiveConstructor">zero</a>    <a id="1532" class="Symbol">=</a> <a id="1534" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>
<a id="1539" href="Codata.Sized.Cofin.html#1494" class="Function">toℕ</a> <a id="1543" class="Symbol">(</a><a id="1544" href="Codata.Sized.Cofin.html#1013" class="InductiveConstructor">suc</a> <a id="1548" href="Codata.Sized.Cofin.html#1548" class="Bound">i</a><a id="1549" class="Symbol">)</a> <a id="1551" class="Symbol">=</a> <a id="1553" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1557" class="Symbol">(</a><a id="1558" href="Codata.Sized.Cofin.html#1494" class="Function">toℕ</a> <a id="1562" href="Codata.Sized.Cofin.html#1548" class="Bound">i</a><a id="1563" class="Symbol">)</a>

<a id="fromFin"></a><a id="1566" href="Codata.Sized.Cofin.html#1566" class="Function">fromFin</a> <a id="1574" class="Symbol">:</a> <a id="1576" class="Symbol">∀</a> <a id="1578" class="Symbol">{</a><a id="1579" href="Codata.Sized.Cofin.html#1579" class="Bound">n</a><a id="1580" class="Symbol">}</a> <a id="1582" class="Symbol">→</a> <a id="1584" href="Data.Fin.Base.html#1212" class="Datatype">Fin</a> <a id="1588" href="Codata.Sized.Cofin.html#1579" class="Bound">n</a> <a id="1590" class="Symbol">→</a> <a id="1592" href="Codata.Sized.Cofin.html#952" class="Datatype">Cofin</a> <a id="1598" class="Symbol">(</a><a id="1599" href="Codata.Sized.Conat.html#689" class="Function">Conat.fromℕ</a> <a id="1611" href="Codata.Sized.Cofin.html#1579" class="Bound">n</a><a id="1612" class="Symbol">)</a>
<a id="1614" href="Codata.Sized.Cofin.html#1566" class="Function">fromFin</a> <a id="1622" href="Data.Fin.Base.html#1234" class="InductiveConstructor">zero</a>    <a id="1630" class="Symbol">=</a> <a id="1632" href="Codata.Sized.Cofin.html#982" class="InductiveConstructor">zero</a>
<a id="1637" href="Codata.Sized.Cofin.html#1566" class="Function">fromFin</a> <a id="1645" class="Symbol">(</a><a id="1646" href="Data.Fin.Base.html#1255" class="InductiveConstructor">suc</a> <a id="1650" href="Codata.Sized.Cofin.html#1650" class="Bound">i</a><a id="1651" class="Symbol">)</a> <a id="1653" class="Symbol">=</a> <a id="1655" href="Codata.Sized.Cofin.html#1013" class="InductiveConstructor">suc</a> <a id="1659" class="Symbol">(</a><a id="1660" href="Codata.Sized.Cofin.html#1566" class="Function">fromFin</a> <a id="1668" href="Codata.Sized.Cofin.html#1650" class="Bound">i</a><a id="1669" class="Symbol">)</a>

<a id="toFin"></a><a id="1672" href="Codata.Sized.Cofin.html#1672" class="Function">toFin</a> <a id="1678" class="Symbol">:</a> <a id="1680" class="Symbol">∀</a> <a id="1682" href="Codata.Sized.Cofin.html#1682" class="Bound">n</a> <a id="1684" class="Symbol">→</a> <a id="1686" href="Codata.Sized.Cofin.html#952" class="Datatype">Cofin</a> <a id="1692" class="Symbol">(</a><a id="1693" href="Codata.Sized.Conat.html#689" class="Function">Conat.fromℕ</a> <a id="1705" href="Codata.Sized.Cofin.html#1682" class="Bound">n</a><a id="1706" class="Symbol">)</a> <a id="1708" class="Symbol">→</a> <a id="1710" href="Data.Fin.Base.html#1212" class="Datatype">Fin</a> <a id="1714" href="Codata.Sized.Cofin.html#1682" class="Bound">n</a>
<a id="1716" href="Codata.Sized.Cofin.html#1672" class="Function">toFin</a> <a id="1722" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>    <a id="1730" class="Symbol">()</a>
<a id="1733" href="Codata.Sized.Cofin.html#1672" class="Function">toFin</a> <a id="1739" class="Symbol">(</a><a id="1740" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1744" href="Codata.Sized.Cofin.html#1744" class="Bound">n</a><a id="1745" class="Symbol">)</a> <a id="1747" href="Codata.Sized.Cofin.html#982" class="InductiveConstructor">zero</a>    <a id="1755" class="Symbol">=</a> <a id="1757" href="Data.Fin.Base.html#1234" class="InductiveConstructor">zero</a>
<a id="1762" href="Codata.Sized.Cofin.html#1672" class="Function">toFin</a> <a id="1768" class="Symbol">(</a><a id="1769" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1773" href="Codata.Sized.Cofin.html#1773" class="Bound">n</a><a id="1774" class="Symbol">)</a> <a id="1776" class="Symbol">(</a><a id="1777" href="Codata.Sized.Cofin.html#1013" class="InductiveConstructor">suc</a> <a id="1781" href="Codata.Sized.Cofin.html#1781" class="Bound">i</a><a id="1782" class="Symbol">)</a> <a id="1784" class="Symbol">=</a> <a id="1786" href="Data.Fin.Base.html#1255" class="InductiveConstructor">suc</a> <a id="1790" class="Symbol">(</a><a id="1791" href="Codata.Sized.Cofin.html#1672" class="Function">toFin</a> <a id="1797" href="Codata.Sized.Cofin.html#1773" class="Bound">n</a> <a id="1799" href="Codata.Sized.Cofin.html#1781" class="Bound">i</a><a id="1800" class="Symbol">)</a>
</pre></body></html>