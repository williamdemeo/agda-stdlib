<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>System.FilePath.Posix</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Posix filepaths</a>
<a id="125" class="Comment">------------------------------------------------------------------------</a>

<a id="199" class="Symbol">{-#</a> <a id="203" class="Keyword">OPTIONS</a> <a id="211" class="Pragma">--cubical-compatible</a> <a id="232" class="Pragma">--guardedness</a> <a id="246" class="Symbol">#-}</a>

<a id="251" class="Keyword">module</a> <a id="258" href="System.FilePath.Posix.html" class="Module">System.FilePath.Posix</a> <a id="280" class="Keyword">where</a>

<a id="287" class="Keyword">open</a> <a id="292" class="Keyword">import</a> <a id="299" href="Agda.Builtin.Bool.html" class="Module">Agda.Builtin.Bool</a> <a id="317" class="Keyword">using</a> <a id="323" class="Symbol">(</a><a id="324" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a><a id="328" class="Symbol">)</a>
<a id="330" class="Keyword">open</a> <a id="335" class="Keyword">import</a> <a id="342" href="Agda.Builtin.List.html" class="Module">Agda.Builtin.List</a> <a id="360" class="Keyword">using</a> <a id="366" class="Symbol">(</a><a id="367" href="Agda.Builtin.List.html#130" class="Datatype">List</a><a id="371" class="Symbol">)</a>
<a id="373" class="Keyword">open</a> <a id="378" class="Keyword">import</a> <a id="385" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a> <a id="405" class="Keyword">using</a> <a id="411" class="Symbol">(</a><a id="412" href="Agda.Builtin.String.html#318" class="Postulate">String</a><a id="418" class="Symbol">)</a>
<a id="420" class="Keyword">open</a> <a id="425" class="Keyword">import</a> <a id="432" href="IO.Base.html" class="Module">IO.Base</a> <a id="440" class="Keyword">using</a> <a id="446" class="Symbol">(</a><a id="447" href="IO.Base.html#1180" class="Datatype">IO</a><a id="449" class="Symbol">;</a> <a id="451" href="IO.Base.html#1217" class="InductiveConstructor">lift</a><a id="455" class="Symbol">)</a>
<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="485" class="Keyword">using</a> <a id="491" class="Symbol">(</a><a id="492" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a><a id="497" class="Symbol">)</a>
<a id="499" class="Keyword">open</a> <a id="504" class="Keyword">import</a> <a id="511" href="Data.Product.html" class="Module">Data.Product</a> <a id="524" class="Keyword">using</a> <a id="530" class="Symbol">(</a><a id="531" href="Data.Product.html#1176" class="Function Operator">_×_</a><a id="534" class="Symbol">)</a>
<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a> <a id="562" class="Keyword">using</a> <a id="568" class="Symbol">(</a><a id="569" href="Data.Sum.Base.html#743" class="Datatype Operator">_⊎_</a><a id="572" class="Symbol">)</a>
<a id="574" class="Keyword">open</a> <a id="579" class="Keyword">import</a> <a id="586" href="Function.html" class="Module">Function</a>

<a id="596" class="Keyword">open</a> <a id="601" class="Keyword">import</a> <a id="608" href="Foreign.Haskell.Coerce.html" class="Module">Foreign.Haskell.Coerce</a>

<a id="632" class="Keyword">open</a> <a id="637" class="Keyword">import</a> <a id="644" href="System.FilePath.Posix.Primitive.html" class="Module">System.FilePath.Posix.Primitive</a> <a id="676" class="Symbol">as</a> <a id="679" class="Module">Prim</a>
  <a id="686" class="Keyword">public</a>
  <a id="695" class="Comment">-- Some of these functions are not directly re-exported because their</a>
  <a id="767" class="Comment">-- respective types mentions FFI-friendly versions of the stdlib&#39;s types</a>
  <a id="842" class="Comment">-- e.g. `Pair` instead of `_×_`.</a>
  <a id="877" class="Comment">-- A wrapper is systematically defined below using Foreign.Haskell.Coerce&#39;s</a>
  <a id="955" class="Comment">-- zero-cost coercion to expose a more useful function to users.</a>
  <a id="1022" class="Keyword">using</a> <a id="1028" class="Symbol">(</a> <a id="1030" class="Keyword">module</a> <a id="1037" href="System.FilePath.Posix.Primitive.html#973" class="Module">Nature</a>
        <a id="1052" class="Symbol">;</a> <a id="1054" href="System.FilePath.Posix.Primitive.html#1003" class="Postulate">Nature</a>
        <a id="1069" class="Symbol">;</a> <a id="1071" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a>
        <a id="1088" class="Symbol">;</a> <a id="1090" href="System.FilePath.Posix.Primitive.html#2556" class="Postulate">mkFilePath</a>
        <a id="1109" class="Symbol">;</a> <a id="1111" href="System.FilePath.Posix.Primitive.html#1509" class="Postulate">getFilePath</a>
        <a id="1131" class="Symbol">;</a> <a id="1133" href="System.FilePath.Posix.Primitive.html#2189" class="Function">AbsolutePath</a>
        <a id="1154" class="Symbol">;</a> <a id="1156" href="System.FilePath.Posix.Primitive.html#2229" class="Function">RelativePath</a>
        <a id="1177" class="Symbol">;</a> <a id="1179" href="System.FilePath.Posix.Primitive.html#2269" class="Function">SomePath</a>
        <a id="1196" class="Symbol">;</a> <a id="1198" href="System.FilePath.Posix.Primitive.html#1547" class="Postulate">Extension</a>
        <a id="1216" class="Symbol">;</a> <a id="1218" href="System.FilePath.Posix.Primitive.html#1568" class="Postulate">mkExtension</a>
        <a id="1238" class="Symbol">;</a> <a id="1240" href="System.FilePath.Posix.Primitive.html#1604" class="Postulate">getExtension</a>
     <a id="1258" class="Comment">-- Separator predicates</a>
        <a id="1290" class="Symbol">;</a> <a id="1292" href="System.FilePath.Posix.Primitive.html#2669" class="Postulate">pathSeparator</a>
        <a id="1314" class="Symbol">;</a> <a id="1316" href="System.FilePath.Posix.Primitive.html#2700" class="Postulate">pathSeparators</a>
        <a id="1339" class="Symbol">;</a> <a id="1341" href="System.FilePath.Posix.Primitive.html#2736" class="Postulate">isPathSeparator</a>
        <a id="1365" class="Symbol">;</a> <a id="1367" href="System.FilePath.Posix.Primitive.html#2774" class="Postulate">searchPathSeparator</a>
        <a id="1395" class="Symbol">;</a> <a id="1397" href="System.FilePath.Posix.Primitive.html#2805" class="Postulate">isSearchPathSeparator</a>
        <a id="1427" class="Symbol">;</a> <a id="1429" href="System.FilePath.Posix.Primitive.html#2843" class="Postulate">extSeparator</a>
        <a id="1450" class="Symbol">;</a> <a id="1452" href="System.FilePath.Posix.Primitive.html#2874" class="Postulate">isExtSeparator</a>
     <a id="1472" class="Comment">-- $PATH methods</a>
        <a id="1497" class="Symbol">;</a> <a id="1499" href="System.FilePath.Posix.Primitive.html#2933" class="Postulate">splitSearchPath</a>
     <a id="1520" class="Comment">-- ; getSearchPath see below: lift needed</a>
     <a id="1567" class="Comment">-- Extension functions</a>
     <a id="1595" class="Comment">-- ; splitExtension see below: coerce needed</a>
        <a id="1648" class="Symbol">;</a> <a id="1650" href="System.FilePath.Posix.Primitive.html#3105" class="Postulate">takeExtension</a>
        <a id="1672" class="Symbol">;</a> <a id="1674" href="System.FilePath.Posix.Primitive.html#3150" class="Postulate">replaceExtension</a>
        <a id="1699" class="Symbol">;</a> <a id="1701" href="System.FilePath.Posix.Primitive.html#3208" class="Postulate">dropExtension</a>
        <a id="1723" class="Symbol">;</a> <a id="1725" href="System.FilePath.Posix.Primitive.html#3254" class="Postulate">addExtension</a>
        <a id="1746" class="Symbol">;</a> <a id="1748" href="System.FilePath.Posix.Primitive.html#3312" class="Postulate">hasExtension</a>
        <a id="1769" class="Symbol">;</a> <a id="1771" href="System.FilePath.Posix.Primitive.html#3415" class="Postulate">takeExtensions</a>
        <a id="1794" class="Symbol">;</a> <a id="1796" href="System.FilePath.Posix.Primitive.html#3460" class="Postulate">replaceExtensions</a>
        <a id="1822" class="Symbol">;</a> <a id="1824" href="System.FilePath.Posix.Primitive.html#3518" class="Postulate">dropExtensions</a>
        <a id="1847" class="Symbol">;</a> <a id="1849" href="System.FilePath.Posix.Primitive.html#3564" class="Postulate">isExtensionOf</a>
     <a id="1868" class="Comment">-- ; stripExtension see below: coerce needed</a>
     <a id="1918" class="Comment">-- Filename/directory functions</a>
     <a id="1955" class="Comment">-- ; splitFileName see below: coerce needed</a>
        <a id="2007" class="Symbol">;</a> <a id="2009" href="System.FilePath.Posix.Primitive.html#3783" class="Postulate">takeFileName</a>
        <a id="2030" class="Symbol">;</a> <a id="2032" href="System.FilePath.Posix.Primitive.html#3824" class="Postulate">replaceFileName</a>
        <a id="2056" class="Symbol">;</a> <a id="2058" href="System.FilePath.Posix.Primitive.html#3878" class="Postulate">dropFileName</a>
        <a id="2079" class="Symbol">;</a> <a id="2081" href="System.FilePath.Posix.Primitive.html#3923" class="Postulate">takeBaseName</a>
        <a id="2102" class="Symbol">;</a> <a id="2104" href="System.FilePath.Posix.Primitive.html#3964" class="Postulate">replaceBaseName</a>
        <a id="2128" class="Symbol">;</a> <a id="2130" href="System.FilePath.Posix.Primitive.html#4018" class="Postulate">takeDirectory</a>
        <a id="2152" class="Symbol">;</a> <a id="2154" href="System.FilePath.Posix.Primitive.html#4063" class="Postulate">replaceDirectory</a>
        <a id="2179" class="Symbol">;</a> <a id="2181" href="System.FilePath.Posix.Primitive.html#4121" class="Postulate">combine</a>
        <a id="2197" class="Symbol">;</a> <a id="2199" href="System.FilePath.Posix.Primitive.html#4181" class="Postulate">splitPath</a>
        <a id="2217" class="Symbol">;</a> <a id="2219" href="System.FilePath.Posix.Primitive.html#4233" class="Postulate">joinPath</a>
        <a id="2236" class="Symbol">;</a> <a id="2238" href="System.FilePath.Posix.Primitive.html#4287" class="Postulate">splitDirectories</a>
      <a id="2261" class="Comment">-- Trailing slash functions</a>
        <a id="2297" class="Symbol">;</a> <a id="2299" href="System.FilePath.Posix.Primitive.html#4653" class="Postulate">hasTrailingPathSeparator</a>
        <a id="2332" class="Symbol">;</a> <a id="2334" href="System.FilePath.Posix.Primitive.html#4701" class="Postulate">addTrailingPathSeparator</a>
        <a id="2367" class="Symbol">;</a> <a id="2369" href="System.FilePath.Posix.Primitive.html#4755" class="Postulate">dropTrailingPathSeparator</a>
     <a id="2400" class="Comment">-- File name manipulations</a>
        <a id="2435" class="Symbol">;</a> <a id="2437" href="System.FilePath.Posix.Primitive.html#4840" class="Postulate">normalise</a>
        <a id="2455" class="Symbol">;</a> <a id="2457" href="System.FilePath.Posix.Primitive.html#4882" class="Postulate">equalFilePath</a>
        <a id="2479" class="Symbol">;</a> <a id="2481" href="System.FilePath.Posix.Primitive.html#4931" class="Postulate">makeRelative</a>
     <a id="2499" class="Comment">-- ; checkFilePath see below: coerce needed</a>
        <a id="2551" class="Symbol">;</a> <a id="2553" href="System.FilePath.Posix.Primitive.html#5052" class="Postulate">isRelative</a>
        <a id="2572" class="Symbol">;</a> <a id="2574" href="System.FilePath.Posix.Primitive.html#5088" class="Postulate">isAbsolute</a>
        <a id="2593" class="Symbol">;</a> <a id="2595" href="System.FilePath.Posix.Primitive.html#5124" class="Postulate">isValid</a>
        <a id="2611" class="Symbol">;</a> <a id="2613" href="System.FilePath.Posix.Primitive.html#5160" class="Postulate">makeValid</a>
        <a id="2631" class="Symbol">)</a>

<a id="2634" class="Keyword">private</a>
  <a id="2644" class="Keyword">variable</a>
    <a id="2657" href="System.FilePath.Posix.html#2657" class="Generalizable">m</a> <a id="2659" href="System.FilePath.Posix.html#2659" class="Generalizable">n</a> <a id="2661" class="Symbol">:</a> <a id="2663" href="System.FilePath.Posix.Primitive.html#1003" class="Postulate">Nature</a>

<a id="2671" class="Comment">-- singleton type for Nature</a>
<a id="2700" class="Keyword">data</a> <a id="KnownNature"></a><a id="2705" href="System.FilePath.Posix.html#2705" class="Datatype">KnownNature</a> <a id="2717" class="Symbol">:</a> <a id="2719" href="System.FilePath.Posix.Primitive.html#1003" class="Postulate">Nature</a> <a id="2726" class="Symbol">→</a> <a id="2728" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="2732" class="Keyword">where</a>
  <a id="2740" class="Keyword">instance</a>
    <a id="KnownNature.absolute"></a><a id="2753" href="System.FilePath.Posix.html#2753" class="InductiveConstructor">absolute</a> <a id="2762" class="Symbol">:</a> <a id="2764" href="System.FilePath.Posix.html#2705" class="Datatype">KnownNature</a> <a id="2776" href="System.FilePath.Posix.Primitive.html#1029" class="Postulate">Nature.absolute</a>
    <a id="KnownNature.relative"></a><a id="2796" href="System.FilePath.Posix.html#2796" class="InductiveConstructor">relative</a> <a id="2805" class="Symbol">:</a> <a id="2807" href="System.FilePath.Posix.html#2705" class="Datatype">KnownNature</a> <a id="2819" href="System.FilePath.Posix.Primitive.html#1020" class="Postulate">Nature.relative</a>

<a id="currentDirectory"></a><a id="2836" href="System.FilePath.Posix.html#2836" class="Function">currentDirectory</a> <a id="2853" class="Symbol">:</a> <a id="2855" href="System.FilePath.Posix.Primitive.html#2269" class="Function">SomePath</a>
<a id="2864" href="System.FilePath.Posix.html#2836" class="Function">currentDirectory</a> <a id="2881" class="Symbol">=</a> <a id="2883" href="System.FilePath.Posix.Primitive.html#2556" class="Postulate">mkFilePath</a> <a id="2894" class="String">&quot;.&quot;</a>

<a id="splitExtension"></a><a id="2899" href="System.FilePath.Posix.html#2899" class="Function">splitExtension</a>  <a id="2915" class="Symbol">:</a> <a id="2917" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="2926" href="System.FilePath.Posix.html#2659" class="Generalizable">n</a> <a id="2928" class="Symbol">→</a> <a id="2930" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="2939" href="System.FilePath.Posix.html#2659" class="Generalizable">n</a> <a id="2941" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="2943" href="System.FilePath.Posix.Primitive.html#1547" class="Postulate">Extension</a>
<a id="2953" href="System.FilePath.Posix.html#2899" class="Function">splitExtension</a> <a id="2968" class="Symbol">=</a> <a id="2970" href="Foreign.Haskell.Coerce.html#2737" class="Postulate">coerce</a> <a id="2977" href="System.FilePath.Posix.Primitive.html#3042" class="Postulate">Prim.splitExtension</a>

<a id="splitExtensions"></a><a id="2998" href="System.FilePath.Posix.html#2998" class="Function">splitExtensions</a> <a id="3014" class="Symbol">:</a> <a id="3016" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="3025" href="System.FilePath.Posix.html#2659" class="Generalizable">n</a> <a id="3027" class="Symbol">→</a> <a id="3029" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="3038" href="System.FilePath.Posix.html#2659" class="Generalizable">n</a> <a id="3040" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3042" href="System.FilePath.Posix.Primitive.html#1547" class="Postulate">Extension</a>
<a id="3052" href="System.FilePath.Posix.html#2998" class="Function">splitExtensions</a> <a id="3068" class="Symbol">=</a> <a id="3070" href="Foreign.Haskell.Coerce.html#2737" class="Postulate">coerce</a> <a id="3077" href="System.FilePath.Posix.Primitive.html#3352" class="Postulate">Prim.splitExtensions</a>

<a id="stripExtension"></a><a id="3099" href="System.FilePath.Posix.html#3099" class="Function">stripExtension</a> <a id="3114" class="Symbol">:</a> <a id="3116" href="System.FilePath.Posix.Primitive.html#1547" class="Postulate">Extension</a> <a id="3126" class="Symbol">→</a> <a id="3128" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="3137" href="System.FilePath.Posix.html#2659" class="Generalizable">n</a> <a id="3139" class="Symbol">→</a> <a id="3141" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3147" class="Symbol">(</a><a id="3148" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="3157" href="System.FilePath.Posix.html#2659" class="Generalizable">n</a><a id="3158" class="Symbol">)</a>
<a id="3160" href="System.FilePath.Posix.html#3099" class="Function">stripExtension</a> <a id="3175" class="Symbol">=</a> <a id="3177" href="Foreign.Haskell.Coerce.html#2737" class="Postulate">coerce</a> <a id="3184" href="System.FilePath.Posix.Primitive.html#3616" class="Postulate">Prim.stripExtension</a>

<a id="getSearchPath"></a><a id="3205" href="System.FilePath.Posix.html#3205" class="Function">getSearchPath</a> <a id="3219" class="Symbol">:</a> <a id="3221" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3224" class="Symbol">(</a><a id="3225" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3230" href="System.FilePath.Posix.Primitive.html#2269" class="Function">SomePath</a><a id="3238" class="Symbol">)</a>
<a id="3240" href="System.FilePath.Posix.html#3205" class="Function">getSearchPath</a> <a id="3254" class="Symbol">=</a> <a id="3256" href="IO.Base.html#1217" class="InductiveConstructor">lift</a> <a id="3261" href="System.FilePath.Posix.Primitive.html#2976" class="Postulate">Prim.getSearchPath</a>

<a id="splitFileName"></a><a id="3281" href="System.FilePath.Posix.html#3281" class="Function">splitFileName</a> <a id="3295" class="Symbol">:</a> <a id="3297" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="3306" href="System.FilePath.Posix.html#2659" class="Generalizable">n</a> <a id="3308" class="Symbol">→</a> <a id="3310" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="3319" href="System.FilePath.Posix.html#2659" class="Generalizable">n</a> <a id="3321" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3323" href="System.FilePath.Posix.Primitive.html#2229" class="Function">RelativePath</a>
<a id="3336" href="System.FilePath.Posix.html#3281" class="Function">splitFileName</a> <a id="3350" class="Symbol">=</a> <a id="3352" href="Foreign.Haskell.Coerce.html#2737" class="Postulate">coerce</a> <a id="3359" href="System.FilePath.Posix.Primitive.html#3718" class="Postulate">Prim.splitFileName</a>

<a id="checkFilePath"></a><a id="3379" href="System.FilePath.Posix.html#3379" class="Function">checkFilePath</a> <a id="3393" class="Symbol">:</a> <a id="3395" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="3404" href="System.FilePath.Posix.html#2659" class="Generalizable">n</a> <a id="3406" class="Symbol">→</a> <a id="3408" href="System.FilePath.Posix.Primitive.html#2229" class="Function">RelativePath</a> <a id="3421" href="Data.Sum.Base.html#743" class="Datatype Operator">⊎</a> <a id="3423" href="System.FilePath.Posix.Primitive.html#2189" class="Function">AbsolutePath</a>
<a id="3436" href="System.FilePath.Posix.html#3379" class="Function">checkFilePath</a> <a id="3450" class="Symbol">=</a> <a id="3452" href="Foreign.Haskell.Coerce.html#2737" class="Postulate">coerce</a> <a id="3459" href="System.FilePath.Posix.Primitive.html#4988" class="Postulate">Prim.checkFilePath</a>
</pre></body></html>