<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Sized.M</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- M-types (the dual of W-types)</a>
<a id="139" class="Comment">------------------------------------------------------------------------</a>

<a id="213" class="Symbol">{-#</a> <a id="217" class="Keyword">OPTIONS</a> <a id="225" class="Pragma">--cubical-compatible</a> <a id="246" class="Pragma">--sized-types</a> <a id="260" class="Symbol">#-}</a>

<a id="265" class="Keyword">module</a> <a id="272" href="Codata.Sized.M.html" class="Module">Codata.Sized.M</a> <a id="287" class="Keyword">where</a>

<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Size.html" class="Module">Size</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Level.html" class="Module">Level</a>
<a id="329" class="Keyword">open</a> <a id="334" class="Keyword">import</a> <a id="341" href="Codata.Sized.Thunk.html" class="Module">Codata.Sized.Thunk</a> <a id="360" class="Keyword">using</a> <a id="366" class="Symbol">(</a><a id="367" href="Codata.Sized.Thunk.html#482" class="Record">Thunk</a><a id="372" class="Symbol">;</a> <a id="374" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="379" class="Symbol">)</a>
<a id="381" class="Keyword">open</a> <a id="386" class="Keyword">import</a> <a id="393" href="Data.Product.html" class="Module">Data.Product</a> <a id="406" class="Keyword">hiding</a> <a id="413" class="Symbol">(</a><a id="414" href="Data.Product.html#2495" class="Function">map</a><a id="417" class="Symbol">)</a>
<a id="419" class="Keyword">open</a> <a id="424" class="Keyword">import</a> <a id="431" href="Data.Container.Core.html" class="Module">Data.Container.Core</a> <a id="451" class="Symbol">as</a> <a id="454" class="Module">C</a> <a id="456" class="Keyword">hiding</a> <a id="463" class="Symbol">(</a><a id="464" href="Data.Container.Core.html#889" class="Function">map</a><a id="467" class="Symbol">)</a>

<a id="470" class="Keyword">data</a> <a id="M"></a><a id="475" href="Codata.Sized.M.html#475" class="Datatype">M</a> <a id="477" class="Symbol">{</a><a id="478" href="Codata.Sized.M.html#478" class="Bound">s</a> <a id="480" href="Codata.Sized.M.html#480" class="Bound">p</a><a id="481" class="Symbol">}</a> <a id="483" class="Symbol">(</a><a id="484" href="Codata.Sized.M.html#484" class="Bound">C</a> <a id="486" class="Symbol">:</a> <a id="488" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="498" href="Codata.Sized.M.html#478" class="Bound">s</a> <a id="500" href="Codata.Sized.M.html#480" class="Bound">p</a><a id="501" class="Symbol">)</a> <a id="503" class="Symbol">(</a><a id="504" href="Codata.Sized.M.html#504" class="Bound">i</a> <a id="506" class="Symbol">:</a> <a id="508" href="Agda.Builtin.Size.html#196" class="Postulate">Size</a><a id="512" class="Symbol">)</a> <a id="514" class="Symbol">:</a> <a id="516" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="520" class="Symbol">(</a><a id="521" href="Codata.Sized.M.html#478" class="Bound">s</a> <a id="523" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="525" href="Codata.Sized.M.html#480" class="Bound">p</a><a id="526" class="Symbol">)</a> <a id="528" class="Keyword">where</a>
  <a id="M.inf"></a><a id="536" href="Codata.Sized.M.html#536" class="InductiveConstructor">inf</a> <a id="540" class="Symbol">:</a> <a id="542" href="Data.Container.Core.html#764" class="Function Operator">⟦</a> <a id="544" href="Codata.Sized.M.html#484" class="Bound">C</a> <a id="546" href="Data.Container.Core.html#764" class="Function Operator">⟧</a> <a id="548" class="Symbol">(</a><a id="549" href="Codata.Sized.Thunk.html#482" class="Record">Thunk</a> <a id="555" class="Symbol">(</a><a id="556" href="Codata.Sized.M.html#475" class="Datatype">M</a> <a id="558" href="Codata.Sized.M.html#484" class="Bound">C</a><a id="559" class="Symbol">)</a> <a id="561" href="Codata.Sized.M.html#504" class="Bound">i</a><a id="562" class="Symbol">)</a> <a id="564" class="Symbol">→</a> <a id="566" href="Codata.Sized.M.html#475" class="Datatype">M</a> <a id="568" href="Codata.Sized.M.html#484" class="Bound">C</a> <a id="570" href="Codata.Sized.M.html#504" class="Bound">i</a>

<a id="573" class="Keyword">module</a> <a id="580" href="Codata.Sized.M.html#580" class="Module">_</a> <a id="582" class="Symbol">{</a><a id="583" href="Codata.Sized.M.html#583" class="Bound">s</a> <a id="585" href="Codata.Sized.M.html#585" class="Bound">p</a><a id="586" class="Symbol">}</a> <a id="588" class="Symbol">{</a><a id="589" href="Codata.Sized.M.html#589" class="Bound">C</a> <a id="591" class="Symbol">:</a> <a id="593" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="603" href="Codata.Sized.M.html#583" class="Bound">s</a> <a id="605" href="Codata.Sized.M.html#585" class="Bound">p</a><a id="606" class="Symbol">}</a> <a id="608" class="Keyword">where</a>

  <a id="617" href="Codata.Sized.M.html#617" class="Function">head</a> <a id="622" class="Symbol">:</a> <a id="624" class="Symbol">∀</a> <a id="626" class="Symbol">{</a><a id="627" href="Codata.Sized.M.html#627" class="Bound">i</a><a id="628" class="Symbol">}</a> <a id="630" class="Symbol">→</a> <a id="632" href="Codata.Sized.M.html#475" class="Datatype">M</a> <a id="634" href="Codata.Sized.M.html#589" class="Bound">C</a> <a id="636" href="Codata.Sized.M.html#627" class="Bound">i</a> <a id="638" class="Symbol">→</a> <a id="640" href="Data.Container.Core.html#647" class="Field">Shape</a> <a id="646" href="Codata.Sized.M.html#589" class="Bound">C</a>
  <a id="650" href="Codata.Sized.M.html#617" class="Function">head</a> <a id="655" class="Symbol">(</a><a id="656" href="Codata.Sized.M.html#536" class="InductiveConstructor">inf</a> <a id="660" class="Symbol">(</a><a id="661" href="Codata.Sized.M.html#661" class="Bound">x</a> <a id="663" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="665" href="Codata.Sized.M.html#665" class="Bound">f</a><a id="666" class="Symbol">))</a> <a id="669" class="Symbol">=</a> <a id="671" href="Codata.Sized.M.html#661" class="Bound">x</a>

  <a id="676" href="Codata.Sized.M.html#676" class="Function">tail</a> <a id="681" class="Symbol">:</a> <a id="683" class="Symbol">(</a><a id="684" href="Codata.Sized.M.html#684" class="Bound">x</a> <a id="686" class="Symbol">:</a> <a id="688" href="Codata.Sized.M.html#475" class="Datatype">M</a> <a id="690" href="Codata.Sized.M.html#589" class="Bound">C</a> <a id="692" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a><a id="693" class="Symbol">)</a> <a id="695" class="Symbol">→</a> <a id="697" href="Data.Container.Core.html#668" class="Field">Position</a> <a id="706" href="Codata.Sized.M.html#589" class="Bound">C</a> <a id="708" class="Symbol">(</a><a id="709" href="Codata.Sized.M.html#617" class="Function">head</a> <a id="714" href="Codata.Sized.M.html#684" class="Bound">x</a><a id="715" class="Symbol">)</a> <a id="717" class="Symbol">→</a> <a id="719" href="Codata.Sized.M.html#475" class="Datatype">M</a> <a id="721" href="Codata.Sized.M.html#589" class="Bound">C</a> <a id="723" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a>
  <a id="727" href="Codata.Sized.M.html#676" class="Function">tail</a> <a id="732" class="Symbol">(</a><a id="733" href="Codata.Sized.M.html#536" class="InductiveConstructor">inf</a> <a id="737" class="Symbol">(</a><a id="738" href="Codata.Sized.M.html#738" class="Bound">x</a> <a id="740" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="742" href="Codata.Sized.M.html#742" class="Bound">f</a><a id="743" class="Symbol">))</a> <a id="746" class="Symbol">=</a> <a id="748" class="Symbol">λ</a> <a id="750" href="Codata.Sized.M.html#750" class="Bound">p</a> <a id="752" class="Symbol">→</a> <a id="754" href="Codata.Sized.M.html#742" class="Bound">f</a> <a id="756" href="Codata.Sized.M.html#750" class="Bound">p</a> <a id="758" class="Symbol">.</a><a id="759" href="Codata.Sized.Thunk.html#556" class="Field">force</a>

<a id="766" class="Comment">-- map</a>

<a id="774" class="Keyword">module</a> <a id="781" href="Codata.Sized.M.html#781" class="Module">_</a> <a id="783" class="Symbol">{</a><a id="784" href="Codata.Sized.M.html#784" class="Bound">s₁</a> <a id="787" href="Codata.Sized.M.html#787" class="Bound">s₂</a> <a id="790" href="Codata.Sized.M.html#790" class="Bound">p₁</a> <a id="793" href="Codata.Sized.M.html#793" class="Bound">p₂</a><a id="795" class="Symbol">}</a> <a id="797" class="Symbol">{</a><a id="798" href="Codata.Sized.M.html#798" class="Bound">C₁</a> <a id="801" class="Symbol">:</a> <a id="803" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="813" href="Codata.Sized.M.html#784" class="Bound">s₁</a> <a id="816" href="Codata.Sized.M.html#790" class="Bound">p₁</a><a id="818" class="Symbol">}</a> <a id="820" class="Symbol">{</a><a id="821" href="Codata.Sized.M.html#821" class="Bound">C₂</a> <a id="824" class="Symbol">:</a> <a id="826" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="836" href="Codata.Sized.M.html#787" class="Bound">s₂</a> <a id="839" href="Codata.Sized.M.html#793" class="Bound">p₂</a><a id="841" class="Symbol">}</a>
         <a id="852" class="Symbol">(</a><a id="853" href="Codata.Sized.M.html#853" class="Bound">m</a> <a id="855" class="Symbol">:</a> <a id="857" href="Codata.Sized.M.html#798" class="Bound">C₁</a> <a id="860" href="Data.Container.Core.html#1063" class="Record Operator">⇒</a> <a id="862" href="Codata.Sized.M.html#821" class="Bound">C₂</a><a id="864" class="Symbol">)</a> <a id="866" class="Keyword">where</a>

  <a id="875" href="Codata.Sized.M.html#875" class="Function">map</a> <a id="879" class="Symbol">:</a> <a id="881" class="Symbol">∀</a> <a id="883" class="Symbol">{</a><a id="884" href="Codata.Sized.M.html#884" class="Bound">i</a><a id="885" class="Symbol">}</a> <a id="887" class="Symbol">→</a> <a id="889" href="Codata.Sized.M.html#475" class="Datatype">M</a> <a id="891" href="Codata.Sized.M.html#798" class="Bound">C₁</a> <a id="894" href="Codata.Sized.M.html#884" class="Bound">i</a> <a id="896" class="Symbol">→</a> <a id="898" href="Codata.Sized.M.html#475" class="Datatype">M</a> <a id="900" href="Codata.Sized.M.html#821" class="Bound">C₂</a> <a id="903" href="Codata.Sized.M.html#884" class="Bound">i</a>
  <a id="907" href="Codata.Sized.M.html#875" class="Function">map</a> <a id="911" class="Symbol">(</a><a id="912" href="Codata.Sized.M.html#536" class="InductiveConstructor">inf</a> <a id="916" href="Codata.Sized.M.html#916" class="Bound">t</a><a id="917" class="Symbol">)</a> <a id="919" class="Symbol">=</a> <a id="921" href="Codata.Sized.M.html#536" class="InductiveConstructor">inf</a> <a id="925" class="Symbol">(</a><a id="926" href="Data.Container.Core.html#1295" class="Function Operator">⟪</a> <a id="928" href="Codata.Sized.M.html#853" class="Bound">m</a> <a id="930" href="Data.Container.Core.html#1295" class="Function Operator">⟫</a> <a id="932" class="Symbol">(</a><a id="933" href="Data.Container.Core.html#889" class="Function">C.map</a> <a id="939" class="Symbol">(λ</a> <a id="942" href="Codata.Sized.M.html#942" class="Bound">t</a> <a id="944" class="Symbol">→</a> <a id="946" class="Symbol">λ</a> <a id="948" class="Keyword">where</a> <a id="954" class="Symbol">.</a><a id="955" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="961" class="Symbol">→</a> <a id="963" href="Codata.Sized.M.html#875" class="Function">map</a> <a id="967" class="Symbol">(</a><a id="968" href="Codata.Sized.M.html#942" class="Bound">t</a> <a id="970" class="Symbol">.</a><a id="971" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="976" class="Symbol">))</a> <a id="979" href="Codata.Sized.M.html#916" class="Bound">t</a><a id="980" class="Symbol">))</a>

<a id="984" class="Comment">-- unfold</a>

<a id="995" class="Keyword">module</a> <a id="1002" href="Codata.Sized.M.html#1002" class="Module">_</a> <a id="1004" class="Symbol">{</a><a id="1005" href="Codata.Sized.M.html#1005" class="Bound">s</a> <a id="1007" href="Codata.Sized.M.html#1007" class="Bound">p</a> <a id="1009" href="Codata.Sized.M.html#1009" class="Bound">ℓ</a><a id="1010" class="Symbol">}</a> <a id="1012" class="Symbol">{</a><a id="1013" href="Codata.Sized.M.html#1013" class="Bound">C</a> <a id="1015" class="Symbol">:</a> <a id="1017" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="1027" href="Codata.Sized.M.html#1005" class="Bound">s</a> <a id="1029" href="Codata.Sized.M.html#1007" class="Bound">p</a><a id="1030" class="Symbol">}</a> <a id="1032" class="Symbol">(</a><a id="1033" class="Keyword">open</a> <a id="1038" href="Data.Container.Core.html#567" class="Module">Container</a> <a id="1048" href="Codata.Sized.M.html#1013" class="Bound">C</a><a id="1049" class="Symbol">)</a>
         <a id="1060" class="Symbol">{</a><a id="1061" href="Codata.Sized.M.html#1061" class="Bound">S</a> <a id="1063" class="Symbol">:</a> <a id="1065" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1069" href="Codata.Sized.M.html#1009" class="Bound">ℓ</a><a id="1070" class="Symbol">}</a> <a id="1072" class="Symbol">(</a><a id="1073" href="Codata.Sized.M.html#1073" class="Bound">alg</a> <a id="1077" class="Symbol">:</a> <a id="1079" href="Codata.Sized.M.html#1061" class="Bound">S</a> <a id="1081" class="Symbol">→</a> <a id="1083" href="Data.Container.Core.html#764" class="Function Operator">⟦</a> <a id="1085" href="Codata.Sized.M.html#1013" class="Bound">C</a> <a id="1087" href="Data.Container.Core.html#764" class="Function Operator">⟧</a> <a id="1089" href="Codata.Sized.M.html#1061" class="Bound">S</a><a id="1090" class="Symbol">)</a> <a id="1092" class="Keyword">where</a>

  <a id="1101" href="Codata.Sized.M.html#1101" class="Function">unfold</a> <a id="1108" class="Symbol">:</a> <a id="1110" href="Codata.Sized.M.html#1061" class="Bound">S</a> <a id="1112" class="Symbol">→</a> <a id="1114" class="Symbol">∀</a> <a id="1116" class="Symbol">{</a><a id="1117" href="Codata.Sized.M.html#1117" class="Bound">i</a><a id="1118" class="Symbol">}</a> <a id="1120" class="Symbol">→</a> <a id="1122" href="Codata.Sized.M.html#475" class="Datatype">M</a> <a id="1124" href="Codata.Sized.M.html#1013" class="Bound">C</a> <a id="1126" href="Codata.Sized.M.html#1117" class="Bound">i</a>
  <a id="1130" href="Codata.Sized.M.html#1101" class="Function">unfold</a> <a id="1137" href="Codata.Sized.M.html#1137" class="Bound">seed</a> <a id="1142" class="Symbol">=</a> <a id="1144" class="Keyword">let</a> <a id="1148" class="Symbol">(</a><a id="1149" href="Codata.Sized.M.html#1149" class="Bound">x</a> <a id="1151" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1153" href="Codata.Sized.M.html#1153" class="Bound">next</a><a id="1157" class="Symbol">)</a> <a id="1159" class="Symbol">=</a> <a id="1161" href="Codata.Sized.M.html#1073" class="Bound">alg</a> <a id="1165" href="Codata.Sized.M.html#1137" class="Bound">seed</a> <a id="1170" class="Keyword">in</a>
                <a id="1189" href="Codata.Sized.M.html#536" class="InductiveConstructor">inf</a> <a id="1193" class="Symbol">(</a><a id="1194" href="Codata.Sized.M.html#1149" class="Bound">x</a> <a id="1196" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1198" class="Symbol">λ</a> <a id="1200" href="Codata.Sized.M.html#1200" class="Bound">p</a> <a id="1202" class="Symbol">→</a> <a id="1204" class="Symbol">λ</a> <a id="1206" class="Keyword">where</a> <a id="1212" class="Symbol">.</a><a id="1213" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="1219" class="Symbol">→</a> <a id="1221" href="Codata.Sized.M.html#1101" class="Function">unfold</a> <a id="1228" class="Symbol">(</a><a id="1229" href="Codata.Sized.M.html#1153" class="Bound">next</a> <a id="1234" href="Codata.Sized.M.html#1200" class="Bound">p</a><a id="1235" class="Symbol">))</a>
</pre></body></html>