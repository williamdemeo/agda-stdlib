<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Guarded.M</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- M-types (the dual of W-types)</a>
<a id="139" class="Comment">------------------------------------------------------------------------</a>

<a id="213" class="Symbol">{-#</a> <a id="217" class="Keyword">OPTIONS</a> <a id="225" class="Pragma">--cubical-compatible</a> <a id="246" class="Pragma">--safe</a> <a id="253" class="Pragma">--guardedness</a> <a id="267" class="Symbol">#-}</a>

<a id="272" class="Keyword">module</a> <a id="279" href="Codata.Guarded.M.html" class="Module">Codata.Guarded.M</a> <a id="296" class="Keyword">where</a>

<a id="303" class="Keyword">open</a> <a id="308" class="Keyword">import</a> <a id="315" href="Level.html" class="Module">Level</a>
<a id="321" class="Keyword">open</a> <a id="326" class="Keyword">import</a> <a id="333" href="Data.Container.Core.html" class="Module">Data.Container.Core</a> <a id="353" class="Keyword">hiding</a> <a id="360" class="Symbol">(</a><a id="361" href="Data.Container.Core.html#889" class="Function">map</a><a id="364" class="Symbol">;</a> <a id="366" href="Data.Container.Core.html#647" class="Field">Shape</a><a id="371" class="Symbol">;</a> <a id="373" href="Data.Container.Core.html#668" class="Field">Position</a><a id="381" class="Symbol">)</a>
<a id="383" class="Keyword">open</a> <a id="388" class="Keyword">import</a> <a id="395" href="Function.Base.html" class="Module">Function.Base</a>
<a id="409" class="Keyword">open</a> <a id="414" class="Keyword">import</a> <a id="421" href="Data.Product.html" class="Module">Data.Product</a> <a id="434" class="Keyword">hiding</a> <a id="441" class="Symbol">(</a><a id="442" href="Data.Product.html#2495" class="Function">map</a><a id="445" class="Symbol">)</a>

<a id="448" class="Comment">-- The family of M-types</a>

<a id="474" class="Keyword">record</a> <a id="M"></a><a id="481" href="Codata.Guarded.M.html#481" class="Record">M</a> <a id="483" class="Symbol">{</a><a id="484" href="Codata.Guarded.M.html#484" class="Bound">s</a> <a id="486" href="Codata.Guarded.M.html#486" class="Bound">p</a><a id="487" class="Symbol">}</a> <a id="489" class="Symbol">(</a><a id="490" href="Codata.Guarded.M.html#490" class="Bound">C</a> <a id="492" class="Symbol">:</a> <a id="494" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="504" href="Codata.Guarded.M.html#484" class="Bound">s</a> <a id="506" href="Codata.Guarded.M.html#486" class="Bound">p</a><a id="507" class="Symbol">)</a> <a id="509" class="Symbol">:</a> <a id="511" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="515" class="Symbol">(</a><a id="516" href="Codata.Guarded.M.html#484" class="Bound">s</a> <a id="518" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="520" href="Codata.Guarded.M.html#486" class="Bound">p</a><a id="521" class="Symbol">)</a> <a id="523" class="Keyword">where</a>
  <a id="531" class="Keyword">coinductive</a>
  <a id="545" class="Keyword">constructor</a> <a id="inf"></a><a id="557" href="Codata.Guarded.M.html#557" class="CoinductiveConstructor">inf</a>

  <a id="564" class="Keyword">open</a> <a id="569" href="Data.Container.Core.html#567" class="Module">Container</a> <a id="579" href="Codata.Guarded.M.html#490" class="Bound">C</a>

  <a id="584" class="Keyword">field</a>
    <a id="M.head"></a><a id="594" href="Codata.Guarded.M.html#594" class="Field">head</a> <a id="599" class="Symbol">:</a> <a id="601" href="Data.Container.Core.html#647" class="Function">Shape</a>
    <a id="M.tail"></a><a id="611" href="Codata.Guarded.M.html#611" class="Field">tail</a> <a id="616" class="Symbol">:</a> <a id="618" href="Data.Container.Core.html#668" class="Function">Position</a> <a id="627" href="Codata.Guarded.M.html#594" class="Field">head</a> <a id="632" class="Symbol">→</a> <a id="634" href="Codata.Guarded.M.html#481" class="Record">M</a> <a id="636" href="Codata.Guarded.M.html#490" class="Bound">C</a>

<a id="639" class="Keyword">open</a> <a id="644" href="Codata.Guarded.M.html#481" class="Module">M</a> <a id="646" class="Keyword">public</a>

<a id="654" class="Comment">-- map</a>

<a id="662" class="Keyword">module</a> <a id="669" href="Codata.Guarded.M.html#669" class="Module">_</a> <a id="671" class="Symbol">{</a><a id="672" href="Codata.Guarded.M.html#672" class="Bound">s₁</a> <a id="675" href="Codata.Guarded.M.html#675" class="Bound">s₂</a> <a id="678" href="Codata.Guarded.M.html#678" class="Bound">p₁</a> <a id="681" href="Codata.Guarded.M.html#681" class="Bound">p₂</a><a id="683" class="Symbol">}</a> <a id="685" class="Symbol">{</a><a id="686" href="Codata.Guarded.M.html#686" class="Bound">C₁</a> <a id="689" class="Symbol">:</a> <a id="691" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="701" href="Codata.Guarded.M.html#672" class="Bound">s₁</a> <a id="704" href="Codata.Guarded.M.html#678" class="Bound">p₁</a><a id="706" class="Symbol">}</a> <a id="708" class="Symbol">{</a><a id="709" href="Codata.Guarded.M.html#709" class="Bound">C₂</a> <a id="712" class="Symbol">:</a> <a id="714" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="724" href="Codata.Guarded.M.html#675" class="Bound">s₂</a> <a id="727" href="Codata.Guarded.M.html#681" class="Bound">p₂</a><a id="729" class="Symbol">}</a>
         <a id="740" class="Symbol">(</a><a id="741" href="Codata.Guarded.M.html#741" class="Bound">f</a> <a id="743" class="Symbol">:</a> <a id="745" href="Codata.Guarded.M.html#686" class="Bound">C₁</a> <a id="748" href="Data.Container.Core.html#1063" class="Record Operator">⇒</a> <a id="750" href="Codata.Guarded.M.html#709" class="Bound">C₂</a><a id="752" class="Symbol">)</a> <a id="754" class="Keyword">where</a>

  <a id="763" href="Codata.Guarded.M.html#763" class="Function">map</a> <a id="767" class="Symbol">:</a> <a id="769" href="Codata.Guarded.M.html#481" class="Record">M</a> <a id="771" href="Codata.Guarded.M.html#686" class="Bound">C₁</a> <a id="774" class="Symbol">→</a> <a id="776" href="Codata.Guarded.M.html#481" class="Record">M</a> <a id="778" href="Codata.Guarded.M.html#709" class="Bound">C₂</a>
  <a id="783" href="Codata.Guarded.M.html#763" class="Function">map</a> <a id="787" href="Codata.Guarded.M.html#787" class="Bound">m</a> <a id="789" class="Symbol">.</a><a id="790" href="Codata.Guarded.M.html#594" class="Field">head</a> <a id="795" class="Symbol">=</a> <a id="797" href="Codata.Guarded.M.html#741" class="Bound">f</a> <a id="799" class="Symbol">.</a><a id="800" href="Data.Container.Core.html#1200" class="Field">shape</a> <a id="806" class="Symbol">(</a><a id="807" href="Codata.Guarded.M.html#787" class="Bound">m</a> <a id="809" class="Symbol">.</a><a id="810" href="Codata.Guarded.M.html#594" class="Field">head</a><a id="814" class="Symbol">)</a>
  <a id="818" href="Codata.Guarded.M.html#763" class="Function">map</a> <a id="822" href="Codata.Guarded.M.html#822" class="Bound">m</a> <a id="824" class="Symbol">.</a><a id="825" href="Codata.Guarded.M.html#611" class="Field">tail</a> <a id="830" href="Codata.Guarded.M.html#830" class="Bound">p</a> <a id="832" class="Symbol">=</a> <a id="834" href="Codata.Guarded.M.html#763" class="Function">map</a> <a id="838" class="Symbol">(</a><a id="839" href="Codata.Guarded.M.html#822" class="Bound">m</a> <a id="841" class="Symbol">.</a><a id="842" href="Codata.Guarded.M.html#611" class="Field">tail</a> <a id="847" class="Symbol">(</a><a id="848" href="Codata.Guarded.M.html#741" class="Bound">f</a> <a id="850" class="Symbol">.</a><a id="851" href="Data.Container.Core.html#1235" class="Field">position</a> <a id="860" href="Codata.Guarded.M.html#830" class="Bound">p</a><a id="861" class="Symbol">))</a>

<a id="865" class="Comment">-- unfold</a>

<a id="876" class="Keyword">module</a> <a id="883" href="Codata.Guarded.M.html#883" class="Module">_</a> <a id="885" class="Symbol">{</a><a id="886" href="Codata.Guarded.M.html#886" class="Bound">s</a> <a id="888" href="Codata.Guarded.M.html#888" class="Bound">p</a> <a id="890" href="Codata.Guarded.M.html#890" class="Bound">ℓ</a><a id="891" class="Symbol">}</a> <a id="893" class="Symbol">{</a><a id="894" href="Codata.Guarded.M.html#894" class="Bound">C</a> <a id="896" class="Symbol">:</a> <a id="898" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="908" href="Codata.Guarded.M.html#886" class="Bound">s</a> <a id="910" href="Codata.Guarded.M.html#888" class="Bound">p</a><a id="911" class="Symbol">}</a> <a id="913" class="Symbol">(</a><a id="914" class="Keyword">open</a> <a id="919" href="Data.Container.Core.html#567" class="Module">Container</a> <a id="929" href="Codata.Guarded.M.html#894" class="Bound">C</a><a id="930" class="Symbol">)</a>
         <a id="941" class="Symbol">{</a><a id="942" href="Codata.Guarded.M.html#942" class="Bound">S</a> <a id="944" class="Symbol">:</a> <a id="946" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="950" href="Codata.Guarded.M.html#890" class="Bound">ℓ</a><a id="951" class="Symbol">}</a> <a id="953" class="Symbol">(</a><a id="954" href="Codata.Guarded.M.html#954" class="Bound">alg</a> <a id="958" class="Symbol">:</a> <a id="960" href="Codata.Guarded.M.html#942" class="Bound">S</a> <a id="962" class="Symbol">→</a> <a id="964" href="Data.Container.Core.html#764" class="Function Operator">⟦</a> <a id="966" href="Codata.Guarded.M.html#894" class="Bound">C</a> <a id="968" href="Data.Container.Core.html#764" class="Function Operator">⟧</a> <a id="970" href="Codata.Guarded.M.html#942" class="Bound">S</a><a id="971" class="Symbol">)</a> <a id="973" class="Keyword">where</a>

  <a id="982" href="Codata.Guarded.M.html#982" class="Function">unfold</a> <a id="989" class="Symbol">:</a> <a id="991" href="Codata.Guarded.M.html#942" class="Bound">S</a> <a id="993" class="Symbol">→</a> <a id="995" href="Codata.Guarded.M.html#481" class="Record">M</a> <a id="997" href="Codata.Guarded.M.html#894" class="Bound">C</a>
  <a id="1001" href="Codata.Guarded.M.html#982" class="Function">unfold</a> <a id="1008" href="Codata.Guarded.M.html#1008" class="Bound">seed</a> <a id="1013" class="Symbol">.</a><a id="1014" href="Codata.Guarded.M.html#594" class="Field">head</a> <a id="1019" class="Symbol">=</a> <a id="1021" href="Codata.Guarded.M.html#954" class="Bound">alg</a> <a id="1025" href="Codata.Guarded.M.html#1008" class="Bound">seed</a> <a id="1030" class="Symbol">.</a><a id="1031" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="1039" href="Codata.Guarded.M.html#982" class="Function">unfold</a> <a id="1046" href="Codata.Guarded.M.html#1046" class="Bound">seed</a> <a id="1051" class="Symbol">.</a><a id="1052" href="Codata.Guarded.M.html#611" class="Field">tail</a> <a id="1057" href="Codata.Guarded.M.html#1057" class="Bound">p</a> <a id="1059" class="Symbol">=</a> <a id="1061" href="Codata.Guarded.M.html#982" class="Function">unfold</a> <a id="1068" class="Symbol">(</a><a id="1069" href="Codata.Guarded.M.html#954" class="Bound">alg</a> <a id="1073" href="Codata.Guarded.M.html#1046" class="Bound">seed</a> <a id="1078" class="Symbol">.</a><a id="1079" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="1085" href="Codata.Guarded.M.html#1057" class="Bound">p</a><a id="1086" class="Symbol">)</a>
</pre></body></html>