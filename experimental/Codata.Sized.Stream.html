<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Sized.Stream</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- The Stream type and some operations</a>
<a id="145" class="Comment">------------------------------------------------------------------------</a>

<a id="219" class="Symbol">{-#</a> <a id="223" class="Keyword">OPTIONS</a> <a id="231" class="Pragma">--cubical-compatible</a> <a id="252" class="Pragma">--sized-types</a> <a id="266" class="Symbol">#-}</a>

<a id="271" class="Keyword">module</a> <a id="278" href="Codata.Sized.Stream.html" class="Module">Codata.Sized.Stream</a> <a id="298" class="Keyword">where</a>

<a id="305" class="Keyword">open</a> <a id="310" class="Keyword">import</a> <a id="317" href="Size.html" class="Module">Size</a>
<a id="322" class="Keyword">open</a> <a id="327" class="Keyword">import</a> <a id="334" href="Codata.Sized.Thunk.html" class="Module">Codata.Sized.Thunk</a> <a id="353" class="Symbol">as</a> <a id="356" class="Module">Thunk</a> <a id="362" class="Keyword">using</a> <a id="368" class="Symbol">(</a><a id="369" href="Codata.Sized.Thunk.html#482" class="Record">Thunk</a><a id="374" class="Symbol">;</a> <a id="376" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="381" class="Symbol">)</a>

<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="410" class="Keyword">open</a> <a id="415" class="Keyword">import</a> <a id="422" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="437" class="Keyword">using</a> <a id="443" class="Symbol">(</a><a id="444" href="Agda.Builtin.List.html#130" class="Datatype">List</a><a id="448" class="Symbol">;</a> <a id="450" href="Data.List.Base.html#7191" class="InductiveConstructor">[]</a><a id="452" class="Symbol">;</a> <a id="454" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">_∷_</a><a id="457" class="Symbol">)</a>
<a id="459" class="Keyword">open</a> <a id="464" class="Keyword">import</a> <a id="471" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="490" class="Symbol">as</a> <a id="493" class="Module">List⁺</a> <a id="499" class="Keyword">using</a> <a id="505" class="Symbol">(</a><a id="506" href="Data.List.NonEmpty.Base.html#1266" class="Record">List⁺</a><a id="511" class="Symbol">;</a> <a id="513" href="Data.List.NonEmpty.Base.html#1312" class="InductiveConstructor Operator">_∷_</a><a id="516" class="Symbol">;</a> <a id="518" href="Data.List.NonEmpty.Base.html#1577" class="Function Operator">_∷⁺_</a><a id="522" class="Symbol">)</a>
<a id="524" class="Keyword">open</a> <a id="529" class="Keyword">import</a> <a id="536" href="Data.Vec.Base.html" class="Module">Data.Vec.Base</a> <a id="550" class="Keyword">using</a> <a id="556" class="Symbol">(</a><a id="557" href="Data.Vec.Base.html#1066" class="Datatype">Vec</a><a id="560" class="Symbol">;</a> <a id="562" href="Data.Vec.Base.html#1102" class="InductiveConstructor">[]</a><a id="564" class="Symbol">;</a> <a id="566" href="Data.Vec.Base.html#1121" class="InductiveConstructor Operator">_∷_</a><a id="569" class="Symbol">)</a>
<a id="571" class="Keyword">open</a> <a id="576" class="Keyword">import</a> <a id="583" href="Data.Product.html" class="Module">Data.Product</a> <a id="596" class="Symbol">as</a> <a id="599" class="Module">P</a> <a id="601" class="Keyword">hiding</a> <a id="608" class="Symbol">(</a><a id="609" href="Data.Product.html#2495" class="Function">map</a><a id="612" class="Symbol">)</a>
<a id="614" class="Keyword">open</a> <a id="619" class="Keyword">import</a> <a id="626" href="Function.Base.html" class="Module">Function.Base</a>
<a id="640" class="Keyword">open</a> <a id="645" class="Keyword">import</a> <a id="652" href="Level.html" class="Module">Level</a> <a id="658" class="Keyword">using</a> <a id="664" class="Symbol">(</a><a id="665" href="Agda.Primitive.html#591" class="Postulate">Level</a><a id="670" class="Symbol">)</a>
<a id="672" class="Keyword">open</a> <a id="677" class="Keyword">import</a> <a id="684" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="722" class="Keyword">using</a> <a id="728" class="Symbol">(</a><a id="729" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="732" class="Symbol">;</a> <a id="734" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="738" class="Symbol">)</a>

<a id="741" class="Keyword">private</a>
  <a id="751" class="Keyword">variable</a>
    <a id="764" href="Codata.Sized.Stream.html#764" class="Generalizable">a</a> <a id="766" href="Codata.Sized.Stream.html#766" class="Generalizable">b</a> <a id="768" href="Codata.Sized.Stream.html#768" class="Generalizable">c</a> <a id="770" class="Symbol">:</a> <a id="772" href="Agda.Primitive.html#591" class="Postulate">Level</a>
    <a id="782" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="784" class="Symbol">:</a> <a id="786" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="790" href="Codata.Sized.Stream.html#764" class="Generalizable">a</a>
    <a id="796" href="Codata.Sized.Stream.html#796" class="Generalizable">B</a> <a id="798" class="Symbol">:</a> <a id="800" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="804" href="Codata.Sized.Stream.html#766" class="Generalizable">b</a>
    <a id="810" href="Codata.Sized.Stream.html#810" class="Generalizable">C</a> <a id="812" class="Symbol">:</a> <a id="814" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="818" href="Codata.Sized.Stream.html#768" class="Generalizable">c</a>
    <a id="824" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a> <a id="826" class="Symbol">:</a> <a id="828" href="Agda.Builtin.Size.html#196" class="Postulate">Size</a>

<a id="834" class="Comment">------------------------------------------------------------------------</a>
<a id="907" class="Comment">-- Type</a>

<a id="916" class="Keyword">data</a> <a id="Stream"></a><a id="921" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="928" class="Symbol">(</a><a id="929" href="Codata.Sized.Stream.html#929" class="Bound">A</a> <a id="931" class="Symbol">:</a> <a id="933" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="937" href="Codata.Sized.Stream.html#764" class="Generalizable">a</a><a id="938" class="Symbol">)</a> <a id="940" class="Symbol">(</a><a id="941" href="Codata.Sized.Stream.html#941" class="Bound">i</a> <a id="943" class="Symbol">:</a> <a id="945" href="Agda.Builtin.Size.html#196" class="Postulate">Size</a><a id="949" class="Symbol">)</a> <a id="951" class="Symbol">:</a> <a id="953" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="957" href="Codata.Sized.Stream.html#937" class="Bound">a</a> <a id="959" class="Keyword">where</a>
  <a id="Stream._∷_"></a><a id="967" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">_∷_</a> <a id="971" class="Symbol">:</a> <a id="973" href="Codata.Sized.Stream.html#929" class="Bound">A</a> <a id="975" class="Symbol">→</a> <a id="977" href="Codata.Sized.Thunk.html#482" class="Record">Thunk</a> <a id="983" class="Symbol">(</a><a id="984" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="991" href="Codata.Sized.Stream.html#929" class="Bound">A</a><a id="992" class="Symbol">)</a> <a id="994" href="Codata.Sized.Stream.html#941" class="Bound">i</a> <a id="996" class="Symbol">→</a> <a id="998" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="1005" href="Codata.Sized.Stream.html#929" class="Bound">A</a> <a id="1007" href="Codata.Sized.Stream.html#941" class="Bound">i</a>

<a id="1010" class="Comment">------------------------------------------------------------------------</a>
<a id="1083" class="Comment">-- Creating streams</a>

<a id="repeat"></a><a id="1104" href="Codata.Sized.Stream.html#1104" class="Function">repeat</a> <a id="1111" class="Symbol">:</a> <a id="1113" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1115" class="Symbol">→</a> <a id="1117" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="1124" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1126" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>
<a id="1128" href="Codata.Sized.Stream.html#1104" class="Function">repeat</a> <a id="1135" href="Codata.Sized.Stream.html#1135" class="Bound">a</a> <a id="1137" class="Symbol">=</a> <a id="1139" href="Codata.Sized.Stream.html#1135" class="Bound">a</a> <a id="1141" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="1143" class="Symbol">λ</a> <a id="1145" class="Keyword">where</a> <a id="1151" class="Symbol">.</a><a id="1152" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="1158" class="Symbol">→</a> <a id="1160" href="Codata.Sized.Stream.html#1104" class="Function">repeat</a> <a id="1167" href="Codata.Sized.Stream.html#1135" class="Bound">a</a>

<a id="1170" class="Keyword">infixr</a> <a id="1177" class="Number">5</a> <a id="1179" href="Codata.Sized.Stream.html#1190" class="Function Operator">_++_</a> <a id="1184" href="Codata.Sized.Stream.html#2538" class="Function Operator">_⁺++_</a>
<a id="_++_"></a><a id="1190" href="Codata.Sized.Stream.html#1190" class="Function Operator">_++_</a> <a id="1195" class="Symbol">:</a> <a id="1197" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1202" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1204" class="Symbol">→</a> <a id="1206" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="1213" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1215" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a> <a id="1217" class="Symbol">→</a> <a id="1219" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="1226" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1228" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>
<a id="1230" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>       <a id="1239" href="Codata.Sized.Stream.html#1190" class="Function Operator">++</a> <a id="1242" href="Codata.Sized.Stream.html#1242" class="Bound">ys</a> <a id="1245" class="Symbol">=</a> <a id="1247" href="Codata.Sized.Stream.html#1242" class="Bound">ys</a>
<a id="1250" class="Symbol">(</a><a id="1251" href="Codata.Sized.Stream.html#1251" class="Bound">x</a> <a id="1253" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1255" href="Codata.Sized.Stream.html#1255" class="Bound">xs</a><a id="1257" class="Symbol">)</a> <a id="1259" href="Codata.Sized.Stream.html#1190" class="Function Operator">++</a> <a id="1262" href="Codata.Sized.Stream.html#1262" class="Bound">ys</a> <a id="1265" class="Symbol">=</a> <a id="1267" href="Codata.Sized.Stream.html#1251" class="Bound">x</a> <a id="1269" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="1271" class="Symbol">λ</a> <a id="1273" class="Keyword">where</a> <a id="1279" class="Symbol">.</a><a id="1280" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="1286" class="Symbol">→</a> <a id="1288" href="Codata.Sized.Stream.html#1255" class="Bound">xs</a> <a id="1291" href="Codata.Sized.Stream.html#1190" class="Function Operator">++</a> <a id="1294" href="Codata.Sized.Stream.html#1262" class="Bound">ys</a>

<a id="unfold"></a><a id="1298" href="Codata.Sized.Stream.html#1298" class="Function">unfold</a> <a id="1305" class="Symbol">:</a> <a id="1307" class="Symbol">(</a><a id="1308" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1310" class="Symbol">→</a> <a id="1312" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1314" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1316" href="Codata.Sized.Stream.html#796" class="Generalizable">B</a><a id="1317" class="Symbol">)</a> <a id="1319" class="Symbol">→</a> <a id="1321" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1323" class="Symbol">→</a> <a id="1325" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="1332" href="Codata.Sized.Stream.html#796" class="Generalizable">B</a> <a id="1334" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>
<a id="1336" href="Codata.Sized.Stream.html#1298" class="Function">unfold</a> <a id="1343" href="Codata.Sized.Stream.html#1343" class="Bound">next</a> <a id="1348" href="Codata.Sized.Stream.html#1348" class="Bound">seed</a> <a id="1353" class="Symbol">=</a>
  <a id="1357" class="Keyword">let</a> <a id="1361" class="Symbol">(</a><a id="1362" href="Codata.Sized.Stream.html#1362" class="Bound">seed′</a> <a id="1368" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1370" href="Codata.Sized.Stream.html#1370" class="Bound">b</a><a id="1371" class="Symbol">)</a> <a id="1373" class="Symbol">=</a> <a id="1375" href="Codata.Sized.Stream.html#1343" class="Bound">next</a> <a id="1380" href="Codata.Sized.Stream.html#1348" class="Bound">seed</a> <a id="1385" class="Keyword">in</a>
  <a id="1390" href="Codata.Sized.Stream.html#1370" class="Bound">b</a> <a id="1392" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="1394" class="Symbol">λ</a> <a id="1396" class="Keyword">where</a> <a id="1402" class="Symbol">.</a><a id="1403" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="1409" class="Symbol">→</a> <a id="1411" href="Codata.Sized.Stream.html#1298" class="Function">unfold</a> <a id="1418" href="Codata.Sized.Stream.html#1343" class="Bound">next</a> <a id="1423" href="Codata.Sized.Stream.html#1362" class="Bound">seed′</a>

<a id="iterate"></a><a id="1430" href="Codata.Sized.Stream.html#1430" class="Function">iterate</a> <a id="1438" class="Symbol">:</a> <a id="1440" class="Symbol">(</a><a id="1441" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1443" class="Symbol">→</a> <a id="1445" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a><a id="1446" class="Symbol">)</a> <a id="1448" class="Symbol">→</a> <a id="1450" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1452" class="Symbol">→</a> <a id="1454" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="1461" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1463" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a>
<a id="1465" href="Codata.Sized.Stream.html#1430" class="Function">iterate</a> <a id="1473" href="Codata.Sized.Stream.html#1473" class="Bound">f</a> <a id="1475" class="Symbol">=</a> <a id="1477" href="Codata.Sized.Stream.html#1298" class="Function">unfold</a> <a id="1484" href="Data.Product.html#2322" class="Function Operator">&lt;</a> <a id="1486" href="Codata.Sized.Stream.html#1473" class="Bound">f</a> <a id="1488" href="Data.Product.html#2322" class="Function Operator">,</a> <a id="1490" href="Function.Base.html#704" class="Function">id</a> <a id="1493" href="Data.Product.html#2322" class="Function Operator">&gt;</a>

<a id="nats"></a><a id="1496" href="Codata.Sized.Stream.html#1496" class="Function">nats</a> <a id="1501" class="Symbol">:</a> <a id="1503" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="1510" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1512" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a>
<a id="1514" href="Codata.Sized.Stream.html#1496" class="Function">nats</a> <a id="1519" class="Symbol">=</a> <a id="1521" href="Codata.Sized.Stream.html#1430" class="Function">iterate</a> <a id="1529" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1533" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>

<a id="1539" class="Comment">------------------------------------------------------------------------</a>
<a id="1612" class="Comment">-- Looking at streams</a>

<a id="head"></a><a id="1635" href="Codata.Sized.Stream.html#1635" class="Function">head</a> <a id="1640" class="Symbol">:</a> <a id="1642" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="1649" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1651" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a> <a id="1653" class="Symbol">→</a> <a id="1655" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a>
<a id="1657" href="Codata.Sized.Stream.html#1635" class="Function">head</a> <a id="1662" class="Symbol">(</a><a id="1663" href="Codata.Sized.Stream.html#1663" class="Bound">x</a> <a id="1665" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="1667" href="Codata.Sized.Stream.html#1667" class="Bound">xs</a><a id="1669" class="Symbol">)</a> <a id="1671" class="Symbol">=</a> <a id="1673" href="Codata.Sized.Stream.html#1663" class="Bound">x</a>

<a id="tail"></a><a id="1676" href="Codata.Sized.Stream.html#1676" class="Function">tail</a> <a id="1681" class="Symbol">:</a> <a id="1683" class="Symbol">{</a><a id="1684" href="Codata.Sized.Stream.html#1684" class="Bound">j</a> <a id="1686" class="Symbol">:</a> <a id="1688" href="Agda.Builtin.Size.html#230" class="Postulate Operator">Size&lt;</a> <a id="1694" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a><a id="1695" class="Symbol">}</a> <a id="1697" class="Symbol">→</a> <a id="1699" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="1706" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1708" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a> <a id="1710" class="Symbol">→</a> <a id="1712" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="1719" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1721" href="Codata.Sized.Stream.html#1684" class="Bound">j</a>
<a id="1723" href="Codata.Sized.Stream.html#1676" class="Function">tail</a> <a id="1728" class="Symbol">(</a><a id="1729" href="Codata.Sized.Stream.html#1729" class="Bound">x</a> <a id="1731" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="1733" href="Codata.Sized.Stream.html#1733" class="Bound">xs</a><a id="1735" class="Symbol">)</a> <a id="1737" class="Symbol">=</a> <a id="1739" href="Codata.Sized.Stream.html#1733" class="Bound">xs</a> <a id="1742" class="Symbol">.</a><a id="1743" href="Codata.Sized.Thunk.html#556" class="Field">force</a>

<a id="lookup"></a><a id="1750" href="Codata.Sized.Stream.html#1750" class="Function">lookup</a> <a id="1757" class="Symbol">:</a> <a id="1759" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="1766" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1768" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a> <a id="1770" class="Symbol">→</a> <a id="1772" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1774" class="Symbol">→</a> <a id="1776" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a>
<a id="1778" href="Codata.Sized.Stream.html#1750" class="Function">lookup</a> <a id="1785" href="Codata.Sized.Stream.html#1785" class="Bound">xs</a> <a id="1788" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>    <a id="1796" class="Symbol">=</a> <a id="1798" href="Codata.Sized.Stream.html#1635" class="Function">head</a> <a id="1803" href="Codata.Sized.Stream.html#1785" class="Bound">xs</a>
<a id="1806" href="Codata.Sized.Stream.html#1750" class="Function">lookup</a> <a id="1813" href="Codata.Sized.Stream.html#1813" class="Bound">xs</a> <a id="1816" class="Symbol">(</a><a id="1817" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1821" href="Codata.Sized.Stream.html#1821" class="Bound">k</a><a id="1822" class="Symbol">)</a> <a id="1824" class="Symbol">=</a> <a id="1826" href="Codata.Sized.Stream.html#1750" class="Function">lookup</a> <a id="1833" class="Symbol">(</a><a id="1834" href="Codata.Sized.Stream.html#1676" class="Function">tail</a> <a id="1839" href="Codata.Sized.Stream.html#1813" class="Bound">xs</a><a id="1841" class="Symbol">)</a> <a id="1843" href="Codata.Sized.Stream.html#1821" class="Bound">k</a>

<a id="1846" class="Comment">------------------------------------------------------------------------</a>
<a id="1919" class="Comment">-- Transforming streams</a>

<a id="map"></a><a id="1944" href="Codata.Sized.Stream.html#1944" class="Function">map</a> <a id="1948" class="Symbol">:</a> <a id="1950" class="Symbol">(</a><a id="1951" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1953" class="Symbol">→</a> <a id="1955" href="Codata.Sized.Stream.html#796" class="Generalizable">B</a><a id="1956" class="Symbol">)</a> <a id="1958" class="Symbol">→</a> <a id="1960" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="1967" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="1969" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a> <a id="1971" class="Symbol">→</a> <a id="1973" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="1980" href="Codata.Sized.Stream.html#796" class="Generalizable">B</a> <a id="1982" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>
<a id="1984" href="Codata.Sized.Stream.html#1944" class="Function">map</a> <a id="1988" href="Codata.Sized.Stream.html#1988" class="Bound">f</a> <a id="1990" class="Symbol">(</a><a id="1991" href="Codata.Sized.Stream.html#1991" class="Bound">x</a> <a id="1993" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="1995" href="Codata.Sized.Stream.html#1995" class="Bound">xs</a><a id="1997" class="Symbol">)</a> <a id="1999" class="Symbol">=</a> <a id="2001" href="Codata.Sized.Stream.html#1988" class="Bound">f</a> <a id="2003" href="Codata.Sized.Stream.html#1991" class="Bound">x</a> <a id="2005" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="2007" class="Symbol">λ</a> <a id="2009" class="Keyword">where</a> <a id="2015" class="Symbol">.</a><a id="2016" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="2022" class="Symbol">→</a> <a id="2024" href="Codata.Sized.Stream.html#1944" class="Function">map</a> <a id="2028" href="Codata.Sized.Stream.html#1988" class="Bound">f</a> <a id="2030" class="Symbol">(</a><a id="2031" href="Codata.Sized.Stream.html#1995" class="Bound">xs</a> <a id="2034" class="Symbol">.</a><a id="2035" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="2040" class="Symbol">)</a>

<a id="ap"></a><a id="2043" href="Codata.Sized.Stream.html#2043" class="Function">ap</a> <a id="2046" class="Symbol">:</a> <a id="2048" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2055" class="Symbol">(</a><a id="2056" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="2058" class="Symbol">→</a> <a id="2060" href="Codata.Sized.Stream.html#796" class="Generalizable">B</a><a id="2061" class="Symbol">)</a> <a id="2063" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a> <a id="2065" class="Symbol">→</a> <a id="2067" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2074" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="2076" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a> <a id="2078" class="Symbol">→</a> <a id="2080" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2087" href="Codata.Sized.Stream.html#796" class="Generalizable">B</a> <a id="2089" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>
<a id="2091" href="Codata.Sized.Stream.html#2043" class="Function">ap</a> <a id="2094" class="Symbol">(</a><a id="2095" href="Codata.Sized.Stream.html#2095" class="Bound">f</a> <a id="2097" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="2099" href="Codata.Sized.Stream.html#2099" class="Bound">fs</a><a id="2101" class="Symbol">)</a> <a id="2103" class="Symbol">(</a><a id="2104" href="Codata.Sized.Stream.html#2104" class="Bound">x</a> <a id="2106" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="2108" href="Codata.Sized.Stream.html#2108" class="Bound">xs</a><a id="2110" class="Symbol">)</a> <a id="2112" class="Symbol">=</a> <a id="2114" href="Codata.Sized.Stream.html#2095" class="Bound">f</a> <a id="2116" href="Codata.Sized.Stream.html#2104" class="Bound">x</a> <a id="2118" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="2120" class="Symbol">λ</a> <a id="2122" class="Keyword">where</a> <a id="2128" class="Symbol">.</a><a id="2129" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="2135" class="Symbol">→</a> <a id="2137" href="Codata.Sized.Stream.html#2043" class="Function">ap</a> <a id="2140" class="Symbol">(</a><a id="2141" href="Codata.Sized.Stream.html#2099" class="Bound">fs</a> <a id="2144" class="Symbol">.</a><a id="2145" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="2150" class="Symbol">)</a> <a id="2152" class="Symbol">(</a><a id="2153" href="Codata.Sized.Stream.html#2108" class="Bound">xs</a> <a id="2156" class="Symbol">.</a><a id="2157" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="2162" class="Symbol">)</a>

<a id="scanl"></a><a id="2165" href="Codata.Sized.Stream.html#2165" class="Function">scanl</a> <a id="2171" class="Symbol">:</a> <a id="2173" class="Symbol">(</a><a id="2174" href="Codata.Sized.Stream.html#796" class="Generalizable">B</a> <a id="2176" class="Symbol">→</a> <a id="2178" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="2180" class="Symbol">→</a> <a id="2182" href="Codata.Sized.Stream.html#796" class="Generalizable">B</a><a id="2183" class="Symbol">)</a> <a id="2185" class="Symbol">→</a> <a id="2187" href="Codata.Sized.Stream.html#796" class="Generalizable">B</a> <a id="2189" class="Symbol">→</a> <a id="2191" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2198" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="2200" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a> <a id="2202" class="Symbol">→</a> <a id="2204" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2211" href="Codata.Sized.Stream.html#796" class="Generalizable">B</a> <a id="2213" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>
<a id="2215" href="Codata.Sized.Stream.html#2165" class="Function">scanl</a> <a id="2221" href="Codata.Sized.Stream.html#2221" class="Bound">c</a> <a id="2223" href="Codata.Sized.Stream.html#2223" class="Bound">n</a> <a id="2225" class="Symbol">(</a><a id="2226" href="Codata.Sized.Stream.html#2226" class="Bound">x</a> <a id="2228" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="2230" href="Codata.Sized.Stream.html#2230" class="Bound">xs</a><a id="2232" class="Symbol">)</a> <a id="2234" class="Symbol">=</a> <a id="2236" href="Codata.Sized.Stream.html#2223" class="Bound">n</a> <a id="2238" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="2240" class="Symbol">λ</a> <a id="2242" class="Keyword">where</a> <a id="2248" class="Symbol">.</a><a id="2249" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="2255" class="Symbol">→</a> <a id="2257" href="Codata.Sized.Stream.html#2165" class="Function">scanl</a> <a id="2263" href="Codata.Sized.Stream.html#2221" class="Bound">c</a> <a id="2265" class="Symbol">(</a><a id="2266" href="Codata.Sized.Stream.html#2221" class="Bound">c</a> <a id="2268" href="Codata.Sized.Stream.html#2223" class="Bound">n</a> <a id="2270" href="Codata.Sized.Stream.html#2226" class="Bound">x</a><a id="2271" class="Symbol">)</a> <a id="2273" class="Symbol">(</a><a id="2274" href="Codata.Sized.Stream.html#2230" class="Bound">xs</a> <a id="2277" class="Symbol">.</a><a id="2278" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="2283" class="Symbol">)</a>

<a id="zipWith"></a><a id="2286" href="Codata.Sized.Stream.html#2286" class="Function">zipWith</a> <a id="2294" class="Symbol">:</a> <a id="2296" class="Symbol">(</a><a id="2297" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="2299" class="Symbol">→</a> <a id="2301" href="Codata.Sized.Stream.html#796" class="Generalizable">B</a> <a id="2303" class="Symbol">→</a> <a id="2305" href="Codata.Sized.Stream.html#810" class="Generalizable">C</a><a id="2306" class="Symbol">)</a> <a id="2308" class="Symbol">→</a> <a id="2310" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2317" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="2319" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a> <a id="2321" class="Symbol">→</a> <a id="2323" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2330" href="Codata.Sized.Stream.html#796" class="Generalizable">B</a> <a id="2332" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a> <a id="2334" class="Symbol">→</a> <a id="2336" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2343" href="Codata.Sized.Stream.html#810" class="Generalizable">C</a> <a id="2345" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>
<a id="2347" href="Codata.Sized.Stream.html#2286" class="Function">zipWith</a> <a id="2355" href="Codata.Sized.Stream.html#2355" class="Bound">f</a> <a id="2357" class="Symbol">(</a><a id="2358" href="Codata.Sized.Stream.html#2358" class="Bound">a</a> <a id="2360" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="2362" href="Codata.Sized.Stream.html#2362" class="Bound">as</a><a id="2364" class="Symbol">)</a> <a id="2366" class="Symbol">(</a><a id="2367" href="Codata.Sized.Stream.html#2367" class="Bound">b</a> <a id="2369" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="2371" href="Codata.Sized.Stream.html#2371" class="Bound">bs</a><a id="2373" class="Symbol">)</a> <a id="2375" class="Symbol">=</a> <a id="2377" href="Codata.Sized.Stream.html#2355" class="Bound">f</a> <a id="2379" href="Codata.Sized.Stream.html#2358" class="Bound">a</a> <a id="2381" href="Codata.Sized.Stream.html#2367" class="Bound">b</a> <a id="2383" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="2385" class="Symbol">λ</a> <a id="2387" class="Keyword">where</a> <a id="2393" class="Symbol">.</a><a id="2394" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="2400" class="Symbol">→</a> <a id="2402" href="Codata.Sized.Stream.html#2286" class="Function">zipWith</a> <a id="2410" href="Codata.Sized.Stream.html#2355" class="Bound">f</a> <a id="2412" class="Symbol">(</a><a id="2413" href="Codata.Sized.Stream.html#2362" class="Bound">as</a> <a id="2416" class="Symbol">.</a><a id="2417" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="2422" class="Symbol">)</a> <a id="2424" class="Symbol">(</a><a id="2425" href="Codata.Sized.Stream.html#2371" class="Bound">bs</a> <a id="2428" class="Symbol">.</a><a id="2429" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="2434" class="Symbol">)</a>

<a id="2437" class="Comment">------------------------------------------------------------------------</a>
<a id="2510" class="Comment">-- List⁺-related functions</a>

<a id="_⁺++_"></a><a id="2538" href="Codata.Sized.Stream.html#2538" class="Function Operator">_⁺++_</a> <a id="2544" class="Symbol">:</a> <a id="2546" href="Data.List.NonEmpty.Base.html#1266" class="Record">List⁺</a> <a id="2552" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="2554" class="Symbol">→</a> <a id="2556" href="Codata.Sized.Thunk.html#482" class="Record">Thunk</a> <a id="2562" class="Symbol">(</a><a id="2563" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2570" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a><a id="2571" class="Symbol">)</a> <a id="2573" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a> <a id="2575" class="Symbol">→</a> <a id="2577" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2584" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="2586" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>
<a id="2588" class="Symbol">(</a><a id="2589" href="Codata.Sized.Stream.html#2589" class="Bound">x</a> <a id="2591" href="Data.List.NonEmpty.Base.html#1312" class="InductiveConstructor Operator">∷</a> <a id="2593" href="Codata.Sized.Stream.html#2593" class="Bound">xs</a><a id="2595" class="Symbol">)</a> <a id="2597" href="Codata.Sized.Stream.html#2538" class="Function Operator">⁺++</a> <a id="2601" href="Codata.Sized.Stream.html#2601" class="Bound">ys</a> <a id="2604" class="Symbol">=</a> <a id="2606" href="Codata.Sized.Stream.html#2589" class="Bound">x</a> <a id="2608" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="2610" class="Symbol">λ</a> <a id="2612" class="Keyword">where</a> <a id="2618" class="Symbol">.</a><a id="2619" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="2625" class="Symbol">→</a> <a id="2627" href="Codata.Sized.Stream.html#2593" class="Bound">xs</a> <a id="2630" href="Codata.Sized.Stream.html#1190" class="Function Operator">++</a> <a id="2633" href="Codata.Sized.Stream.html#2601" class="Bound">ys</a> <a id="2636" class="Symbol">.</a><a id="2637" href="Codata.Sized.Thunk.html#556" class="Field">force</a>

<a id="cycle"></a><a id="2644" href="Codata.Sized.Stream.html#2644" class="Function">cycle</a> <a id="2650" class="Symbol">:</a> <a id="2652" href="Data.List.NonEmpty.Base.html#1266" class="Record">List⁺</a> <a id="2658" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="2660" class="Symbol">→</a> <a id="2662" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2669" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="2671" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>
<a id="2673" href="Codata.Sized.Stream.html#2644" class="Function">cycle</a> <a id="2679" href="Codata.Sized.Stream.html#2679" class="Bound">xs</a> <a id="2682" class="Symbol">=</a> <a id="2684" href="Codata.Sized.Stream.html#2679" class="Bound">xs</a> <a id="2687" href="Codata.Sized.Stream.html#2538" class="Function Operator">⁺++</a> <a id="2691" class="Symbol">λ</a> <a id="2693" class="Keyword">where</a> <a id="2699" class="Symbol">.</a><a id="2700" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="2706" class="Symbol">→</a> <a id="2708" href="Codata.Sized.Stream.html#2644" class="Function">cycle</a> <a id="2714" href="Codata.Sized.Stream.html#2679" class="Bound">xs</a>

<a id="concat"></a><a id="2718" href="Codata.Sized.Stream.html#2718" class="Function">concat</a> <a id="2725" class="Symbol">:</a> <a id="2727" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2734" class="Symbol">(</a><a id="2735" href="Data.List.NonEmpty.Base.html#1266" class="Record">List⁺</a> <a id="2741" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a><a id="2742" class="Symbol">)</a> <a id="2744" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a> <a id="2746" class="Symbol">→</a> <a id="2748" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2755" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="2757" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>
<a id="2759" href="Codata.Sized.Stream.html#2718" class="Function">concat</a> <a id="2766" class="Symbol">(</a><a id="2767" href="Codata.Sized.Stream.html#2767" class="Bound">xs</a> <a id="2770" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="2772" href="Codata.Sized.Stream.html#2772" class="Bound">xss</a><a id="2775" class="Symbol">)</a> <a id="2777" class="Symbol">=</a> <a id="2779" href="Codata.Sized.Stream.html#2767" class="Bound">xs</a> <a id="2782" href="Codata.Sized.Stream.html#2538" class="Function Operator">⁺++</a> <a id="2786" class="Symbol">λ</a> <a id="2788" class="Keyword">where</a> <a id="2794" class="Symbol">.</a><a id="2795" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="2801" class="Symbol">→</a> <a id="2803" href="Codata.Sized.Stream.html#2718" class="Function">concat</a> <a id="2810" class="Symbol">(</a><a id="2811" href="Codata.Sized.Stream.html#2772" class="Bound">xss</a> <a id="2815" class="Symbol">.</a><a id="2816" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="2821" class="Symbol">)</a>

<a id="2824" class="Comment">------------------------------------------------------------------------</a>
<a id="2897" class="Comment">-- Chunking</a>

<a id="splitAt"></a><a id="2910" href="Codata.Sized.Stream.html#2910" class="Function">splitAt</a> <a id="2918" class="Symbol">:</a> <a id="2920" class="Symbol">(</a><a id="2921" href="Codata.Sized.Stream.html#2921" class="Bound">n</a> <a id="2923" class="Symbol">:</a> <a id="2925" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="2926" class="Symbol">)</a> <a id="2928" class="Symbol">→</a> <a id="2930" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2937" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="2939" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a> <a id="2941" class="Symbol">→</a> <a id="2943" href="Data.Vec.Base.html#1066" class="Datatype">Vec</a> <a id="2947" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="2949" href="Codata.Sized.Stream.html#2921" class="Bound">n</a> <a id="2951" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="2953" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="2960" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="2962" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a>
<a id="2964" href="Codata.Sized.Stream.html#2910" class="Function">splitAt</a> <a id="2972" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>    <a id="2980" href="Codata.Sized.Stream.html#2980" class="Bound">xs</a>       <a id="2989" class="Symbol">=</a> <a id="2991" href="Data.Vec.Base.html#1102" class="InductiveConstructor">[]</a> <a id="2994" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2996" href="Codata.Sized.Stream.html#2980" class="Bound">xs</a>
<a id="2999" href="Codata.Sized.Stream.html#2910" class="Function">splitAt</a> <a id="3007" class="Symbol">(</a><a id="3008" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3012" href="Codata.Sized.Stream.html#3012" class="Bound">n</a><a id="3013" class="Symbol">)</a> <a id="3015" class="Symbol">(</a><a id="3016" href="Codata.Sized.Stream.html#3016" class="Bound">x</a> <a id="3018" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="3020" href="Codata.Sized.Stream.html#3020" class="Bound">xs</a><a id="3022" class="Symbol">)</a> <a id="3024" class="Symbol">=</a> <a id="3026" href="Data.Product.html#2634" class="Function">P.map₁</a> <a id="3033" class="Symbol">(</a><a id="3034" href="Codata.Sized.Stream.html#3016" class="Bound">x</a> <a id="3036" href="Data.Vec.Base.html#1121" class="InductiveConstructor Operator">∷_</a><a id="3038" class="Symbol">)</a> <a id="3040" class="Symbol">(</a><a id="3041" href="Codata.Sized.Stream.html#2910" class="Function">splitAt</a> <a id="3049" href="Codata.Sized.Stream.html#3012" class="Bound">n</a> <a id="3051" class="Symbol">(</a><a id="3052" href="Codata.Sized.Stream.html#3020" class="Bound">xs</a> <a id="3055" class="Symbol">.</a><a id="3056" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="3061" class="Symbol">))</a>

<a id="take"></a><a id="3065" href="Codata.Sized.Stream.html#3065" class="Function">take</a> <a id="3070" class="Symbol">:</a> <a id="3072" class="Symbol">(</a><a id="3073" href="Codata.Sized.Stream.html#3073" class="Bound">n</a> <a id="3075" class="Symbol">:</a> <a id="3077" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="3078" class="Symbol">)</a> <a id="3080" class="Symbol">→</a> <a id="3082" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="3089" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="3091" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a> <a id="3093" class="Symbol">→</a> <a id="3095" href="Data.Vec.Base.html#1066" class="Datatype">Vec</a> <a id="3099" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="3101" href="Codata.Sized.Stream.html#3073" class="Bound">n</a>
<a id="3103" href="Codata.Sized.Stream.html#3065" class="Function">take</a> <a id="3108" href="Codata.Sized.Stream.html#3108" class="Bound">n</a> <a id="3110" href="Codata.Sized.Stream.html#3110" class="Bound">xs</a> <a id="3113" class="Symbol">=</a> <a id="3115" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3121" class="Symbol">(</a><a id="3122" href="Codata.Sized.Stream.html#2910" class="Function">splitAt</a> <a id="3130" href="Codata.Sized.Stream.html#3108" class="Bound">n</a> <a id="3132" href="Codata.Sized.Stream.html#3110" class="Bound">xs</a><a id="3134" class="Symbol">)</a>

<a id="drop"></a><a id="3137" href="Codata.Sized.Stream.html#3137" class="Function">drop</a> <a id="3142" class="Symbol">:</a> <a id="3144" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3146" class="Symbol">→</a> <a id="3148" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="3155" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="3157" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a> <a id="3159" class="Symbol">→</a> <a id="3161" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="3168" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="3170" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a>
<a id="3172" href="Codata.Sized.Stream.html#3137" class="Function">drop</a> <a id="3177" href="Codata.Sized.Stream.html#3177" class="Bound">n</a> <a id="3179" href="Codata.Sized.Stream.html#3179" class="Bound">xs</a> <a id="3182" class="Symbol">=</a> <a id="3184" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="3190" class="Symbol">(</a><a id="3191" href="Codata.Sized.Stream.html#2910" class="Function">splitAt</a> <a id="3199" href="Codata.Sized.Stream.html#3177" class="Bound">n</a> <a id="3201" href="Codata.Sized.Stream.html#3179" class="Bound">xs</a><a id="3203" class="Symbol">)</a>

<a id="chunksOf"></a><a id="3206" href="Codata.Sized.Stream.html#3206" class="Function">chunksOf</a> <a id="3215" class="Symbol">:</a> <a id="3217" class="Symbol">(</a><a id="3218" href="Codata.Sized.Stream.html#3218" class="Bound">n</a> <a id="3220" class="Symbol">:</a> <a id="3222" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="3223" class="Symbol">)</a> <a id="3225" class="Symbol">→</a> <a id="3227" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="3234" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="3236" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a> <a id="3238" class="Symbol">→</a> <a id="3240" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="3247" class="Symbol">(</a><a id="3248" href="Data.Vec.Base.html#1066" class="Datatype">Vec</a> <a id="3252" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="3254" href="Codata.Sized.Stream.html#3218" class="Bound">n</a><a id="3255" class="Symbol">)</a> <a id="3257" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a>
<a id="3259" href="Codata.Sized.Stream.html#3206" class="Function">chunksOf</a> <a id="3268" href="Codata.Sized.Stream.html#3268" class="Bound">n</a> <a id="3270" class="Symbol">=</a> <a id="3272" href="Codata.Sized.Stream.html#3314" class="Function">chunksOfAcc</a> <a id="3284" href="Codata.Sized.Stream.html#3268" class="Bound">n</a> <a id="3286" href="Function.Base.html#704" class="Function">id</a> <a id="3289" class="Keyword">module</a> <a id="ChunksOf"></a><a id="3296" href="Codata.Sized.Stream.html#3296" class="Module">ChunksOf</a> <a id="3305" class="Keyword">where</a>

  <a id="ChunksOf.chunksOfAcc"></a><a id="3314" href="Codata.Sized.Stream.html#3314" class="Function">chunksOfAcc</a> <a id="3326" class="Symbol">:</a> <a id="3328" class="Symbol">∀</a> <a id="3330" href="Codata.Sized.Stream.html#3330" class="Bound">k</a> <a id="3332" class="Symbol">(</a><a id="3333" href="Codata.Sized.Stream.html#3333" class="Bound">acc</a> <a id="3337" class="Symbol">:</a> <a id="3339" href="Data.Vec.Base.html#1066" class="Datatype">Vec</a> <a id="3343" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="3345" href="Codata.Sized.Stream.html#3330" class="Bound">k</a> <a id="3347" class="Symbol">→</a> <a id="3349" href="Data.Vec.Base.html#1066" class="Datatype">Vec</a> <a id="3353" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="3355" href="Codata.Sized.Stream.html#3268" class="Bound">n</a><a id="3356" class="Symbol">)</a> <a id="3358" class="Symbol">→</a>
                <a id="3376" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="3383" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="3385" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a> <a id="3387" class="Symbol">→</a> <a id="3389" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="3396" class="Symbol">(</a><a id="3397" href="Data.Vec.Base.html#1066" class="Datatype">Vec</a> <a id="3401" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="3403" href="Codata.Sized.Stream.html#3268" class="Bound">n</a><a id="3404" class="Symbol">)</a> <a id="3406" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>
  <a id="3410" href="Codata.Sized.Stream.html#3314" class="Function">chunksOfAcc</a> <a id="3422" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>    <a id="3430" href="Codata.Sized.Stream.html#3430" class="Bound">acc</a> <a id="3434" href="Codata.Sized.Stream.html#3434" class="Bound">xs</a>       <a id="3443" class="Symbol">=</a> <a id="3445" href="Codata.Sized.Stream.html#3430" class="Bound">acc</a> <a id="3449" href="Data.Vec.Base.html#1102" class="InductiveConstructor">[]</a> <a id="3452" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="3454" class="Symbol">λ</a> <a id="3456" class="Keyword">where</a> <a id="3462" class="Symbol">.</a><a id="3463" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="3469" class="Symbol">→</a> <a id="3471" href="Codata.Sized.Stream.html#3314" class="Function">chunksOfAcc</a> <a id="3483" href="Codata.Sized.Stream.html#3268" class="Bound">n</a> <a id="3485" href="Function.Base.html#704" class="Function">id</a> <a id="3488" href="Codata.Sized.Stream.html#3434" class="Bound">xs</a>
  <a id="3493" href="Codata.Sized.Stream.html#3314" class="Function">chunksOfAcc</a> <a id="3505" class="Symbol">(</a><a id="3506" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3510" href="Codata.Sized.Stream.html#3510" class="Bound">k</a><a id="3511" class="Symbol">)</a> <a id="3513" href="Codata.Sized.Stream.html#3513" class="Bound">acc</a> <a id="3517" class="Symbol">(</a><a id="3518" href="Codata.Sized.Stream.html#3518" class="Bound">x</a> <a id="3520" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="3522" href="Codata.Sized.Stream.html#3522" class="Bound">xs</a><a id="3524" class="Symbol">)</a> <a id="3526" class="Symbol">=</a> <a id="3528" href="Codata.Sized.Stream.html#3314" class="Function">chunksOfAcc</a> <a id="3540" href="Codata.Sized.Stream.html#3510" class="Bound">k</a> <a id="3542" class="Symbol">(</a><a id="3543" href="Codata.Sized.Stream.html#3513" class="Bound">acc</a> <a id="3547" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3549" class="Symbol">(</a><a id="3550" href="Codata.Sized.Stream.html#3518" class="Bound">x</a> <a id="3552" href="Data.Vec.Base.html#1121" class="InductiveConstructor Operator">∷_</a><a id="3554" class="Symbol">))</a> <a id="3557" class="Symbol">(</a><a id="3558" href="Codata.Sized.Stream.html#3522" class="Bound">xs</a> <a id="3561" class="Symbol">.</a><a id="3562" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="3567" class="Symbol">)</a>

<a id="3570" class="Comment">------------------------------------------------------------------------</a>
<a id="3643" class="Comment">-- Interleaving streams</a>

<a id="3668" class="Comment">-- The most basic of interleaving strategies is to take two streams and</a>
<a id="3740" class="Comment">-- alternate between emitting values from one and the other.</a>
<a id="interleave"></a><a id="3801" href="Codata.Sized.Stream.html#3801" class="Function">interleave</a> <a id="3812" class="Symbol">:</a> <a id="3814" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="3821" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="3823" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a> <a id="3825" class="Symbol">→</a> <a id="3827" href="Codata.Sized.Thunk.html#482" class="Record">Thunk</a> <a id="3833" class="Symbol">(</a><a id="3834" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="3841" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a><a id="3842" class="Symbol">)</a> <a id="3844" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a> <a id="3846" class="Symbol">→</a> <a id="3848" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="3855" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="3857" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>
<a id="3859" href="Codata.Sized.Stream.html#3801" class="Function">interleave</a> <a id="3870" class="Symbol">(</a><a id="3871" href="Codata.Sized.Stream.html#3871" class="Bound">x</a> <a id="3873" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="3875" href="Codata.Sized.Stream.html#3875" class="Bound">xs</a><a id="3877" class="Symbol">)</a> <a id="3879" href="Codata.Sized.Stream.html#3879" class="Bound">ys</a> <a id="3882" class="Symbol">=</a> <a id="3884" href="Codata.Sized.Stream.html#3871" class="Bound">x</a> <a id="3886" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="3888" class="Symbol">λ</a> <a id="3890" class="Keyword">where</a> <a id="3896" class="Symbol">.</a><a id="3897" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="3903" class="Symbol">→</a> <a id="3905" href="Codata.Sized.Stream.html#3801" class="Function">interleave</a> <a id="3916" class="Symbol">(</a><a id="3917" href="Codata.Sized.Stream.html#3879" class="Bound">ys</a> <a id="3920" class="Symbol">.</a><a id="3921" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="3926" class="Symbol">)</a> <a id="3928" href="Codata.Sized.Stream.html#3875" class="Bound">xs</a>

<a id="3932" class="Comment">-- This interleaving strategy can be generalised to an arbitrary non-empty</a>
<a id="4007" class="Comment">-- list of streams</a>
<a id="interleave⁺"></a><a id="4026" href="Codata.Sized.Stream.html#4026" class="Function">interleave⁺</a> <a id="4038" class="Symbol">:</a> <a id="4040" href="Data.List.NonEmpty.Base.html#1266" class="Record">List⁺</a> <a id="4046" class="Symbol">(</a><a id="4047" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="4054" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="4056" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a><a id="4057" class="Symbol">)</a> <a id="4059" class="Symbol">→</a> <a id="4061" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="4068" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="4070" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>
<a id="4072" href="Codata.Sized.Stream.html#4026" class="Function">interleave⁺</a> <a id="4084" href="Codata.Sized.Stream.html#4084" class="Bound">xss</a> <a id="4088" class="Symbol">=</a>
  <a id="4092" href="Data.List.NonEmpty.Base.html#2313" class="Function">List⁺.map</a> <a id="4102" href="Codata.Sized.Stream.html#1635" class="Function">head</a> <a id="4107" href="Codata.Sized.Stream.html#4084" class="Bound">xss</a>
  <a id="4113" href="Codata.Sized.Stream.html#2538" class="Function Operator">⁺++</a> <a id="4117" class="Symbol">λ</a> <a id="4119" class="Keyword">where</a> <a id="4125" class="Symbol">.</a><a id="4126" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="4132" class="Symbol">→</a> <a id="4134" href="Codata.Sized.Stream.html#4026" class="Function">interleave⁺</a> <a id="4146" class="Symbol">(</a><a id="4147" href="Data.List.NonEmpty.Base.html#2313" class="Function">List⁺.map</a> <a id="4157" href="Codata.Sized.Stream.html#1676" class="Function">tail</a> <a id="4162" href="Codata.Sized.Stream.html#4084" class="Bound">xss</a><a id="4165" class="Symbol">)</a>

<a id="4168" class="Comment">-- To generalise this further to a stream of streams however we have to</a>
<a id="4240" class="Comment">-- adopt a different strategy: if we were to start with *all* the heads</a>
<a id="4312" class="Comment">-- then we would never reach any of the second elements in the streams.</a>

<a id="4385" class="Comment">-- Here we use Cantor&#39;s zig zag function to explore the plane defined by</a>
<a id="4458" class="Comment">-- the function `(i,j) ↦ lookup (lookup xss i) j‵ mapping coordinates to</a>
<a id="4531" class="Comment">-- values in a way that guarantees that any point is reached in a finite</a>
<a id="4604" class="Comment">-- amount of time. The definition is taken from the paper:</a>
<a id="4663" class="Comment">-- Applications of Applicative Proof Search by Liam O&#39;Connor</a>

<a id="cantor"></a><a id="4725" href="Codata.Sized.Stream.html#4725" class="Function">cantor</a> <a id="4732" class="Symbol">:</a> <a id="4734" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="4741" class="Symbol">(</a><a id="4742" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="4749" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="4751" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a><a id="4752" class="Symbol">)</a> <a id="4754" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a> <a id="4756" class="Symbol">→</a> <a id="4758" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="4765" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="4767" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a>
<a id="4769" href="Codata.Sized.Stream.html#4725" class="Function">cantor</a> <a id="4776" class="Symbol">(</a><a id="4777" href="Codata.Sized.Stream.html#4777" class="Bound">l</a> <a id="4779" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="4781" href="Codata.Sized.Stream.html#4781" class="Bound">ls</a><a id="4783" class="Symbol">)</a> <a id="4785" class="Symbol">=</a> <a id="4787" href="Codata.Sized.Stream.html#4835" class="Function">zig</a> <a id="4791" class="Symbol">(</a><a id="4792" href="Codata.Sized.Stream.html#4777" class="Bound">l</a> <a id="4794" href="Data.List.NonEmpty.Base.html#1312" class="InductiveConstructor Operator">∷</a> <a id="4796" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="4798" class="Symbol">)</a> <a id="4800" class="Symbol">(</a><a id="4801" href="Codata.Sized.Stream.html#4781" class="Bound">ls</a> <a id="4804" class="Symbol">.</a><a id="4805" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="4810" class="Symbol">)</a> <a id="4812" class="Keyword">module</a> <a id="Cantor"></a><a id="4819" href="Codata.Sized.Stream.html#4819" class="Module">Cantor</a> <a id="4826" class="Keyword">where</a>

  <a id="Cantor.zig"></a><a id="4835" href="Codata.Sized.Stream.html#4835" class="Function">zig</a> <a id="4839" class="Symbol">:</a> <a id="4841" href="Data.List.NonEmpty.Base.html#1266" class="Record">List⁺</a> <a id="4847" class="Symbol">(</a><a id="4848" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="4855" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="4857" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a><a id="4858" class="Symbol">)</a>           <a id="4870" class="Symbol">→</a> <a id="4872" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="4879" class="Symbol">(</a><a id="4880" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="4887" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="4889" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a><a id="4890" class="Symbol">)</a> <a id="4892" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a> <a id="4894" class="Symbol">→</a> <a id="4896" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="4903" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="4905" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>
  <a id="Cantor.zag"></a><a id="4909" href="Codata.Sized.Stream.html#4909" class="Function">zag</a> <a id="4913" class="Symbol">:</a> <a id="4915" href="Data.List.NonEmpty.Base.html#1266" class="Record">List⁺</a> <a id="4921" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="4923" class="Symbol">→</a> <a id="4925" href="Data.List.NonEmpty.Base.html#1266" class="Record">List⁺</a> <a id="4931" class="Symbol">(</a><a id="4932" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="4939" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="4941" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a><a id="4942" class="Symbol">)</a> <a id="4944" class="Symbol">→</a> <a id="4946" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="4953" class="Symbol">(</a><a id="4954" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="4961" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="4963" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a><a id="4964" class="Symbol">)</a> <a id="4966" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a> <a id="4968" class="Symbol">→</a> <a id="4970" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="4977" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="4979" href="Codata.Sized.Stream.html#824" class="Generalizable">i</a>

  <a id="4984" href="Codata.Sized.Stream.html#4835" class="Function">zig</a> <a id="4988" href="Codata.Sized.Stream.html#4988" class="Bound">xss</a> <a id="4992" class="Symbol">=</a> <a id="4994" href="Codata.Sized.Stream.html#4909" class="Function">zag</a> <a id="4998" class="Symbol">(</a><a id="4999" href="Data.List.NonEmpty.Base.html#2313" class="Function">List⁺.map</a> <a id="5009" href="Codata.Sized.Stream.html#1635" class="Function">head</a> <a id="5014" href="Codata.Sized.Stream.html#4988" class="Bound">xss</a><a id="5017" class="Symbol">)</a> <a id="5019" class="Symbol">(</a><a id="5020" href="Data.List.NonEmpty.Base.html#2313" class="Function">List⁺.map</a> <a id="5030" href="Codata.Sized.Stream.html#1676" class="Function">tail</a> <a id="5035" href="Codata.Sized.Stream.html#4988" class="Bound">xss</a><a id="5038" class="Symbol">)</a>

  <a id="5043" href="Codata.Sized.Stream.html#4909" class="Function">zag</a> <a id="5047" class="Symbol">(</a><a id="5048" href="Codata.Sized.Stream.html#5048" class="Bound">x</a> <a id="5050" href="Data.List.NonEmpty.Base.html#1312" class="InductiveConstructor Operator">∷</a> <a id="5052" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5054" class="Symbol">)</a> <a id="5056" href="Codata.Sized.Stream.html#5056" class="Bound">zs</a> <a id="5059" class="Symbol">(</a><a id="5060" href="Codata.Sized.Stream.html#5060" class="Bound">l</a> <a id="5062" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="5064" href="Codata.Sized.Stream.html#5064" class="Bound">ls</a><a id="5066" class="Symbol">)</a> <a id="5068" class="Symbol">=</a> <a id="5070" href="Codata.Sized.Stream.html#5048" class="Bound">x</a> <a id="5072" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="5074" class="Symbol">λ</a> <a id="5076" class="Keyword">where</a> <a id="5082" class="Symbol">.</a><a id="5083" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="5089" class="Symbol">→</a> <a id="5091" href="Codata.Sized.Stream.html#4835" class="Function">zig</a> <a id="5095" class="Symbol">(</a><a id="5096" href="Codata.Sized.Stream.html#5060" class="Bound">l</a> <a id="5098" href="Data.List.NonEmpty.Base.html#1577" class="Function Operator">∷⁺</a> <a id="5101" href="Codata.Sized.Stream.html#5056" class="Bound">zs</a><a id="5103" class="Symbol">)</a> <a id="5105" class="Symbol">(</a><a id="5106" href="Codata.Sized.Stream.html#5064" class="Bound">ls</a> <a id="5109" class="Symbol">.</a><a id="5110" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="5115" class="Symbol">)</a>
  <a id="5119" href="Codata.Sized.Stream.html#4909" class="Function">zag</a> <a id="5123" class="Symbol">(</a><a id="5124" href="Codata.Sized.Stream.html#5124" class="Bound">x</a> <a id="5126" href="Data.List.NonEmpty.Base.html#1312" class="InductiveConstructor Operator">∷</a> <a id="5128" class="Symbol">(</a><a id="5129" href="Codata.Sized.Stream.html#5129" class="Bound">y</a> <a id="5131" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5133" href="Codata.Sized.Stream.html#5133" class="Bound">xs</a><a id="5135" class="Symbol">))</a> <a id="5138" href="Codata.Sized.Stream.html#5138" class="Bound">zs</a> <a id="5141" href="Codata.Sized.Stream.html#5141" class="Bound">ls</a> <a id="5144" class="Symbol">=</a> <a id="5146" href="Codata.Sized.Stream.html#5124" class="Bound">x</a> <a id="5148" href="Codata.Sized.Stream.html#967" class="InductiveConstructor Operator">∷</a> <a id="5150" class="Symbol">λ</a> <a id="5152" class="Keyword">where</a> <a id="5158" class="Symbol">.</a><a id="5159" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="5165" class="Symbol">→</a> <a id="5167" href="Codata.Sized.Stream.html#4909" class="Function">zag</a> <a id="5171" class="Symbol">(</a><a id="5172" href="Codata.Sized.Stream.html#5129" class="Bound">y</a> <a id="5174" href="Data.List.NonEmpty.Base.html#1312" class="InductiveConstructor Operator">∷</a> <a id="5176" href="Codata.Sized.Stream.html#5133" class="Bound">xs</a><a id="5178" class="Symbol">)</a> <a id="5180" href="Codata.Sized.Stream.html#5138" class="Bound">zs</a> <a id="5183" href="Codata.Sized.Stream.html#5141" class="Bound">ls</a>

<a id="5187" class="Comment">-- We can use the Cantor zig zag function to define a form of `bind&#39; that</a>
<a id="5261" class="Comment">-- reaches any point of the plane in a finite amount of time.</a>
<a id="plane"></a><a id="5323" href="Codata.Sized.Stream.html#5323" class="Function">plane</a> <a id="5329" class="Symbol">:</a> <a id="5331" class="Symbol">{</a><a id="5332" href="Codata.Sized.Stream.html#5332" class="Bound">B</a> <a id="5334" class="Symbol">:</a> <a id="5336" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="5338" class="Symbol">→</a> <a id="5340" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="5344" href="Codata.Sized.Stream.html#766" class="Generalizable">b</a><a id="5345" class="Symbol">}</a> <a id="5347" class="Symbol">→</a> <a id="5349" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="5356" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="5358" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a> <a id="5360" class="Symbol">→</a> <a id="5362" class="Symbol">((</a><a id="5364" href="Codata.Sized.Stream.html#5364" class="Bound">a</a> <a id="5366" class="Symbol">:</a> <a id="5368" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a><a id="5369" class="Symbol">)</a> <a id="5371" class="Symbol">→</a> <a id="5373" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="5380" class="Symbol">(</a><a id="5381" href="Codata.Sized.Stream.html#5332" class="Bound">B</a> <a id="5383" href="Codata.Sized.Stream.html#5364" class="Bound">a</a><a id="5384" class="Symbol">)</a> <a id="5386" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a><a id="5387" class="Symbol">)</a> <a id="5389" class="Symbol">→</a>
        <a id="5399" href="Codata.Sized.Stream.html#921" class="Datatype">Stream</a> <a id="5406" class="Symbol">(</a><a id="5407" href="Agda.Builtin.Sigma.html#148" class="Record">Σ</a> <a id="5409" href="Codata.Sized.Stream.html#782" class="Generalizable">A</a> <a id="5411" href="Codata.Sized.Stream.html#5332" class="Bound">B</a><a id="5412" class="Symbol">)</a> <a id="5414" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a>
<a id="5416" href="Codata.Sized.Stream.html#5323" class="Function">plane</a> <a id="5422" href="Codata.Sized.Stream.html#5422" class="Bound">as</a> <a id="5425" href="Codata.Sized.Stream.html#5425" class="Bound">bs</a> <a id="5428" class="Symbol">=</a> <a id="5430" href="Codata.Sized.Stream.html#4725" class="Function">cantor</a> <a id="5437" class="Symbol">(</a><a id="5438" href="Codata.Sized.Stream.html#1944" class="Function">map</a> <a id="5442" class="Symbol">(λ</a> <a id="5445" href="Codata.Sized.Stream.html#5445" class="Bound">a</a> <a id="5447" class="Symbol">→</a> <a id="5449" href="Codata.Sized.Stream.html#1944" class="Function">map</a> <a id="5453" class="Symbol">(</a><a id="5454" href="Codata.Sized.Stream.html#5445" class="Bound">a</a> <a id="5456" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,_</a><a id="5458" class="Symbol">)</a> <a id="5460" class="Symbol">(</a><a id="5461" href="Codata.Sized.Stream.html#5425" class="Bound">bs</a> <a id="5464" href="Codata.Sized.Stream.html#5445" class="Bound">a</a><a id="5465" class="Symbol">))</a> <a id="5468" href="Codata.Sized.Stream.html#5422" class="Bound">as</a><a id="5470" class="Symbol">)</a>

<a id="5473" class="Comment">-- Here is the beginning of the path we are following:</a>
<a id="5528" href="Codata.Sized.Stream.html#5528" class="Function">_</a> <a id="5530" class="Symbol">:</a> <a id="5532" href="Codata.Sized.Stream.html#3065" class="Function">take</a> <a id="5537" class="Number">21</a> <a id="5540" class="Symbol">(</a><a id="5541" href="Codata.Sized.Stream.html#5323" class="Function">plane</a> <a id="5547" href="Codata.Sized.Stream.html#1496" class="Function">nats</a> <a id="5552" class="Symbol">(λ</a> <a id="5555" href="Codata.Sized.Stream.html#5555" class="Bound">_</a> <a id="5557" class="Symbol">→</a> <a id="5559" href="Codata.Sized.Stream.html#1496" class="Function">nats</a><a id="5563" class="Symbol">))</a>
  <a id="5568" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5570" class="Symbol">(</a><a id="5571" class="Number">0</a> <a id="5573" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5575" class="Number">0</a><a id="5576" class="Symbol">)</a>
  <a id="5580" class="InductiveConstructor Operator">∷</a> <a id="5582" class="Symbol">(</a><a id="5583" class="Number">1</a> <a id="5585" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5587" class="Number">0</a><a id="5588" class="Symbol">)</a> <a id="5590" class="InductiveConstructor Operator">∷</a> <a id="5592" class="Symbol">(</a><a id="5593" class="Number">0</a> <a id="5595" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5597" class="Number">1</a><a id="5598" class="Symbol">)</a>
  <a id="5602" class="InductiveConstructor Operator">∷</a> <a id="5604" class="Symbol">(</a><a id="5605" class="Number">2</a> <a id="5607" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5609" class="Number">0</a><a id="5610" class="Symbol">)</a> <a id="5612" class="InductiveConstructor Operator">∷</a> <a id="5614" class="Symbol">(</a><a id="5615" class="Number">1</a> <a id="5617" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5619" class="Number">1</a><a id="5620" class="Symbol">)</a> <a id="5622" class="InductiveConstructor Operator">∷</a> <a id="5624" class="Symbol">(</a><a id="5625" class="Number">0</a> <a id="5627" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5629" class="Number">2</a><a id="5630" class="Symbol">)</a>
  <a id="5634" class="InductiveConstructor Operator">∷</a> <a id="5636" class="Symbol">(</a><a id="5637" class="Number">3</a> <a id="5639" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5641" class="Number">0</a><a id="5642" class="Symbol">)</a> <a id="5644" class="InductiveConstructor Operator">∷</a> <a id="5646" class="Symbol">(</a><a id="5647" class="Number">2</a> <a id="5649" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5651" class="Number">1</a><a id="5652" class="Symbol">)</a> <a id="5654" class="InductiveConstructor Operator">∷</a> <a id="5656" class="Symbol">(</a><a id="5657" class="Number">1</a> <a id="5659" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5661" class="Number">2</a><a id="5662" class="Symbol">)</a> <a id="5664" class="InductiveConstructor Operator">∷</a> <a id="5666" class="Symbol">(</a><a id="5667" class="Number">0</a> <a id="5669" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5671" class="Number">3</a><a id="5672" class="Symbol">)</a>
  <a id="5676" class="InductiveConstructor Operator">∷</a> <a id="5678" class="Symbol">(</a><a id="5679" class="Number">4</a> <a id="5681" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5683" class="Number">0</a><a id="5684" class="Symbol">)</a> <a id="5686" class="InductiveConstructor Operator">∷</a> <a id="5688" class="Symbol">(</a><a id="5689" class="Number">3</a> <a id="5691" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5693" class="Number">1</a><a id="5694" class="Symbol">)</a> <a id="5696" class="InductiveConstructor Operator">∷</a> <a id="5698" class="Symbol">(</a><a id="5699" class="Number">2</a> <a id="5701" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5703" class="Number">2</a><a id="5704" class="Symbol">)</a> <a id="5706" class="InductiveConstructor Operator">∷</a> <a id="5708" class="Symbol">(</a><a id="5709" class="Number">1</a> <a id="5711" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5713" class="Number">3</a><a id="5714" class="Symbol">)</a> <a id="5716" class="InductiveConstructor Operator">∷</a> <a id="5718" class="Symbol">(</a><a id="5719" class="Number">0</a> <a id="5721" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5723" class="Number">4</a><a id="5724" class="Symbol">)</a>
  <a id="5728" class="InductiveConstructor Operator">∷</a> <a id="5730" class="Symbol">(</a><a id="5731" class="Number">5</a> <a id="5733" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5735" class="Number">0</a><a id="5736" class="Symbol">)</a> <a id="5738" class="InductiveConstructor Operator">∷</a> <a id="5740" class="Symbol">(</a><a id="5741" class="Number">4</a> <a id="5743" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5745" class="Number">1</a><a id="5746" class="Symbol">)</a> <a id="5748" class="InductiveConstructor Operator">∷</a> <a id="5750" class="Symbol">(</a><a id="5751" class="Number">3</a> <a id="5753" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5755" class="Number">2</a><a id="5756" class="Symbol">)</a> <a id="5758" class="InductiveConstructor Operator">∷</a> <a id="5760" class="Symbol">(</a><a id="5761" class="Number">2</a> <a id="5763" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5765" class="Number">3</a><a id="5766" class="Symbol">)</a> <a id="5768" class="InductiveConstructor Operator">∷</a> <a id="5770" class="Symbol">(</a><a id="5771" class="Number">1</a> <a id="5773" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5775" class="Number">4</a><a id="5776" class="Symbol">)</a> <a id="5778" class="InductiveConstructor Operator">∷</a> <a id="5780" class="Symbol">(</a><a id="5781" class="Number">0</a> <a id="5783" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5785" class="Number">5</a><a id="5786" class="Symbol">)</a>
  <a id="5790" class="InductiveConstructor Operator">∷</a> <a id="5792" class="InductiveConstructor">[]</a>
<a id="5795" class="Symbol">_</a> <a id="5797" class="Symbol">=</a> <a id="5799" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre></body></html>