<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Algebra.Solver.Ring.NaturalCoefficients</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Instantiates the ring solver, using the natural numbers as the</a>
<a id="172" class="Comment">-- coefficient &quot;ring&quot;</a>
<a id="194" class="Comment">------------------------------------------------------------------------</a>

<a id="268" class="Symbol">{-#</a> <a id="272" class="Keyword">OPTIONS</a> <a id="280" class="Pragma">--without-K</a> <a id="292" class="Pragma">--safe</a> <a id="299" class="Symbol">#-}</a>

<a id="304" class="Keyword">open</a> <a id="309" class="Keyword">import</a> <a id="316" href="Algebra.html" class="Module">Algebra</a>
<a id="324" class="Keyword">import</a> <a id="331" href="Algebra.Operations.Semiring.html" class="Module">Algebra.Operations.Semiring</a> <a id="359" class="Symbol">as</a> <a id="362" class="Module">SemiringOps</a>
<a id="374" class="Keyword">open</a> <a id="379" class="Keyword">import</a> <a id="386" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="402" class="Keyword">using</a> <a id="408" class="Symbol">(</a><a id="409" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a><a id="414" class="Symbol">;</a> <a id="416" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a><a id="420" class="Symbol">;</a> <a id="422" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a><a id="429" class="Symbol">;</a> <a id="431" href="Data.Maybe.Base.html#2039" class="Function">map</a><a id="434" class="Symbol">)</a>

<a id="437" class="Keyword">module</a> <a id="444" href="Algebra.Solver.Ring.NaturalCoefficients.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients</a>
  <a id="486" class="Symbol">{</a><a id="487" href="Algebra.Solver.Ring.NaturalCoefficients.html#487" class="Bound">r₁</a> <a id="490" href="Algebra.Solver.Ring.NaturalCoefficients.html#490" class="Bound">r₂</a><a id="492" class="Symbol">}</a> <a id="494" class="Symbol">(</a><a id="495" href="Algebra.Solver.Ring.NaturalCoefficients.html#495" class="Bound">R</a> <a id="497" class="Symbol">:</a> <a id="499" href="Algebra.Bundles.html#14492" class="Record">CommutativeSemiring</a> <a id="519" href="Algebra.Solver.Ring.NaturalCoefficients.html#487" class="Bound">r₁</a> <a id="522" href="Algebra.Solver.Ring.NaturalCoefficients.html#490" class="Bound">r₂</a><a id="524" class="Symbol">)</a>
  <a id="528" class="Symbol">(</a><a id="529" class="Keyword">open</a> <a id="534" href="Algebra.Bundles.html#14492" class="Module">CommutativeSemiring</a> <a id="554" href="Algebra.Solver.Ring.NaturalCoefficients.html#495" class="Bound">R</a><a id="555" class="Symbol">)</a>
  <a id="559" class="Symbol">(</a><a id="560" class="Keyword">open</a> <a id="565" href="Algebra.Operations.Semiring.html" class="Module">SemiringOps</a> <a id="577" href="Algebra.Bundles.html#14953" class="Function">semiring</a><a id="585" class="Symbol">)</a>
  <a id="589" class="Symbol">(</a><a id="590" href="Algebra.Solver.Ring.NaturalCoefficients.html#590" class="Bound">dec</a> <a id="594" class="Symbol">:</a> <a id="596" class="Symbol">∀</a> <a id="598" href="Algebra.Solver.Ring.NaturalCoefficients.html#598" class="Bound">m</a> <a id="600" href="Algebra.Solver.Ring.NaturalCoefficients.html#600" class="Bound">n</a> <a id="602" class="Symbol">→</a> <a id="604" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="610" class="Symbol">(</a><a id="611" href="Algebra.Solver.Ring.NaturalCoefficients.html#598" class="Bound">m</a> <a id="613" href="Algebra.Operations.CommutativeMonoid.html#1343" class="Function Operator">×</a> <a id="615" href="Algebra.Bundles.html#14791" class="Field">1#</a> <a id="618" href="Algebra.Bundles.html#14633" class="Field Operator">≈</a> <a id="620" href="Algebra.Solver.Ring.NaturalCoefficients.html#600" class="Bound">n</a> <a id="622" href="Algebra.Operations.CommutativeMonoid.html#1343" class="Function Operator">×</a> <a id="624" href="Algebra.Bundles.html#14791" class="Field">1#</a><a id="626" class="Symbol">))</a> <a id="629" class="Keyword">where</a>

<a id="636" class="Keyword">import</a> <a id="643" href="Algebra.Solver.Ring.html" class="Module">Algebra.Solver.Ring</a>
<a id="663" class="Keyword">open</a> <a id="668" class="Keyword">import</a> <a id="675" href="Algebra.Solver.Ring.AlmostCommutativeRing.html" class="Module">Algebra.Solver.Ring.AlmostCommutativeRing</a>
<a id="717" class="Keyword">open</a> <a id="722" class="Keyword">import</a> <a id="729" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="743" class="Symbol">as</a> <a id="746" class="Module">ℕ</a>
<a id="748" class="Keyword">open</a> <a id="753" class="Keyword">import</a> <a id="760" href="Data.Product.html" class="Module">Data.Product</a> <a id="773" class="Keyword">using</a> <a id="779" class="Symbol">(</a><a id="780" class="Keyword">module</a> <a id="787" href="Data.Product.html#715" class="Module">Σ</a><a id="788" class="Symbol">)</a>
<a id="790" class="Keyword">open</a> <a id="795" class="Keyword">import</a> <a id="802" href="Function.html" class="Module">Function</a>
<a id="811" class="Keyword">open</a> <a id="816" class="Keyword">import</a> <a id="823" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="861" class="Keyword">using</a> <a id="867" class="Symbol">(</a><a id="868" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="871" class="Symbol">)</a>

<a id="874" class="Keyword">open</a> <a id="879" class="Keyword">import</a> <a id="886" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="919" href="Algebra.Structures.html#1285" class="Function">setoid</a>

<a id="927" class="Keyword">private</a>

  <a id="938" class="Comment">-- The coefficient &quot;ring&quot;.</a>

  <a id="ℕ-ring"></a><a id="968" href="Algebra.Solver.Ring.NaturalCoefficients.html#968" class="Function">ℕ-ring</a> <a id="975" class="Symbol">:</a> <a id="977" href="Algebra.Bundles.html#16086" class="Record">RawRing</a> <a id="985" class="Symbol">_</a> <a id="987" class="Symbol">_</a>
  <a id="991" href="Algebra.Solver.Ring.NaturalCoefficients.html#968" class="Function">ℕ-ring</a> <a id="998" class="Symbol">=</a> <a id="1000" class="Keyword">record</a>
    <a id="1011" class="Symbol">{</a> <a id="1013" href="Algebra.Bundles.html#16195" class="Field">Carrier</a> <a id="1021" class="Symbol">=</a> <a id="1023" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="1029" class="Symbol">;</a> <a id="1031" href="Algebra.Bundles.html#16215" class="Field Operator">_≈_</a>     <a id="1039" class="Symbol">=</a> <a id="1041" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a>
    <a id="1049" class="Symbol">;</a> <a id="1051" href="Algebra.Bundles.html#16243" class="Field Operator">_+_</a>     <a id="1059" class="Symbol">=</a> <a id="1061" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ._+_</a>
    <a id="1071" class="Symbol">;</a> <a id="1073" href="Algebra.Bundles.html#16269" class="Field Operator">_*_</a>     <a id="1081" class="Symbol">=</a> <a id="1083" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">ℕ._*_</a>
    <a id="1093" class="Symbol">;</a> <a id="1095" href="Algebra.Bundles.html#16295" class="Field Operator">-_</a>      <a id="1103" class="Symbol">=</a> <a id="1105" href="Function.Base.html#615" class="Function">id</a>
    <a id="1112" class="Symbol">;</a> <a id="1114" href="Algebra.Bundles.html#16321" class="Field">0#</a>      <a id="1122" class="Symbol">=</a> <a id="1124" class="Number">0</a>
    <a id="1130" class="Symbol">;</a> <a id="1132" href="Algebra.Bundles.html#16343" class="Field">1#</a>      <a id="1140" class="Symbol">=</a> <a id="1142" class="Number">1</a>
    <a id="1148" class="Symbol">}</a>

  <a id="1153" class="Comment">-- There is a homomorphism from ℕ to R.</a>
  <a id="1195" class="Comment">--</a>
  <a id="1200" class="Comment">-- Note that _×′_ is used rather than _×_. If _×_ were used, then</a>
  <a id="1268" class="Comment">-- Function.Related.TypeIsomorphisms.test would fail to type-check.</a>

  <a id="homomorphism"></a><a id="1339" href="Algebra.Solver.Ring.NaturalCoefficients.html#1339" class="Function">homomorphism</a> <a id="1352" class="Symbol">:</a>
    <a id="1358" href="Algebra.Solver.Ring.NaturalCoefficients.html#968" class="Function">ℕ-ring</a> <a id="1365" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2318" class="Record Operator">-Raw-AlmostCommutative⟶</a> <a id="1389" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#4267" class="Function">fromCommutativeSemiring</a> <a id="1413" href="Algebra.Solver.Ring.NaturalCoefficients.html#495" class="Bound">R</a>
  <a id="1417" href="Algebra.Solver.Ring.NaturalCoefficients.html#1339" class="Function">homomorphism</a> <a id="1430" class="Symbol">=</a> <a id="1432" class="Keyword">record</a>
    <a id="1443" class="Symbol">{</a> <a id="1445" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2592" class="Field Operator">⟦_⟧</a>    <a id="1452" class="Symbol">=</a> <a id="1454" class="Symbol">λ</a> <a id="1456" href="Algebra.Solver.Ring.NaturalCoefficients.html#1456" class="Bound">n</a> <a id="1458" class="Symbol">→</a> <a id="1460" href="Algebra.Solver.Ring.NaturalCoefficients.html#1456" class="Bound">n</a> <a id="1462" href="Algebra.Operations.CommutativeMonoid.html#1518" class="Function Operator">×′</a> <a id="1465" href="Algebra.Bundles.html#14791" class="Field">1#</a>
    <a id="1472" class="Symbol">;</a> <a id="1474" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2614" class="Field">+-homo</a> <a id="1481" class="Symbol">=</a> <a id="1483" href="Algebra.Operations.CommutativeMonoid.html#3087" class="Function">×′-homo-+</a> <a id="1493" href="Algebra.Bundles.html#14791" class="Field">1#</a>
    <a id="1500" class="Symbol">;</a> <a id="1502" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2656" class="Field">*-homo</a> <a id="1509" class="Symbol">=</a> <a id="1511" href="Algebra.Operations.Semiring.html#1897" class="Function">×′1-homo-*</a>
    <a id="1526" class="Symbol">;</a> <a id="1528" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2698" class="Field">-‿homo</a> <a id="1535" class="Symbol">=</a> <a id="1537" class="Symbol">λ</a> <a id="1539" href="Algebra.Solver.Ring.NaturalCoefficients.html#1539" class="Bound">_</a> <a id="1541" class="Symbol">→</a> <a id="1543" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
    <a id="1552" class="Symbol">;</a> <a id="1554" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2739" class="Field">0-homo</a> <a id="1561" class="Symbol">=</a> <a id="1563" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
    <a id="1572" class="Symbol">;</a> <a id="1574" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2780" class="Field">1-homo</a> <a id="1581" class="Symbol">=</a> <a id="1583" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
    <a id="1592" class="Symbol">}</a>

  <a id="1597" class="Comment">-- Equality of certain expressions can be decided.</a>

  <a id="dec′"></a><a id="1651" href="Algebra.Solver.Ring.NaturalCoefficients.html#1651" class="Function">dec′</a> <a id="1656" class="Symbol">:</a> <a id="1658" class="Symbol">∀</a> <a id="1660" href="Algebra.Solver.Ring.NaturalCoefficients.html#1660" class="Bound">m</a> <a id="1662" href="Algebra.Solver.Ring.NaturalCoefficients.html#1662" class="Bound">n</a> <a id="1664" class="Symbol">→</a> <a id="1666" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="1672" class="Symbol">(</a><a id="1673" href="Algebra.Solver.Ring.NaturalCoefficients.html#1660" class="Bound">m</a> <a id="1675" href="Algebra.Operations.CommutativeMonoid.html#1518" class="Function Operator">×′</a> <a id="1678" href="Algebra.Bundles.html#14791" class="Field">1#</a> <a id="1681" href="Algebra.Bundles.html#14633" class="Field Operator">≈</a> <a id="1683" href="Algebra.Solver.Ring.NaturalCoefficients.html#1662" class="Bound">n</a> <a id="1685" href="Algebra.Operations.CommutativeMonoid.html#1518" class="Function Operator">×′</a> <a id="1688" href="Algebra.Bundles.html#14791" class="Field">1#</a><a id="1690" class="Symbol">)</a>
  <a id="1694" href="Algebra.Solver.Ring.NaturalCoefficients.html#1651" class="Function">dec′</a> <a id="1699" href="Algebra.Solver.Ring.NaturalCoefficients.html#1699" class="Bound">m</a> <a id="1701" href="Algebra.Solver.Ring.NaturalCoefficients.html#1701" class="Bound">n</a> <a id="1703" class="Symbol">=</a> <a id="1705" href="Data.Maybe.Base.html#2039" class="Function">map</a> <a id="1709" href="Algebra.Solver.Ring.NaturalCoefficients.html#1736" class="Function">to</a> <a id="1712" class="Symbol">(</a><a id="1713" href="Algebra.Solver.Ring.NaturalCoefficients.html#590" class="Bound">dec</a> <a id="1717" href="Algebra.Solver.Ring.NaturalCoefficients.html#1699" class="Bound">m</a> <a id="1719" href="Algebra.Solver.Ring.NaturalCoefficients.html#1701" class="Bound">n</a><a id="1720" class="Symbol">)</a>
    <a id="1726" class="Keyword">where</a>
    <a id="1736" href="Algebra.Solver.Ring.NaturalCoefficients.html#1736" class="Function">to</a> <a id="1739" class="Symbol">:</a> <a id="1741" href="Algebra.Solver.Ring.NaturalCoefficients.html#1699" class="Bound">m</a> <a id="1743" href="Algebra.Operations.CommutativeMonoid.html#1343" class="Function Operator">×</a> <a id="1745" href="Algebra.Bundles.html#14791" class="Field">1#</a> <a id="1748" href="Algebra.Bundles.html#14633" class="Field Operator">≈</a> <a id="1750" href="Algebra.Solver.Ring.NaturalCoefficients.html#1701" class="Bound">n</a> <a id="1752" href="Algebra.Operations.CommutativeMonoid.html#1343" class="Function Operator">×</a> <a id="1754" href="Algebra.Bundles.html#14791" class="Field">1#</a> <a id="1757" class="Symbol">→</a> <a id="1759" href="Algebra.Solver.Ring.NaturalCoefficients.html#1699" class="Bound">m</a> <a id="1761" href="Algebra.Operations.CommutativeMonoid.html#1518" class="Function Operator">×′</a> <a id="1764" href="Algebra.Bundles.html#14791" class="Field">1#</a> <a id="1767" href="Algebra.Bundles.html#14633" class="Field Operator">≈</a> <a id="1769" href="Algebra.Solver.Ring.NaturalCoefficients.html#1701" class="Bound">n</a> <a id="1771" href="Algebra.Operations.CommutativeMonoid.html#1518" class="Function Operator">×′</a> <a id="1774" href="Algebra.Bundles.html#14791" class="Field">1#</a>
    <a id="1781" href="Algebra.Solver.Ring.NaturalCoefficients.html#1736" class="Function">to</a> <a id="1784" href="Algebra.Solver.Ring.NaturalCoefficients.html#1784" class="Bound">m≈n</a> <a id="1788" class="Symbol">=</a> <a id="1790" href="Relation.Binary.Reasoning.Base.Partial.html#1660" class="Function Operator">begin</a>
      <a id="1802" href="Algebra.Solver.Ring.NaturalCoefficients.html#1699" class="Bound">m</a> <a id="1804" href="Algebra.Operations.CommutativeMonoid.html#1518" class="Function Operator">×′</a> <a id="1807" href="Algebra.Bundles.html#14791" class="Field">1#</a>  <a id="1811" href="Relation.Binary.Reasoning.PartialSetoid.html#797" class="Function">≈⟨</a> <a id="1814" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="1818" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="1820" href="Algebra.Operations.CommutativeMonoid.html#2863" class="Function">×≈×′</a> <a id="1825" href="Algebra.Solver.Ring.NaturalCoefficients.html#1699" class="Bound">m</a> <a id="1827" href="Algebra.Bundles.html#14791" class="Field">1#</a> <a id="1830" href="Relation.Binary.Reasoning.PartialSetoid.html#797" class="Function">⟩</a>
      <a id="1838" href="Algebra.Solver.Ring.NaturalCoefficients.html#1699" class="Bound">m</a> <a id="1840" href="Algebra.Operations.CommutativeMonoid.html#1343" class="Function Operator">×</a>  <a id="1843" href="Algebra.Bundles.html#14791" class="Field">1#</a>  <a id="1847" href="Relation.Binary.Reasoning.PartialSetoid.html#797" class="Function">≈⟨</a> <a id="1850" href="Algebra.Solver.Ring.NaturalCoefficients.html#1784" class="Bound">m≈n</a> <a id="1854" href="Relation.Binary.Reasoning.PartialSetoid.html#797" class="Function">⟩</a>
      <a id="1862" href="Algebra.Solver.Ring.NaturalCoefficients.html#1701" class="Bound">n</a> <a id="1864" href="Algebra.Operations.CommutativeMonoid.html#1343" class="Function Operator">×</a>  <a id="1867" href="Algebra.Bundles.html#14791" class="Field">1#</a>  <a id="1871" href="Relation.Binary.Reasoning.PartialSetoid.html#797" class="Function">≈⟨</a> <a id="1874" href="Algebra.Operations.CommutativeMonoid.html#2863" class="Function">×≈×′</a> <a id="1879" href="Algebra.Solver.Ring.NaturalCoefficients.html#1701" class="Bound">n</a> <a id="1881" href="Algebra.Bundles.html#14791" class="Field">1#</a> <a id="1884" href="Relation.Binary.Reasoning.PartialSetoid.html#797" class="Function">⟩</a>
      <a id="1892" href="Algebra.Solver.Ring.NaturalCoefficients.html#1701" class="Bound">n</a> <a id="1894" href="Algebra.Operations.CommutativeMonoid.html#1518" class="Function Operator">×′</a> <a id="1897" href="Algebra.Bundles.html#14791" class="Field">1#</a>  <a id="1901" href="Relation.Binary.Reasoning.Base.Single.html#767" class="Function Operator">∎</a>

<a id="1904" class="Comment">-- The instantiation.</a>

<a id="1927" class="Keyword">open</a> <a id="1932" href="Algebra.Solver.Ring.html" class="Module">Algebra.Solver.Ring</a> <a id="1952" class="Symbol">_</a> <a id="1954" class="Symbol">_</a> <a id="1956" href="Algebra.Solver.Ring.NaturalCoefficients.html#1339" class="Function">homomorphism</a> <a id="1969" href="Algebra.Solver.Ring.NaturalCoefficients.html#1651" class="Function">dec′</a> <a id="1974" class="Keyword">public</a>
</pre></body></html>