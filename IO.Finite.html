<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>IO.Finite</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- IO only involving finite objects</a>
<a id="142" class="Comment">------------------------------------------------------------------------</a>

<a id="216" class="Symbol">{-#</a> <a id="220" class="Keyword">OPTIONS</a> <a id="228" class="Pragma">--without-K</a> <a id="240" class="Pragma">--guardedness</a> <a id="254" class="Symbol">#-}</a>

<a id="259" class="Keyword">module</a> <a id="266" href="IO.Finite.html" class="Module">IO.Finite</a> <a id="276" class="Keyword">where</a>

<a id="283" class="Keyword">open</a> <a id="288" class="Keyword">import</a> <a id="295" href="Data.Unit.Polymorphic.Base.html" class="Module">Data.Unit.Polymorphic.Base</a>
<a id="322" class="Keyword">open</a> <a id="327" class="Keyword">import</a> <a id="334" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a>
<a id="354" class="Keyword">import</a> <a id="361" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a> <a id="376" class="Symbol">as</a> <a id="379" class="Module">Unit0</a>
<a id="385" class="Keyword">open</a> <a id="390" class="Keyword">import</a> <a id="397" href="IO.Base.html" class="Module">IO.Base</a>
<a id="405" class="Keyword">import</a> <a id="412" href="IO.Primitive.html" class="Module">IO.Primitive</a> <a id="425" class="Symbol">as</a> <a id="428" class="Module">Prim</a>
<a id="433" class="Keyword">import</a> <a id="440" href="IO.Primitive.Finite.html" class="Module">IO.Primitive.Finite</a> <a id="460" class="Symbol">as</a> <a id="463" class="Module">Prim</a>
<a id="468" class="Keyword">open</a> <a id="473" class="Keyword">import</a> <a id="480" href="Level.html" class="Module">Level</a>

<a id="487" class="Keyword">private</a>
  <a id="497" class="Keyword">variable</a>
    <a id="510" href="IO.Finite.html#510" class="Generalizable">a</a> <a id="512" class="Symbol">:</a> <a id="514" href="Agda.Primitive.html#597" class="Postulate">Level</a>

<a id="521" class="Comment">------------------------------------------------------------------------</a>
<a id="594" class="Comment">-- Simple lazy IO</a>

<a id="613" class="Comment">-- Note that the functions below produce commands which, when</a>
<a id="675" class="Comment">-- executed, may raise exceptions.</a>

<a id="711" class="Comment">-- Note also that the semantics of these functions depends on the</a>
<a id="777" class="Comment">-- version of the Haskell base library. If the version is 4.2.0.0 (or</a>
<a id="847" class="Comment">-- later?), then the functions use the character encoding specified by</a>
<a id="918" class="Comment">-- the locale. For older versions of the library (going back to at</a>
<a id="985" class="Comment">-- least version 3) the functions use ISO-8859-1.</a>

<a id="getLine"></a><a id="1036" href="IO.Finite.html#1036" class="Function">getLine</a> <a id="1044" class="Symbol">:</a> <a id="1046" href="IO.Base.html#1121" class="Datatype">IO</a> <a id="1049" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
<a id="1056" href="IO.Finite.html#1036" class="Function">getLine</a> <a id="1064" class="Symbol">=</a> <a id="1066" href="IO.Base.html#1158" class="InductiveConstructor">lift</a> <a id="1071" href="IO.Primitive.Finite.html#1078" class="Postulate">Prim.getLine</a>

<a id="1085" class="Comment">-- Reads a finite file. Raises an exception if the file path refers to</a>
<a id="1156" class="Comment">-- a non-physical file (like &quot;/dev/zero&quot;).</a>

<a id="readFile"></a><a id="1200" href="IO.Finite.html#1200" class="Function">readFile</a> <a id="1209" class="Symbol">:</a> <a id="1211" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1218" class="Symbol">→</a> <a id="1220" href="IO.Base.html#1121" class="Datatype">IO</a> <a id="1223" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
<a id="1230" href="IO.Finite.html#1200" class="Function">readFile</a> <a id="1239" href="IO.Finite.html#1239" class="Bound">f</a> <a id="1241" class="Symbol">=</a> <a id="1243" href="IO.Base.html#1158" class="InductiveConstructor">lift</a> <a id="1248" class="Symbol">(</a><a id="1249" href="IO.Primitive.Finite.html#1104" class="Postulate">Prim.readFile</a> <a id="1263" href="IO.Finite.html#1239" class="Bound">f</a><a id="1264" class="Symbol">)</a>

<a id="writeFile"></a><a id="1267" href="IO.Finite.html#1267" class="Function">writeFile</a> <a id="1277" class="Symbol">:</a> <a id="1279" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1286" class="Symbol">→</a> <a id="1288" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1295" class="Symbol">→</a> <a id="1297" href="IO.Base.html#1121" class="Datatype">IO</a> <a id="1300" class="Symbol">{</a><a id="1301" href="IO.Finite.html#510" class="Generalizable">a</a><a id="1302" class="Symbol">}</a> <a id="1304" href="Data.Unit.Polymorphic.Base.html#480" class="Function">⊤</a>
<a id="1306" href="IO.Finite.html#1267" class="Function">writeFile</a> <a id="1316" href="IO.Finite.html#1316" class="Bound">f</a> <a id="1318" href="IO.Finite.html#1318" class="Bound">s</a> <a id="1320" class="Symbol">=</a> <a id="1322" href="IO.Base.html#3138" class="Function">lift′</a> <a id="1328" class="Symbol">(</a><a id="1329" href="IO.Primitive.Finite.html#1139" class="Postulate">Prim.writeFile</a> <a id="1344" href="IO.Finite.html#1316" class="Bound">f</a> <a id="1346" href="IO.Finite.html#1318" class="Bound">s</a><a id="1347" class="Symbol">)</a>

<a id="appendFile"></a><a id="1350" href="IO.Finite.html#1350" class="Function">appendFile</a> <a id="1361" class="Symbol">:</a> <a id="1363" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1370" class="Symbol">→</a> <a id="1372" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1379" class="Symbol">→</a> <a id="1381" href="IO.Base.html#1121" class="Datatype">IO</a> <a id="1384" class="Symbol">{</a><a id="1385" href="IO.Finite.html#510" class="Generalizable">a</a><a id="1386" class="Symbol">}</a> <a id="1388" href="Data.Unit.Polymorphic.Base.html#480" class="Function">⊤</a>
<a id="1390" href="IO.Finite.html#1350" class="Function">appendFile</a> <a id="1401" href="IO.Finite.html#1401" class="Bound">f</a> <a id="1403" href="IO.Finite.html#1403" class="Bound">s</a> <a id="1405" class="Symbol">=</a> <a id="1407" href="IO.Base.html#3138" class="Function">lift′</a> <a id="1413" class="Symbol">(</a><a id="1414" href="IO.Primitive.Finite.html#1181" class="Postulate">Prim.appendFile</a> <a id="1430" href="IO.Finite.html#1401" class="Bound">f</a> <a id="1432" href="IO.Finite.html#1403" class="Bound">s</a><a id="1433" class="Symbol">)</a>

<a id="putStr"></a><a id="1436" href="IO.Finite.html#1436" class="Function">putStr</a> <a id="1443" class="Symbol">:</a> <a id="1445" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1452" class="Symbol">→</a> <a id="1454" href="IO.Base.html#1121" class="Datatype">IO</a> <a id="1457" class="Symbol">{</a><a id="1458" href="IO.Finite.html#510" class="Generalizable">a</a><a id="1459" class="Symbol">}</a> <a id="1461" href="Data.Unit.Polymorphic.Base.html#480" class="Function">⊤</a>
<a id="1463" href="IO.Finite.html#1436" class="Function">putStr</a> <a id="1470" href="IO.Finite.html#1470" class="Bound">s</a> <a id="1472" class="Symbol">=</a> <a id="1474" href="IO.Base.html#3138" class="Function">lift′</a> <a id="1480" class="Symbol">(</a><a id="1481" href="IO.Primitive.Finite.html#1223" class="Postulate">Prim.putStr</a> <a id="1493" href="IO.Finite.html#1470" class="Bound">s</a><a id="1494" class="Symbol">)</a>

<a id="putStrLn"></a><a id="1497" href="IO.Finite.html#1497" class="Function">putStrLn</a> <a id="1506" class="Symbol">:</a> <a id="1508" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1515" class="Symbol">→</a> <a id="1517" href="IO.Base.html#1121" class="Datatype">IO</a> <a id="1520" class="Symbol">{</a><a id="1521" href="IO.Finite.html#510" class="Generalizable">a</a><a id="1522" class="Symbol">}</a> <a id="1524" href="Data.Unit.Polymorphic.Base.html#480" class="Function">⊤</a>
<a id="1526" href="IO.Finite.html#1497" class="Function">putStrLn</a> <a id="1535" href="IO.Finite.html#1535" class="Bound">s</a> <a id="1537" class="Symbol">=</a> <a id="1539" href="IO.Base.html#3138" class="Function">lift′</a> <a id="1545" class="Symbol">(</a><a id="1546" href="IO.Primitive.Finite.html#1256" class="Postulate">Prim.putStrLn</a> <a id="1560" href="IO.Finite.html#1535" class="Bound">s</a><a id="1561" class="Symbol">)</a>
</pre></body></html>