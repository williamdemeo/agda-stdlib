<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>System.Environment.Primitive</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Primitive System.Environment: simple bindings to Haskell functions</a>
<a id="176" class="Comment">--</a>
<a id="179" class="Comment">-- Note that we currently leave out:</a>
<a id="216" class="Comment">-- * filepath-related functions (until we have a good representation of</a>
<a id="288" class="Comment">--   absolute vs. relative &amp; directory vs. file)</a>
<a id="337" class="Comment">-- * functions that may fail with an exception</a>
<a id="384" class="Comment">--   e.g. we provide `lookupEnv` but not `getEnv`</a>
<a id="434" class="Comment">------------------------------------------------------------------------</a>

<a id="508" class="Symbol">{-#</a> <a id="512" class="Keyword">OPTIONS</a> <a id="520" class="Pragma">--without-K</a> <a id="532" class="Symbol">#-}</a>

<a id="537" class="Keyword">module</a> <a id="544" href="System.Environment.Primitive.html" class="Module">System.Environment.Primitive</a> <a id="573" class="Keyword">where</a>

<a id="580" class="Keyword">open</a> <a id="585" class="Keyword">import</a> <a id="592" href="IO.Primitive.html" class="Module">IO.Primitive</a> <a id="605" class="Keyword">using</a> <a id="611" class="Symbol">(</a><a id="612" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a><a id="614" class="Symbol">)</a>
<a id="616" class="Keyword">open</a> <a id="621" class="Keyword">import</a> <a id="628" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="643" class="Keyword">using</a> <a id="649" class="Symbol">(</a><a id="650" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="654" class="Symbol">)</a>
<a id="656" class="Keyword">open</a> <a id="661" class="Keyword">import</a> <a id="668" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="684" class="Keyword">using</a> <a id="690" class="Symbol">(</a><a id="691" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a><a id="696" class="Symbol">)</a>
<a id="698" class="Keyword">open</a> <a id="703" class="Keyword">import</a> <a id="710" href="Data.String.Base.html" class="Module">Data.String.Base</a> <a id="727" class="Keyword">using</a> <a id="733" class="Symbol">(</a><a id="734" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="740" class="Symbol">)</a>
<a id="742" class="Keyword">open</a> <a id="747" class="Keyword">import</a> <a id="754" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="764" class="Keyword">using</a> <a id="770" class="Symbol">(</a><a id="771" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="772" class="Symbol">)</a>

<a id="775" class="Keyword">open</a> <a id="780" class="Keyword">import</a> <a id="787" href="Foreign.Haskell.Pair.html" class="Module">Foreign.Haskell.Pair</a> <a id="808" class="Keyword">using</a> <a id="814" class="Symbol">(</a><a id="815" href="Foreign.Haskell.Pair.html#520" class="Record">Pair</a><a id="819" class="Symbol">)</a>

<a id="822" class="Symbol">{-#</a> <a id="826" class="Keyword">FOREIGN</a> <a id="834" class="Pragma">GHC</a> <a id="838" class="Pragma">import</a> <a id="845" class="Pragma">qualified</a> <a id="855" class="Pragma">System.Environment</a> <a id="874" class="Pragma">as</a> <a id="877" class="Pragma">SE</a> <a id="880" class="Symbol">#-}</a>
<a id="884" class="Symbol">{-#</a> <a id="888" class="Keyword">FOREIGN</a> <a id="896" class="Pragma">GHC</a> <a id="900" class="Pragma">import</a> <a id="907" class="Pragma">qualified</a> <a id="917" class="Pragma">Data.Text</a>          <a id="936" class="Pragma">as</a> <a id="939" class="Pragma">T</a>  <a id="942" class="Symbol">#-}</a>
<a id="946" class="Symbol">{-#</a> <a id="950" class="Keyword">FOREIGN</a> <a id="958" class="Pragma">GHC</a> <a id="962" class="Pragma">import</a> <a id="969" class="Pragma">Data.Bifunctor</a> <a id="984" class="Pragma">(bimap)</a>             <a id="1004" class="Symbol">#-}</a>
<a id="1008" class="Symbol">{-#</a> <a id="1012" class="Keyword">FOREIGN</a> <a id="1020" class="Pragma">GHC</a> <a id="1024" class="Pragma">import</a> <a id="1031" class="Pragma">Data.Function</a> <a id="1045" class="Pragma">(on)</a>                 <a id="1066" class="Symbol">#-}</a>

<a id="1071" class="Keyword">postulate</a>
  <a id="getArgs"></a><a id="1083" href="System.Environment.Primitive.html#1083" class="Postulate">getArgs</a>        <a id="1098" class="Symbol">:</a> <a id="1100" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1103" class="Symbol">(</a><a id="1104" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1109" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="1115" class="Symbol">)</a>
  <a id="getProgName"></a><a id="1119" href="System.Environment.Primitive.html#1119" class="Postulate">getProgName</a>    <a id="1134" class="Symbol">:</a> <a id="1136" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1139" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
  <a id="lookupEnv"></a><a id="1148" href="System.Environment.Primitive.html#1148" class="Postulate">lookupEnv</a>      <a id="1163" class="Symbol">:</a> <a id="1165" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1172" class="Symbol">→</a> <a id="1174" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1177" class="Symbol">(</a><a id="1178" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1184" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="1190" class="Symbol">)</a>
  <a id="setEnv"></a><a id="1194" href="System.Environment.Primitive.html#1194" class="Postulate">setEnv</a>         <a id="1209" class="Symbol">:</a> <a id="1211" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1218" class="Symbol">→</a> <a id="1220" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1227" class="Symbol">→</a> <a id="1229" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1232" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="unsetEnv"></a><a id="1236" href="System.Environment.Primitive.html#1236" class="Postulate">unsetEnv</a>       <a id="1251" class="Symbol">:</a> <a id="1253" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1260" class="Symbol">→</a> <a id="1262" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1265" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="withArgs"></a><a id="1269" href="System.Environment.Primitive.html#1269" class="Postulate">withArgs</a>       <a id="1284" class="Symbol">:</a> <a id="1286" class="Symbol">∀</a> <a id="1288" class="Symbol">{</a><a id="1289" href="System.Environment.Primitive.html#1289" class="Bound">a</a><a id="1290" class="Symbol">}</a> <a id="1292" class="Symbol">{</a><a id="1293" href="System.Environment.Primitive.html#1293" class="Bound">A</a> <a id="1295" class="Symbol">:</a> <a id="1297" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1301" href="System.Environment.Primitive.html#1289" class="Bound">a</a><a id="1302" class="Symbol">}</a> <a id="1304" class="Symbol">→</a> <a id="1306" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1311" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1318" class="Symbol">→</a> <a id="1320" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1323" href="System.Environment.Primitive.html#1293" class="Bound">A</a> <a id="1325" class="Symbol">→</a> <a id="1327" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1330" href="System.Environment.Primitive.html#1293" class="Bound">A</a>
  <a id="withProgName"></a><a id="1334" href="System.Environment.Primitive.html#1334" class="Postulate">withProgName</a>   <a id="1349" class="Symbol">:</a> <a id="1351" class="Symbol">∀</a> <a id="1353" class="Symbol">{</a><a id="1354" href="System.Environment.Primitive.html#1354" class="Bound">a</a><a id="1355" class="Symbol">}</a> <a id="1357" class="Symbol">{</a><a id="1358" href="System.Environment.Primitive.html#1358" class="Bound">A</a> <a id="1360" class="Symbol">:</a> <a id="1362" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1366" href="System.Environment.Primitive.html#1354" class="Bound">a</a><a id="1367" class="Symbol">}</a> <a id="1369" class="Symbol">→</a> <a id="1371" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1378" class="Symbol">→</a> <a id="1380" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1383" href="System.Environment.Primitive.html#1358" class="Bound">A</a> <a id="1385" class="Symbol">→</a> <a id="1387" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1390" href="System.Environment.Primitive.html#1358" class="Bound">A</a>
  <a id="getEnvironment"></a><a id="1394" href="System.Environment.Primitive.html#1394" class="Postulate">getEnvironment</a> <a id="1409" class="Symbol">:</a> <a id="1411" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1414" class="Symbol">(</a><a id="1415" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1420" class="Symbol">(</a><a id="1421" href="Foreign.Haskell.Pair.html#520" class="Record">Pair</a> <a id="1426" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1433" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="1439" class="Symbol">))</a>

<a id="1443" class="Symbol">{-#</a> <a id="1447" class="Keyword">COMPILE</a> <a id="1455" class="Keyword">GHC</a> <a id="1459" href="System.Environment.Primitive.html#1083" class="Postulate">getArgs</a>        <a id="1474" class="Pragma">=</a> <a id="1476" class="Pragma">fmap</a> <a id="1481" class="Pragma">(fmap</a> <a id="1487" class="Pragma">T.pack)</a> <a id="1495" class="Pragma">SE.getArgs</a> <a id="1506" class="Symbol">#-}</a>
<a id="1510" class="Symbol">{-#</a> <a id="1514" class="Keyword">COMPILE</a> <a id="1522" class="Keyword">GHC</a> <a id="1526" href="System.Environment.Primitive.html#1119" class="Postulate">getProgName</a>    <a id="1541" class="Pragma">=</a> <a id="1543" class="Pragma">fmap</a> <a id="1548" class="Pragma">T.pack</a> <a id="1555" class="Pragma">SE.getProgName</a> <a id="1570" class="Symbol">#-}</a>
<a id="1574" class="Symbol">{-#</a> <a id="1578" class="Keyword">COMPILE</a> <a id="1586" class="Keyword">GHC</a> <a id="1590" href="System.Environment.Primitive.html#1148" class="Postulate">lookupEnv</a>      <a id="1605" class="Pragma">=</a> <a id="1607" class="Pragma">fmap</a> <a id="1612" class="Pragma">(fmap</a> <a id="1618" class="Pragma">T.pack)</a> <a id="1626" class="Pragma">.</a> <a id="1628" class="Pragma">SE.lookupEnv</a> <a id="1641" class="Pragma">.</a> <a id="1643" class="Pragma">T.unpack</a> <a id="1652" class="Symbol">#-}</a>
<a id="1656" class="Symbol">{-#</a> <a id="1660" class="Keyword">COMPILE</a> <a id="1668" class="Keyword">GHC</a> <a id="1672" href="System.Environment.Primitive.html#1194" class="Postulate">setEnv</a>         <a id="1687" class="Pragma">=</a> <a id="1689" class="Pragma">SE.setEnv</a> <a id="1699" class="Pragma">`on`</a> <a id="1704" class="Pragma">T.unpack</a> <a id="1713" class="Symbol">#-}</a>
<a id="1717" class="Symbol">{-#</a> <a id="1721" class="Keyword">COMPILE</a> <a id="1729" class="Keyword">GHC</a> <a id="1733" href="System.Environment.Primitive.html#1236" class="Postulate">unsetEnv</a>       <a id="1748" class="Pragma">=</a> <a id="1750" class="Pragma">SE.unsetEnv</a> <a id="1762" class="Pragma">.</a> <a id="1764" class="Pragma">T.unpack</a> <a id="1773" class="Symbol">#-}</a>
<a id="1777" class="Symbol">{-#</a> <a id="1781" class="Keyword">COMPILE</a> <a id="1789" class="Keyword">GHC</a> <a id="1793" href="System.Environment.Primitive.html#1269" class="Postulate">withArgs</a>       <a id="1808" class="Pragma">=</a> <a id="1810" class="Pragma">\</a> <a id="1812" class="Pragma">_</a> <a id="1814" class="Pragma">_</a> <a id="1816" class="Pragma">-&gt;</a> <a id="1819" class="Pragma">SE.withArgs</a> <a id="1831" class="Pragma">.</a> <a id="1833" class="Pragma">fmap</a> <a id="1838" class="Pragma">T.unpack</a> <a id="1847" class="Symbol">#-}</a>
<a id="1851" class="Symbol">{-#</a> <a id="1855" class="Keyword">COMPILE</a> <a id="1863" class="Keyword">GHC</a> <a id="1867" href="System.Environment.Primitive.html#1334" class="Postulate">withProgName</a>   <a id="1882" class="Pragma">=</a> <a id="1884" class="Pragma">\</a> <a id="1886" class="Pragma">_</a> <a id="1888" class="Pragma">_</a> <a id="1890" class="Pragma">-&gt;</a> <a id="1893" class="Pragma">SE.withProgName</a> <a id="1909" class="Pragma">.</a> <a id="1911" class="Pragma">T.unpack</a> <a id="1920" class="Symbol">#-}</a>
<a id="1924" class="Symbol">{-#</a> <a id="1928" class="Keyword">COMPILE</a> <a id="1936" class="Keyword">GHC</a> <a id="1940" href="System.Environment.Primitive.html#1394" class="Postulate">getEnvironment</a> <a id="1955" class="Pragma">=</a> <a id="1957" class="Pragma">fmap</a> <a id="1962" class="Pragma">(fmap</a> <a id="1968" class="Pragma">(bimap</a> <a id="1975" class="Pragma">T.pack</a> <a id="1982" class="Pragma">T.pack))</a> <a id="1991" class="Pragma">SE.getEnvironment</a> <a id="2009" class="Symbol">#-}</a>
</pre></body></html>