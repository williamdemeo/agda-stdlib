<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Rational.Unnormalised.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Rational numbers in non-reduced form.</a>
<a id="147" class="Comment">------------------------------------------------------------------------</a>

<a id="221" class="Symbol">{-#</a> <a id="225" class="Keyword">OPTIONS</a> <a id="233" class="Pragma">--without-K</a> <a id="245" class="Pragma">--safe</a> <a id="252" class="Symbol">#-}</a>

<a id="257" class="Keyword">module</a> <a id="264" href="Data.Rational.Unnormalised.Base.html" class="Module">Data.Rational.Unnormalised.Base</a> <a id="296" class="Keyword">where</a>

<a id="303" class="Keyword">open</a> <a id="308" class="Keyword">import</a> <a id="315" href="Algebra.Bundles.Raw.html" class="Module">Algebra.Bundles.Raw</a>
<a id="335" class="Keyword">open</a> <a id="340" class="Keyword">import</a> <a id="347" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="362" class="Keyword">using</a> <a id="368" class="Symbol">(</a><a id="369" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="373" class="Symbol">;</a> <a id="375" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="379" class="Symbol">;</a> <a id="381" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="386" class="Symbol">;</a> <a id="388" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a><a id="401" class="Symbol">)</a>
<a id="403" class="Keyword">open</a> <a id="408" class="Keyword">import</a> <a id="415" href="Data.Integer.Base.html" class="Module">Data.Integer.Base</a> <a id="433" class="Symbol">as</a> <a id="436" class="Module">ℤ</a>
  <a id="440" class="Keyword">using</a> <a id="446" class="Symbol">(</a><a id="447" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a><a id="448" class="Symbol">;</a> <a id="450" href="Agda.Builtin.Int.html#264" class="InductiveConstructor">+_</a><a id="452" class="Symbol">;</a> <a id="454" href="Data.Integer.Base.html#1384" class="InductiveConstructor">+0</a><a id="456" class="Symbol">;</a> <a id="458" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">+[1+_]</a><a id="464" class="Symbol">;</a> <a id="466" href="Agda.Builtin.Int.html#291" class="InductiveConstructor">-[1+_]</a><a id="472" class="Symbol">;</a> <a id="474" href="Data.Integer.Base.html#2244" class="InductiveConstructor">+&lt;+</a><a id="477" class="Symbol">;</a> <a id="479" href="Data.Integer.Base.html#2079" class="InductiveConstructor">+≤+</a><a id="482" class="Symbol">)</a>
<a id="484" class="Keyword">open</a> <a id="489" class="Keyword">import</a> <a id="496" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="510" class="Symbol">as</a> <a id="513" class="Module">ℕ</a> <a id="515" class="Keyword">using</a> <a id="521" class="Symbol">(</a><a id="522" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="523" class="Symbol">;</a> <a id="525" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="529" class="Symbol">;</a> <a id="531" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="534" class="Symbol">)</a>
<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Level.html" class="Module">Level</a> <a id="554" class="Keyword">using</a> <a id="560" class="Symbol">(</a><a id="561" href="Level.html#512" class="Function">0ℓ</a><a id="563" class="Symbol">)</a>
<a id="565" class="Keyword">open</a> <a id="570" class="Keyword">import</a> <a id="577" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="603" class="Keyword">using</a> <a id="609" class="Symbol">(</a><a id="610" href="Relation.Nullary.Negation.Core.html#815" class="Function Operator">¬_</a><a id="612" class="Symbol">)</a>
<a id="614" class="Keyword">open</a> <a id="619" class="Keyword">import</a> <a id="626" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="652" class="Keyword">using</a> <a id="658" class="Symbol">(</a><a id="659" href="Relation.Nullary.Negation.Core.html#1267" class="Function">contradiction</a><a id="672" class="Symbol">)</a>
<a id="674" class="Keyword">open</a> <a id="679" class="Keyword">import</a> <a id="686" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="701" class="Keyword">using</a> <a id="707" class="Symbol">(</a><a id="708" href="Relation.Unary.html#1111" class="Function">Pred</a><a id="712" class="Symbol">)</a>
<a id="714" class="Keyword">open</a> <a id="719" class="Keyword">import</a> <a id="726" href="Relation.Binary.Core.html" class="Module">Relation.Binary.Core</a> <a id="747" class="Keyword">using</a> <a id="753" class="Symbol">(</a><a id="754" href="Relation.Binary.Core.html#882" class="Function">Rel</a><a id="757" class="Symbol">)</a>
<a id="759" class="Keyword">open</a> <a id="764" class="Keyword">import</a> <a id="771" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a>
  <a id="816" class="Keyword">using</a> <a id="822" class="Symbol">(</a><a id="823" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="826" class="Symbol">;</a> <a id="828" href="Relation.Binary.PropositionalEquality.Core.html#844" class="Function Operator">_≢_</a><a id="831" class="Symbol">;</a> <a id="833" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="837" class="Symbol">)</a>

<a id="840" class="Comment">------------------------------------------------------------------------</a>
<a id="913" class="Comment">-- Definition</a>

<a id="928" class="Comment">-- Here we define rationals that are not necessarily in reduced form.</a>
<a id="998" class="Comment">-- Consequently there are multiple ways of representing a given rational</a>
<a id="1071" class="Comment">-- number, and the performance of the arithmetic operations may suffer</a>
<a id="1142" class="Comment">-- due to blowup of the numerator and denominator.</a>

<a id="1194" class="Comment">-- Nonetheless they are much easier to reason about. In general proofs</a>
<a id="1265" class="Comment">-- are first proved for these unnormalised rationals and then translated</a>
<a id="1338" class="Comment">-- into the normalised rationals.</a>

<a id="1373" class="Keyword">record</a> <a id="ℚᵘ"></a><a id="1380" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="1383" class="Symbol">:</a> <a id="1385" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1389" class="Keyword">where</a>
  <a id="1397" class="Comment">-- We add &quot;no-eta-equality; pattern&quot; to the record to stop Agda</a>
  <a id="1463" class="Comment">-- automatically unfolding rationals when arithmetic operations are</a>
  <a id="1533" class="Comment">-- applied to them (see definition of operators below and Issue #1753</a>
  <a id="1605" class="Comment">-- for details).</a>
  <a id="1624" class="Keyword">no-eta-equality</a><a id="1639" class="Symbol">;</a> <a id="1641" class="Keyword">pattern</a>

  <a id="1652" class="Keyword">constructor</a> <a id="mkℚᵘ"></a><a id="1664" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a>
  <a id="1671" class="Keyword">field</a>
    <a id="ℚᵘ.numerator"></a><a id="1681" href="Data.Rational.Unnormalised.Base.html#1681" class="Field">numerator</a>     <a id="1695" class="Symbol">:</a> <a id="1697" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
    <a id="ℚᵘ.denominator-1"></a><a id="1703" href="Data.Rational.Unnormalised.Base.html#1703" class="Field">denominator-1</a> <a id="1717" class="Symbol">:</a> <a id="1719" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>

  <a id="ℚᵘ.denominatorℕ"></a><a id="1724" href="Data.Rational.Unnormalised.Base.html#1724" class="Function">denominatorℕ</a> <a id="1737" class="Symbol">:</a> <a id="1739" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="1743" href="Data.Rational.Unnormalised.Base.html#1724" class="Function">denominatorℕ</a> <a id="1756" class="Symbol">=</a> <a id="1758" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1762" href="Data.Rational.Unnormalised.Base.html#1703" class="Field">denominator-1</a>

  <a id="ℚᵘ.denominator"></a><a id="1779" href="Data.Rational.Unnormalised.Base.html#1779" class="Function">denominator</a> <a id="1791" class="Symbol">:</a> <a id="1793" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
  <a id="1797" href="Data.Rational.Unnormalised.Base.html#1779" class="Function">denominator</a> <a id="1809" class="Symbol">=</a> <a id="1811" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="1813" href="Data.Rational.Unnormalised.Base.html#1724" class="Function">denominatorℕ</a>

<a id="1827" class="Keyword">open</a> <a id="1832" href="Data.Rational.Unnormalised.Base.html#1380" class="Module">ℚᵘ</a> <a id="1835" class="Keyword">public</a> <a id="1842" class="Keyword">using</a> <a id="1848" class="Symbol">()</a>
  <a id="1853" class="Keyword">renaming</a>
  <a id="1864" class="Symbol">(</a> <a id="1866" href="Data.Rational.Unnormalised.Base.html#1681" class="Field">numerator</a>    <a id="1879" class="Symbol">to</a> <a id="1882" class="Field">↥_</a>
  <a id="1887" class="Symbol">;</a> <a id="1889" href="Data.Rational.Unnormalised.Base.html#1779" class="Function">denominator</a>  <a id="1902" class="Symbol">to</a> <a id="1905" class="Function">↧_</a>
  <a id="1910" class="Symbol">;</a> <a id="1912" href="Data.Rational.Unnormalised.Base.html#1724" class="Function">denominatorℕ</a> <a id="1925" class="Symbol">to</a> <a id="1928" class="Function">↧ₙ_</a>
  <a id="1934" class="Symbol">)</a>

<a id="1937" class="Comment">------------------------------------------------------------------------</a>
<a id="2010" class="Comment">-- Equality of rational numbers (does not coincide with _≡_)</a>

<a id="2072" class="Keyword">infix</a> <a id="2078" class="Number">4</a> <a id="2080" href="Data.Rational.Unnormalised.Base.html#2094" class="Datatype Operator">_≃_</a> <a id="2084" href="Data.Rational.Unnormalised.Base.html#2173" class="Function Operator">_≠_</a>

<a id="2089" class="Keyword">data</a> <a id="_≃_"></a><a id="2094" href="Data.Rational.Unnormalised.Base.html#2094" class="Datatype Operator">_≃_</a> <a id="2098" class="Symbol">:</a> <a id="2100" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2104" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="2107" href="Level.html#512" class="Function">0ℓ</a> <a id="2110" class="Keyword">where</a>
  <a id="_≃_.*≡*"></a><a id="2118" href="Data.Rational.Unnormalised.Base.html#2118" class="InductiveConstructor">*≡*</a> <a id="2122" class="Symbol">:</a> <a id="2124" class="Symbol">∀</a> <a id="2126" class="Symbol">{</a><a id="2127" href="Data.Rational.Unnormalised.Base.html#2127" class="Bound">p</a> <a id="2129" href="Data.Rational.Unnormalised.Base.html#2129" class="Bound">q</a><a id="2130" class="Symbol">}</a> <a id="2132" class="Symbol">→</a> <a id="2134" class="Symbol">(</a><a id="2135" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="2137" href="Data.Rational.Unnormalised.Base.html#2127" class="Bound">p</a> <a id="2139" href="Data.Integer.Base.html#5331" class="Function Operator">ℤ.*</a> <a id="2143" href="Data.Rational.Unnormalised.Base.html#1905" class="Function Operator">↧</a> <a id="2145" href="Data.Rational.Unnormalised.Base.html#2129" class="Bound">q</a><a id="2146" class="Symbol">)</a> <a id="2148" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2150" class="Symbol">(</a><a id="2151" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="2153" href="Data.Rational.Unnormalised.Base.html#2129" class="Bound">q</a> <a id="2155" href="Data.Integer.Base.html#5331" class="Function Operator">ℤ.*</a> <a id="2159" href="Data.Rational.Unnormalised.Base.html#1905" class="Function Operator">↧</a> <a id="2161" href="Data.Rational.Unnormalised.Base.html#2127" class="Bound">p</a><a id="2162" class="Symbol">)</a> <a id="2164" class="Symbol">→</a> <a id="2166" href="Data.Rational.Unnormalised.Base.html#2127" class="Bound">p</a> <a id="2168" href="Data.Rational.Unnormalised.Base.html#2094" class="Datatype Operator">≃</a> <a id="2170" href="Data.Rational.Unnormalised.Base.html#2129" class="Bound">q</a>

<a id="_≠_"></a><a id="2173" href="Data.Rational.Unnormalised.Base.html#2173" class="Function Operator">_≠_</a> <a id="2177" class="Symbol">:</a> <a id="2179" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2183" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="2186" href="Level.html#512" class="Function">0ℓ</a>
<a id="2189" href="Data.Rational.Unnormalised.Base.html#2189" class="Bound">p</a> <a id="2191" href="Data.Rational.Unnormalised.Base.html#2173" class="Function Operator">≠</a> <a id="2193" href="Data.Rational.Unnormalised.Base.html#2193" class="Bound">q</a> <a id="2195" class="Symbol">=</a> <a id="2197" href="Relation.Nullary.Negation.Core.html#815" class="Function Operator">¬</a> <a id="2199" class="Symbol">(</a><a id="2200" href="Data.Rational.Unnormalised.Base.html#2189" class="Bound">p</a> <a id="2202" href="Data.Rational.Unnormalised.Base.html#2094" class="Datatype Operator">≃</a> <a id="2204" href="Data.Rational.Unnormalised.Base.html#2193" class="Bound">q</a><a id="2205" class="Symbol">)</a>

<a id="2208" class="Comment">------------------------------------------------------------------------</a>
<a id="2281" class="Comment">-- Ordering of rationals</a>

<a id="2307" class="Keyword">infix</a> <a id="2313" class="Number">4</a> <a id="2315" href="Data.Rational.Unnormalised.Base.html#2353" class="Datatype Operator">_≤_</a> <a id="2319" href="Data.Rational.Unnormalised.Base.html#2439" class="Datatype Operator">_&lt;_</a> <a id="2323" href="Data.Rational.Unnormalised.Base.html#2520" class="Function Operator">_≥_</a> <a id="2327" href="Data.Rational.Unnormalised.Base.html#2551" class="Function Operator">_&gt;_</a> <a id="2331" href="Data.Rational.Unnormalised.Base.html#2582" class="Function Operator">_≰_</a> <a id="2335" href="Data.Rational.Unnormalised.Base.html#2617" class="Function Operator">_≱_</a> <a id="2339" href="Data.Rational.Unnormalised.Base.html#2652" class="Function Operator">_≮_</a> <a id="2343" href="Data.Rational.Unnormalised.Base.html#2687" class="Function Operator">_≯_</a>

<a id="2348" class="Keyword">data</a> <a id="_≤_"></a><a id="2353" href="Data.Rational.Unnormalised.Base.html#2353" class="Datatype Operator">_≤_</a> <a id="2357" class="Symbol">:</a> <a id="2359" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2363" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="2366" href="Level.html#512" class="Function">0ℓ</a> <a id="2369" class="Keyword">where</a>
  <a id="_≤_.*≤*"></a><a id="2377" href="Data.Rational.Unnormalised.Base.html#2377" class="InductiveConstructor">*≤*</a> <a id="2381" class="Symbol">:</a> <a id="2383" class="Symbol">∀</a> <a id="2385" class="Symbol">{</a><a id="2386" href="Data.Rational.Unnormalised.Base.html#2386" class="Bound">p</a> <a id="2388" href="Data.Rational.Unnormalised.Base.html#2388" class="Bound">q</a><a id="2389" class="Symbol">}</a> <a id="2391" class="Symbol">→</a> <a id="2393" class="Symbol">(</a><a id="2394" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="2396" href="Data.Rational.Unnormalised.Base.html#2386" class="Bound">p</a> <a id="2398" href="Data.Integer.Base.html#5331" class="Function Operator">ℤ.*</a> <a id="2402" href="Data.Rational.Unnormalised.Base.html#1905" class="Function Operator">↧</a> <a id="2404" href="Data.Rational.Unnormalised.Base.html#2388" class="Bound">q</a><a id="2405" class="Symbol">)</a> <a id="2407" href="Data.Integer.Base.html#1964" class="Datatype Operator">ℤ.≤</a> <a id="2411" class="Symbol">(</a><a id="2412" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="2414" href="Data.Rational.Unnormalised.Base.html#2388" class="Bound">q</a> <a id="2416" href="Data.Integer.Base.html#5331" class="Function Operator">ℤ.*</a> <a id="2420" href="Data.Rational.Unnormalised.Base.html#1905" class="Function Operator">↧</a> <a id="2422" href="Data.Rational.Unnormalised.Base.html#2386" class="Bound">p</a><a id="2423" class="Symbol">)</a> <a id="2425" class="Symbol">→</a> <a id="2427" href="Data.Rational.Unnormalised.Base.html#2386" class="Bound">p</a> <a id="2429" href="Data.Rational.Unnormalised.Base.html#2353" class="Datatype Operator">≤</a> <a id="2431" href="Data.Rational.Unnormalised.Base.html#2388" class="Bound">q</a>

<a id="2434" class="Keyword">data</a> <a id="_&lt;_"></a><a id="2439" href="Data.Rational.Unnormalised.Base.html#2439" class="Datatype Operator">_&lt;_</a> <a id="2443" class="Symbol">:</a> <a id="2445" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2449" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="2452" href="Level.html#512" class="Function">0ℓ</a> <a id="2455" class="Keyword">where</a>
  <a id="_&lt;_.*&lt;*"></a><a id="2463" href="Data.Rational.Unnormalised.Base.html#2463" class="InductiveConstructor">*&lt;*</a> <a id="2467" class="Symbol">:</a> <a id="2469" class="Symbol">∀</a> <a id="2471" class="Symbol">{</a><a id="2472" href="Data.Rational.Unnormalised.Base.html#2472" class="Bound">p</a> <a id="2474" href="Data.Rational.Unnormalised.Base.html#2474" class="Bound">q</a><a id="2475" class="Symbol">}</a> <a id="2477" class="Symbol">→</a> <a id="2479" class="Symbol">(</a><a id="2480" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="2482" href="Data.Rational.Unnormalised.Base.html#2472" class="Bound">p</a> <a id="2484" href="Data.Integer.Base.html#5331" class="Function Operator">ℤ.*</a> <a id="2488" href="Data.Rational.Unnormalised.Base.html#1905" class="Function Operator">↧</a> <a id="2490" href="Data.Rational.Unnormalised.Base.html#2474" class="Bound">q</a><a id="2491" class="Symbol">)</a> <a id="2493" href="Data.Integer.Base.html#2129" class="Datatype Operator">ℤ.&lt;</a> <a id="2497" class="Symbol">(</a><a id="2498" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="2500" href="Data.Rational.Unnormalised.Base.html#2474" class="Bound">q</a> <a id="2502" href="Data.Integer.Base.html#5331" class="Function Operator">ℤ.*</a> <a id="2506" href="Data.Rational.Unnormalised.Base.html#1905" class="Function Operator">↧</a> <a id="2508" href="Data.Rational.Unnormalised.Base.html#2472" class="Bound">p</a><a id="2509" class="Symbol">)</a> <a id="2511" class="Symbol">→</a> <a id="2513" href="Data.Rational.Unnormalised.Base.html#2472" class="Bound">p</a> <a id="2515" href="Data.Rational.Unnormalised.Base.html#2439" class="Datatype Operator">&lt;</a> <a id="2517" href="Data.Rational.Unnormalised.Base.html#2474" class="Bound">q</a>

<a id="_≥_"></a><a id="2520" href="Data.Rational.Unnormalised.Base.html#2520" class="Function Operator">_≥_</a> <a id="2524" class="Symbol">:</a> <a id="2526" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2530" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="2533" href="Level.html#512" class="Function">0ℓ</a>
<a id="2536" href="Data.Rational.Unnormalised.Base.html#2536" class="Bound">x</a> <a id="2538" href="Data.Rational.Unnormalised.Base.html#2520" class="Function Operator">≥</a> <a id="2540" href="Data.Rational.Unnormalised.Base.html#2540" class="Bound">y</a> <a id="2542" class="Symbol">=</a> <a id="2544" href="Data.Rational.Unnormalised.Base.html#2540" class="Bound">y</a> <a id="2546" href="Data.Rational.Unnormalised.Base.html#2353" class="Datatype Operator">≤</a> <a id="2548" href="Data.Rational.Unnormalised.Base.html#2536" class="Bound">x</a>

<a id="_&gt;_"></a><a id="2551" href="Data.Rational.Unnormalised.Base.html#2551" class="Function Operator">_&gt;_</a> <a id="2555" class="Symbol">:</a> <a id="2557" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2561" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="2564" href="Level.html#512" class="Function">0ℓ</a>
<a id="2567" href="Data.Rational.Unnormalised.Base.html#2567" class="Bound">x</a> <a id="2569" href="Data.Rational.Unnormalised.Base.html#2551" class="Function Operator">&gt;</a> <a id="2571" href="Data.Rational.Unnormalised.Base.html#2571" class="Bound">y</a> <a id="2573" class="Symbol">=</a> <a id="2575" href="Data.Rational.Unnormalised.Base.html#2571" class="Bound">y</a> <a id="2577" href="Data.Rational.Unnormalised.Base.html#2439" class="Datatype Operator">&lt;</a> <a id="2579" href="Data.Rational.Unnormalised.Base.html#2567" class="Bound">x</a>

<a id="_≰_"></a><a id="2582" href="Data.Rational.Unnormalised.Base.html#2582" class="Function Operator">_≰_</a> <a id="2586" class="Symbol">:</a> <a id="2588" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2592" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="2595" href="Level.html#512" class="Function">0ℓ</a>
<a id="2598" href="Data.Rational.Unnormalised.Base.html#2598" class="Bound">x</a> <a id="2600" href="Data.Rational.Unnormalised.Base.html#2582" class="Function Operator">≰</a> <a id="2602" href="Data.Rational.Unnormalised.Base.html#2602" class="Bound">y</a> <a id="2604" class="Symbol">=</a> <a id="2606" href="Relation.Nullary.Negation.Core.html#815" class="Function Operator">¬</a> <a id="2608" class="Symbol">(</a><a id="2609" href="Data.Rational.Unnormalised.Base.html#2598" class="Bound">x</a> <a id="2611" href="Data.Rational.Unnormalised.Base.html#2353" class="Datatype Operator">≤</a> <a id="2613" href="Data.Rational.Unnormalised.Base.html#2602" class="Bound">y</a><a id="2614" class="Symbol">)</a>

<a id="_≱_"></a><a id="2617" href="Data.Rational.Unnormalised.Base.html#2617" class="Function Operator">_≱_</a> <a id="2621" class="Symbol">:</a> <a id="2623" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2627" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="2630" href="Level.html#512" class="Function">0ℓ</a>
<a id="2633" href="Data.Rational.Unnormalised.Base.html#2633" class="Bound">x</a> <a id="2635" href="Data.Rational.Unnormalised.Base.html#2617" class="Function Operator">≱</a> <a id="2637" href="Data.Rational.Unnormalised.Base.html#2637" class="Bound">y</a> <a id="2639" class="Symbol">=</a> <a id="2641" href="Relation.Nullary.Negation.Core.html#815" class="Function Operator">¬</a> <a id="2643" class="Symbol">(</a><a id="2644" href="Data.Rational.Unnormalised.Base.html#2633" class="Bound">x</a> <a id="2646" href="Data.Rational.Unnormalised.Base.html#2520" class="Function Operator">≥</a> <a id="2648" href="Data.Rational.Unnormalised.Base.html#2637" class="Bound">y</a><a id="2649" class="Symbol">)</a>

<a id="_≮_"></a><a id="2652" href="Data.Rational.Unnormalised.Base.html#2652" class="Function Operator">_≮_</a> <a id="2656" class="Symbol">:</a> <a id="2658" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2662" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="2665" href="Level.html#512" class="Function">0ℓ</a>
<a id="2668" href="Data.Rational.Unnormalised.Base.html#2668" class="Bound">x</a> <a id="2670" href="Data.Rational.Unnormalised.Base.html#2652" class="Function Operator">≮</a> <a id="2672" href="Data.Rational.Unnormalised.Base.html#2672" class="Bound">y</a> <a id="2674" class="Symbol">=</a> <a id="2676" href="Relation.Nullary.Negation.Core.html#815" class="Function Operator">¬</a> <a id="2678" class="Symbol">(</a><a id="2679" href="Data.Rational.Unnormalised.Base.html#2668" class="Bound">x</a> <a id="2681" href="Data.Rational.Unnormalised.Base.html#2439" class="Datatype Operator">&lt;</a> <a id="2683" href="Data.Rational.Unnormalised.Base.html#2672" class="Bound">y</a><a id="2684" class="Symbol">)</a>

<a id="_≯_"></a><a id="2687" href="Data.Rational.Unnormalised.Base.html#2687" class="Function Operator">_≯_</a> <a id="2691" class="Symbol">:</a> <a id="2693" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2697" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="2700" href="Level.html#512" class="Function">0ℓ</a>
<a id="2703" href="Data.Rational.Unnormalised.Base.html#2703" class="Bound">x</a> <a id="2705" href="Data.Rational.Unnormalised.Base.html#2687" class="Function Operator">≯</a> <a id="2707" href="Data.Rational.Unnormalised.Base.html#2707" class="Bound">y</a> <a id="2709" class="Symbol">=</a> <a id="2711" href="Relation.Nullary.Negation.Core.html#815" class="Function Operator">¬</a> <a id="2713" class="Symbol">(</a><a id="2714" href="Data.Rational.Unnormalised.Base.html#2703" class="Bound">x</a> <a id="2716" href="Data.Rational.Unnormalised.Base.html#2551" class="Function Operator">&gt;</a> <a id="2718" href="Data.Rational.Unnormalised.Base.html#2707" class="Bound">y</a><a id="2719" class="Symbol">)</a>

<a id="2722" class="Comment">------------------------------------------------------------------------</a>
<a id="2795" class="Comment">-- Boolean ordering</a>

<a id="2816" class="Keyword">infix</a> <a id="2822" class="Number">4</a> <a id="2824" href="Data.Rational.Unnormalised.Base.html#2830" class="Function Operator">_≤ᵇ_</a>

<a id="_≤ᵇ_"></a><a id="2830" href="Data.Rational.Unnormalised.Base.html#2830" class="Function Operator">_≤ᵇ_</a> <a id="2835" class="Symbol">:</a> <a id="2837" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="2840" class="Symbol">→</a> <a id="2842" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="2845" class="Symbol">→</a> <a id="2847" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="2852" href="Data.Rational.Unnormalised.Base.html#2852" class="Bound">p</a> <a id="2854" href="Data.Rational.Unnormalised.Base.html#2830" class="Function Operator">≤ᵇ</a> <a id="2857" href="Data.Rational.Unnormalised.Base.html#2857" class="Bound">q</a> <a id="2859" class="Symbol">=</a> <a id="2861" class="Symbol">(</a><a id="2862" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="2864" href="Data.Rational.Unnormalised.Base.html#2852" class="Bound">p</a> <a id="2866" href="Data.Integer.Base.html#5331" class="Function Operator">ℤ.*</a> <a id="2870" href="Data.Rational.Unnormalised.Base.html#1905" class="Function Operator">↧</a> <a id="2872" href="Data.Rational.Unnormalised.Base.html#2857" class="Bound">q</a><a id="2873" class="Symbol">)</a> <a id="2875" href="Data.Integer.Base.html#2601" class="Function Operator">ℤ.≤ᵇ</a> <a id="2880" class="Symbol">(</a><a id="2881" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="2883" href="Data.Rational.Unnormalised.Base.html#2857" class="Bound">q</a> <a id="2885" href="Data.Integer.Base.html#5331" class="Function Operator">ℤ.*</a> <a id="2889" href="Data.Rational.Unnormalised.Base.html#1905" class="Function Operator">↧</a> <a id="2891" href="Data.Rational.Unnormalised.Base.html#2852" class="Bound">p</a><a id="2892" class="Symbol">)</a>

<a id="2895" class="Comment">------------------------------------------------------------------------</a>
<a id="2968" class="Comment">-- Constructing rationals</a>

<a id="2995" class="Comment">-- An alternative constructor for ℚᵘ. See the constants section below</a>
<a id="3065" class="Comment">-- for examples of how to use this operator.</a>

<a id="3111" class="Keyword">infixl</a> <a id="3118" class="Number">7</a> <a id="3120" href="Data.Rational.Unnormalised.Base.html#3125" class="Function Operator">_/_</a>

<a id="_/_"></a><a id="3125" href="Data.Rational.Unnormalised.Base.html#3125" class="Function Operator">_/_</a> <a id="3129" class="Symbol">:</a> <a id="3131" class="Symbol">(</a><a id="3132" href="Data.Rational.Unnormalised.Base.html#3132" class="Bound">n</a> <a id="3134" class="Symbol">:</a> <a id="3136" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a><a id="3137" class="Symbol">)</a> <a id="3139" class="Symbol">(</a><a id="3140" href="Data.Rational.Unnormalised.Base.html#3140" class="Bound">d</a> <a id="3142" class="Symbol">:</a> <a id="3144" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3145" class="Symbol">)</a> <a id="3147" class="Symbol">.{{</a><a id="3150" href="Data.Rational.Unnormalised.Base.html#3150" class="Bound">_</a> <a id="3152" class="Symbol">:</a> <a id="3154" href="Data.Nat.Base.html#2561" class="Record">ℕ.NonZero</a> <a id="3164" href="Data.Rational.Unnormalised.Base.html#3140" class="Bound">d</a><a id="3165" class="Symbol">}}</a> <a id="3168" class="Symbol">→</a> <a id="3170" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="3173" href="Data.Rational.Unnormalised.Base.html#3173" class="Bound">n</a> <a id="3175" href="Data.Rational.Unnormalised.Base.html#3125" class="Function Operator">/</a> <a id="3177" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3181" href="Data.Rational.Unnormalised.Base.html#3181" class="Bound">d</a> <a id="3183" class="Symbol">=</a> <a id="3185" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="3190" href="Data.Rational.Unnormalised.Base.html#3173" class="Bound">n</a> <a id="3192" href="Data.Rational.Unnormalised.Base.html#3181" class="Bound">d</a>

<a id="3195" class="Comment">------------------------------------------------------------------------------</a>
<a id="3274" class="Comment">-- Some constants</a>

<a id="0ℚᵘ"></a><a id="3293" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a> <a id="3297" class="Symbol">:</a> <a id="3299" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="3302" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a> <a id="3306" class="Symbol">=</a> <a id="3308" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3310" class="Number">0</a> <a id="3312" href="Data.Rational.Unnormalised.Base.html#3125" class="Function Operator">/</a> <a id="3314" class="Number">1</a>

<a id="1ℚᵘ"></a><a id="3317" href="Data.Rational.Unnormalised.Base.html#3317" class="Function">1ℚᵘ</a> <a id="3321" class="Symbol">:</a> <a id="3323" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="3326" href="Data.Rational.Unnormalised.Base.html#3317" class="Function">1ℚᵘ</a> <a id="3330" class="Symbol">=</a> <a id="3332" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3334" class="Number">1</a> <a id="3336" href="Data.Rational.Unnormalised.Base.html#3125" class="Function Operator">/</a> <a id="3338" class="Number">1</a>

<a id="½"></a><a id="3341" href="Data.Rational.Unnormalised.Base.html#3341" class="Function">½</a> <a id="3343" class="Symbol">:</a> <a id="3345" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="3348" href="Data.Rational.Unnormalised.Base.html#3341" class="Function">½</a> <a id="3350" class="Symbol">=</a> <a id="3352" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3354" class="Number">1</a> <a id="3356" href="Data.Rational.Unnormalised.Base.html#3125" class="Function Operator">/</a> <a id="3358" class="Number">2</a>

<a id="-½"></a><a id="3361" href="Data.Rational.Unnormalised.Base.html#3361" class="Function">-½</a> <a id="3364" class="Symbol">:</a> <a id="3366" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="3369" href="Data.Rational.Unnormalised.Base.html#3361" class="Function">-½</a> <a id="3372" class="Symbol">=</a> <a id="3374" href="Data.Integer.Base.html#4659" class="Function Operator">ℤ.-</a> <a id="3378" class="Symbol">(</a><a id="3379" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3381" class="Number">1</a><a id="3382" class="Symbol">)</a> <a id="3384" href="Data.Rational.Unnormalised.Base.html#3125" class="Function Operator">/</a> <a id="3386" class="Number">2</a>

<a id="3389" class="Comment">------------------------------------------------------------------------</a>
<a id="3462" class="Comment">-- Simple predicates</a>

<a id="NonZero"></a><a id="3484" href="Data.Rational.Unnormalised.Base.html#3484" class="Function">NonZero</a> <a id="3492" class="Symbol">:</a> <a id="3494" href="Relation.Unary.html#1111" class="Function">Pred</a> <a id="3499" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="3502" href="Level.html#512" class="Function">0ℓ</a>
<a id="3505" href="Data.Rational.Unnormalised.Base.html#3484" class="Function">NonZero</a> <a id="3513" href="Data.Rational.Unnormalised.Base.html#3513" class="Bound">p</a> <a id="3515" class="Symbol">=</a> <a id="3517" href="Data.Integer.Base.html#2903" class="Function">ℤ.NonZero</a> <a id="3527" class="Symbol">(</a><a id="3528" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="3530" href="Data.Rational.Unnormalised.Base.html#3513" class="Bound">p</a><a id="3531" class="Symbol">)</a>

<a id="Positive"></a><a id="3534" href="Data.Rational.Unnormalised.Base.html#3534" class="Function">Positive</a> <a id="3543" class="Symbol">:</a> <a id="3545" href="Relation.Unary.html#1111" class="Function">Pred</a> <a id="3550" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="3553" href="Level.html#512" class="Function">0ℓ</a>
<a id="3556" href="Data.Rational.Unnormalised.Base.html#3534" class="Function">Positive</a> <a id="3565" href="Data.Rational.Unnormalised.Base.html#3565" class="Bound">p</a> <a id="3567" class="Symbol">=</a> <a id="3569" href="Data.Integer.Base.html#2959" class="Record">ℤ.Positive</a> <a id="3580" class="Symbol">(</a><a id="3581" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="3583" href="Data.Rational.Unnormalised.Base.html#3565" class="Bound">p</a><a id="3584" class="Symbol">)</a>

<a id="Negative"></a><a id="3587" href="Data.Rational.Unnormalised.Base.html#3587" class="Function">Negative</a> <a id="3596" class="Symbol">:</a> <a id="3598" href="Relation.Unary.html#1111" class="Function">Pred</a> <a id="3603" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="3606" href="Level.html#512" class="Function">0ℓ</a>
<a id="3609" href="Data.Rational.Unnormalised.Base.html#3587" class="Function">Negative</a> <a id="3618" href="Data.Rational.Unnormalised.Base.html#3618" class="Bound">p</a> <a id="3620" class="Symbol">=</a> <a id="3622" href="Data.Integer.Base.html#3172" class="Record">ℤ.Negative</a> <a id="3633" class="Symbol">(</a><a id="3634" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="3636" href="Data.Rational.Unnormalised.Base.html#3618" class="Bound">p</a><a id="3637" class="Symbol">)</a>

<a id="NonPositive"></a><a id="3640" href="Data.Rational.Unnormalised.Base.html#3640" class="Function">NonPositive</a> <a id="3652" class="Symbol">:</a> <a id="3654" href="Relation.Unary.html#1111" class="Function">Pred</a> <a id="3659" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="3662" href="Level.html#512" class="Function">0ℓ</a>
<a id="3665" href="Data.Rational.Unnormalised.Base.html#3640" class="Function">NonPositive</a> <a id="3677" href="Data.Rational.Unnormalised.Base.html#3677" class="Bound">p</a> <a id="3679" class="Symbol">=</a> <a id="3681" href="Data.Integer.Base.html#3099" class="Record">ℤ.NonPositive</a> <a id="3695" class="Symbol">(</a><a id="3696" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="3698" href="Data.Rational.Unnormalised.Base.html#3677" class="Bound">p</a><a id="3699" class="Symbol">)</a>

<a id="NonNegative"></a><a id="3702" href="Data.Rational.Unnormalised.Base.html#3702" class="Function">NonNegative</a> <a id="3714" class="Symbol">:</a> <a id="3716" href="Relation.Unary.html#1111" class="Function">Pred</a> <a id="3721" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="3724" href="Level.html#512" class="Function">0ℓ</a>
<a id="3727" href="Data.Rational.Unnormalised.Base.html#3702" class="Function">NonNegative</a> <a id="3739" href="Data.Rational.Unnormalised.Base.html#3739" class="Bound">p</a> <a id="3741" class="Symbol">=</a> <a id="3743" href="Data.Integer.Base.html#3026" class="Record">ℤ.NonNegative</a> <a id="3757" class="Symbol">(</a><a id="3758" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="3760" href="Data.Rational.Unnormalised.Base.html#3739" class="Bound">p</a><a id="3761" class="Symbol">)</a>

<a id="3764" class="Comment">-- Constructors and destructors</a>

<a id="3797" class="Comment">-- Note: these could be proved more elegantly using the constructors</a>
<a id="3866" class="Comment">-- from ℤ but it requires importing `Data.Integer.Properties` which</a>
<a id="3934" class="Comment">-- we would like to avoid doing.</a>

<a id="≢-nonZero"></a><a id="3968" href="Data.Rational.Unnormalised.Base.html#3968" class="Function">≢-nonZero</a> <a id="3978" class="Symbol">:</a> <a id="3980" class="Symbol">∀</a> <a id="3982" class="Symbol">{</a><a id="3983" href="Data.Rational.Unnormalised.Base.html#3983" class="Bound">p</a><a id="3984" class="Symbol">}</a> <a id="3986" class="Symbol">→</a> <a id="3988" href="Data.Rational.Unnormalised.Base.html#3983" class="Bound">p</a> <a id="3990" href="Data.Rational.Unnormalised.Base.html#2173" class="Function Operator">≠</a> <a id="3992" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a> <a id="3996" class="Symbol">→</a> <a id="3998" href="Data.Rational.Unnormalised.Base.html#3484" class="Function">NonZero</a> <a id="4006" href="Data.Rational.Unnormalised.Base.html#3983" class="Bound">p</a>
<a id="4008" href="Data.Rational.Unnormalised.Base.html#3968" class="Function">≢-nonZero</a> <a id="4018" class="Symbol">{</a><a id="4019" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4024" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="4029" class="Symbol">_</a> <a id="4031" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="4033" class="Symbol">_</a>      <a id="4040" class="Symbol">}</a> <a id="4042" class="Symbol">_</a>   <a id="4046" class="Symbol">=</a> <a id="4048" class="Symbol">_</a>
<a id="4050" href="Data.Rational.Unnormalised.Base.html#3968" class="Function">≢-nonZero</a> <a id="4060" class="Symbol">{</a><a id="4061" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4066" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">+[1+</a> <a id="4071" class="Symbol">_</a> <a id="4073" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">]</a> <a id="4075" class="Symbol">_</a>      <a id="4082" class="Symbol">}</a> <a id="4084" class="Symbol">_</a>   <a id="4088" class="Symbol">=</a> <a id="4090" class="Symbol">_</a>
<a id="4092" href="Data.Rational.Unnormalised.Base.html#3968" class="Function">≢-nonZero</a> <a id="4102" class="Symbol">{</a><a id="4103" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4108" href="Data.Integer.Base.html#1384" class="InductiveConstructor">+0</a>       <a id="4117" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>   <a id="4124" class="Symbol">}</a> <a id="4126" href="Data.Rational.Unnormalised.Base.html#4126" class="Bound">p≢0</a> <a id="4130" class="Symbol">=</a> <a id="4132" href="Relation.Nullary.Negation.Core.html#1267" class="Function">contradiction</a> <a id="4146" class="Symbol">(</a><a id="4147" href="Data.Rational.Unnormalised.Base.html#2118" class="InductiveConstructor">*≡*</a> <a id="4151" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="4155" class="Symbol">)</a> <a id="4157" href="Data.Rational.Unnormalised.Base.html#4126" class="Bound">p≢0</a>
<a id="4161" href="Data.Rational.Unnormalised.Base.html#3968" class="Function">≢-nonZero</a> <a id="4171" class="Symbol">{</a><a id="4172" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4177" href="Data.Integer.Base.html#1384" class="InductiveConstructor">+0</a>       <a id="4186" class="Symbol">(</a><a id="4187" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="4191" href="Data.Rational.Unnormalised.Base.html#4191" class="Bound">d</a><a id="4192" class="Symbol">)}</a> <a id="4195" href="Data.Rational.Unnormalised.Base.html#4195" class="Bound">p≢0</a> <a id="4199" class="Symbol">=</a> <a id="4201" href="Relation.Nullary.Negation.Core.html#1267" class="Function">contradiction</a> <a id="4215" class="Symbol">(</a><a id="4216" href="Data.Rational.Unnormalised.Base.html#2118" class="InductiveConstructor">*≡*</a> <a id="4220" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="4224" class="Symbol">)</a> <a id="4226" href="Data.Rational.Unnormalised.Base.html#4195" class="Bound">p≢0</a>

<a id="&gt;-nonZero"></a><a id="4231" href="Data.Rational.Unnormalised.Base.html#4231" class="Function">&gt;-nonZero</a> <a id="4241" class="Symbol">:</a> <a id="4243" class="Symbol">∀</a> <a id="4245" class="Symbol">{</a><a id="4246" href="Data.Rational.Unnormalised.Base.html#4246" class="Bound">p</a><a id="4247" class="Symbol">}</a> <a id="4249" class="Symbol">→</a> <a id="4251" href="Data.Rational.Unnormalised.Base.html#4246" class="Bound">p</a> <a id="4253" href="Data.Rational.Unnormalised.Base.html#2551" class="Function Operator">&gt;</a> <a id="4255" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a> <a id="4259" class="Symbol">→</a> <a id="4261" href="Data.Rational.Unnormalised.Base.html#3484" class="Function">NonZero</a> <a id="4269" href="Data.Rational.Unnormalised.Base.html#4246" class="Bound">p</a>
<a id="4271" href="Data.Rational.Unnormalised.Base.html#4231" class="Function">&gt;-nonZero</a> <a id="4281" class="Symbol">{</a><a id="4282" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4287" href="Data.Integer.Base.html#1384" class="InductiveConstructor">+0</a>       <a id="4296" class="Symbol">_}</a> <a id="4299" class="Symbol">(</a><a id="4300" href="Data.Rational.Unnormalised.Base.html#2463" class="InductiveConstructor">*&lt;*</a> <a id="4304" class="Symbol">(</a><a id="4305" href="Data.Integer.Base.html#2244" class="InductiveConstructor">+&lt;+</a> <a id="4309" class="Symbol">()))</a>
<a id="4314" href="Data.Rational.Unnormalised.Base.html#4231" class="Function">&gt;-nonZero</a> <a id="4324" class="Symbol">{</a><a id="4325" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4330" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">+[1+</a> <a id="4335" href="Data.Rational.Unnormalised.Base.html#4335" class="Bound">n</a> <a id="4337" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">]</a> <a id="4339" class="Symbol">_}</a> <a id="4342" class="Symbol">(</a><a id="4343" href="Data.Rational.Unnormalised.Base.html#2463" class="InductiveConstructor">*&lt;*</a> <a id="4347" class="Symbol">_)</a> <a id="4350" class="Symbol">=</a> <a id="4352" class="Symbol">_</a>

<a id="&lt;-nonZero"></a><a id="4355" href="Data.Rational.Unnormalised.Base.html#4355" class="Function">&lt;-nonZero</a> <a id="4365" class="Symbol">:</a> <a id="4367" class="Symbol">∀</a> <a id="4369" class="Symbol">{</a><a id="4370" href="Data.Rational.Unnormalised.Base.html#4370" class="Bound">p</a><a id="4371" class="Symbol">}</a> <a id="4373" class="Symbol">→</a> <a id="4375" href="Data.Rational.Unnormalised.Base.html#4370" class="Bound">p</a> <a id="4377" href="Data.Rational.Unnormalised.Base.html#2439" class="Datatype Operator">&lt;</a> <a id="4379" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a> <a id="4383" class="Symbol">→</a> <a id="4385" href="Data.Rational.Unnormalised.Base.html#3484" class="Function">NonZero</a> <a id="4393" href="Data.Rational.Unnormalised.Base.html#4370" class="Bound">p</a>
<a id="4395" href="Data.Rational.Unnormalised.Base.html#4355" class="Function">&lt;-nonZero</a> <a id="4405" class="Symbol">{</a><a id="4406" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4411" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">+[1+</a> <a id="4416" href="Data.Rational.Unnormalised.Base.html#4416" class="Bound">n</a> <a id="4418" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">]</a> <a id="4420" class="Symbol">_}</a> <a id="4423" class="Symbol">(</a><a id="4424" href="Data.Rational.Unnormalised.Base.html#2463" class="InductiveConstructor">*&lt;*</a> <a id="4428" class="Symbol">_)</a> <a id="4431" class="Symbol">=</a> <a id="4433" class="Symbol">_</a>
<a id="4435" href="Data.Rational.Unnormalised.Base.html#4355" class="Function">&lt;-nonZero</a> <a id="4445" class="Symbol">{</a><a id="4446" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4451" href="Data.Integer.Base.html#1384" class="InductiveConstructor">+0</a> <a id="4454" class="Symbol">_}</a>       <a id="4463" class="Symbol">(</a><a id="4464" href="Data.Rational.Unnormalised.Base.html#2463" class="InductiveConstructor">*&lt;*</a> <a id="4468" class="Symbol">(</a><a id="4469" href="Data.Integer.Base.html#2244" class="InductiveConstructor">+&lt;+</a> <a id="4473" class="Symbol">()))</a>
<a id="4478" href="Data.Rational.Unnormalised.Base.html#4355" class="Function">&lt;-nonZero</a> <a id="4488" class="Symbol">{</a><a id="4489" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4494" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="4499" href="Data.Rational.Unnormalised.Base.html#4499" class="Bound">n</a> <a id="4501" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="4503" class="Symbol">_}</a> <a id="4506" class="Symbol">(</a><a id="4507" href="Data.Rational.Unnormalised.Base.html#2463" class="InductiveConstructor">*&lt;*</a> <a id="4511" class="Symbol">_)</a> <a id="4514" class="Symbol">=</a> <a id="4516" class="Symbol">_</a>

<a id="positive"></a><a id="4519" href="Data.Rational.Unnormalised.Base.html#4519" class="Function">positive</a> <a id="4528" class="Symbol">:</a> <a id="4530" class="Symbol">∀</a> <a id="4532" class="Symbol">{</a><a id="4533" href="Data.Rational.Unnormalised.Base.html#4533" class="Bound">p</a><a id="4534" class="Symbol">}</a> <a id="4536" class="Symbol">→</a> <a id="4538" href="Data.Rational.Unnormalised.Base.html#4533" class="Bound">p</a> <a id="4540" href="Data.Rational.Unnormalised.Base.html#2551" class="Function Operator">&gt;</a> <a id="4542" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a> <a id="4546" class="Symbol">→</a> <a id="4548" href="Data.Rational.Unnormalised.Base.html#3534" class="Function">Positive</a> <a id="4557" href="Data.Rational.Unnormalised.Base.html#4533" class="Bound">p</a>
<a id="4559" href="Data.Rational.Unnormalised.Base.html#4519" class="Function">positive</a> <a id="4568" class="Symbol">{</a><a id="4569" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4574" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">+[1+</a> <a id="4579" href="Data.Rational.Unnormalised.Base.html#4579" class="Bound">n</a> <a id="4581" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">]</a>   <a id="4585" class="Symbol">_}</a> <a id="4588" class="Symbol">(</a><a id="4589" href="Data.Rational.Unnormalised.Base.html#2463" class="InductiveConstructor">*&lt;*</a> <a id="4593" class="Symbol">_)</a> <a id="4596" class="Symbol">=</a> <a id="4598" class="Symbol">_</a>
<a id="4600" href="Data.Rational.Unnormalised.Base.html#4519" class="Function">positive</a> <a id="4609" class="Symbol">{</a><a id="4610" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4615" href="Data.Integer.Base.html#1384" class="InductiveConstructor">+0</a>         <a id="4626" class="Symbol">_}</a> <a id="4629" class="Symbol">(</a><a id="4630" href="Data.Rational.Unnormalised.Base.html#2463" class="InductiveConstructor">*&lt;*</a> <a id="4634" class="Symbol">(</a><a id="4635" href="Data.Integer.Base.html#2244" class="InductiveConstructor">+&lt;+</a> <a id="4639" class="Symbol">()))</a>
<a id="4644" href="Data.Rational.Unnormalised.Base.html#4519" class="Function">positive</a> <a id="4653" class="Symbol">{</a><a id="4654" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4659" class="Symbol">(</a><a id="4660" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+_]</a> <a id="4667" href="Data.Rational.Unnormalised.Base.html#4667" class="Bound">n</a><a id="4668" class="Symbol">)</a> <a id="4670" class="Symbol">_}</a> <a id="4673" class="Symbol">(</a><a id="4674" href="Data.Rational.Unnormalised.Base.html#2463" class="InductiveConstructor">*&lt;*</a> <a id="4678" class="Symbol">())</a>

<a id="negative"></a><a id="4683" href="Data.Rational.Unnormalised.Base.html#4683" class="Function">negative</a> <a id="4692" class="Symbol">:</a> <a id="4694" class="Symbol">∀</a> <a id="4696" class="Symbol">{</a><a id="4697" href="Data.Rational.Unnormalised.Base.html#4697" class="Bound">p</a><a id="4698" class="Symbol">}</a> <a id="4700" class="Symbol">→</a> <a id="4702" href="Data.Rational.Unnormalised.Base.html#4697" class="Bound">p</a> <a id="4704" href="Data.Rational.Unnormalised.Base.html#2439" class="Datatype Operator">&lt;</a> <a id="4706" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a> <a id="4710" class="Symbol">→</a> <a id="4712" href="Data.Rational.Unnormalised.Base.html#3587" class="Function">Negative</a> <a id="4721" href="Data.Rational.Unnormalised.Base.html#4697" class="Bound">p</a>
<a id="4723" href="Data.Rational.Unnormalised.Base.html#4683" class="Function">negative</a> <a id="4732" class="Symbol">{</a><a id="4733" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4738" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">+[1+</a> <a id="4743" href="Data.Rational.Unnormalised.Base.html#4743" class="Bound">n</a> <a id="4745" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">]</a>   <a id="4749" class="Symbol">_}</a> <a id="4752" class="Symbol">(</a><a id="4753" href="Data.Rational.Unnormalised.Base.html#2463" class="InductiveConstructor">*&lt;*</a> <a id="4757" class="Symbol">(</a><a id="4758" href="Data.Integer.Base.html#2244" class="InductiveConstructor">+&lt;+</a> <a id="4762" class="Symbol">()))</a>
<a id="4767" href="Data.Rational.Unnormalised.Base.html#4683" class="Function">negative</a> <a id="4776" class="Symbol">{</a><a id="4777" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4782" href="Data.Integer.Base.html#1384" class="InductiveConstructor">+0</a>         <a id="4793" class="Symbol">_}</a> <a id="4796" class="Symbol">(</a><a id="4797" href="Data.Rational.Unnormalised.Base.html#2463" class="InductiveConstructor">*&lt;*</a> <a id="4801" class="Symbol">(</a><a id="4802" href="Data.Integer.Base.html#2244" class="InductiveConstructor">+&lt;+</a> <a id="4806" class="Symbol">()))</a>
<a id="4811" href="Data.Rational.Unnormalised.Base.html#4683" class="Function">negative</a> <a id="4820" class="Symbol">{</a><a id="4821" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4826" class="Symbol">(</a><a id="4827" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+_]</a> <a id="4834" href="Data.Rational.Unnormalised.Base.html#4834" class="Bound">n</a><a id="4835" class="Symbol">)</a> <a id="4837" class="Symbol">_}</a> <a id="4840" class="Symbol">(</a><a id="4841" href="Data.Rational.Unnormalised.Base.html#2463" class="InductiveConstructor">*&lt;*</a> <a id="4845" class="Symbol">_</a>       <a id="4853" class="Symbol">)</a> <a id="4855" class="Symbol">=</a> <a id="4857" class="Symbol">_</a>

<a id="nonPositive"></a><a id="4860" href="Data.Rational.Unnormalised.Base.html#4860" class="Function">nonPositive</a> <a id="4872" class="Symbol">:</a> <a id="4874" class="Symbol">∀</a> <a id="4876" class="Symbol">{</a><a id="4877" href="Data.Rational.Unnormalised.Base.html#4877" class="Bound">p</a><a id="4878" class="Symbol">}</a> <a id="4880" class="Symbol">→</a> <a id="4882" href="Data.Rational.Unnormalised.Base.html#4877" class="Bound">p</a> <a id="4884" href="Data.Rational.Unnormalised.Base.html#2353" class="Datatype Operator">≤</a> <a id="4886" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a> <a id="4890" class="Symbol">→</a> <a id="4892" href="Data.Rational.Unnormalised.Base.html#3640" class="Function">NonPositive</a> <a id="4904" href="Data.Rational.Unnormalised.Base.html#4877" class="Bound">p</a>
<a id="4906" href="Data.Rational.Unnormalised.Base.html#4860" class="Function">nonPositive</a> <a id="4918" class="Symbol">{</a><a id="4919" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4924" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">+[1+</a> <a id="4929" href="Data.Rational.Unnormalised.Base.html#4929" class="Bound">n</a> <a id="4931" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">]</a> <a id="4933" class="Symbol">_}</a> <a id="4936" class="Symbol">(</a><a id="4937" href="Data.Rational.Unnormalised.Base.html#2377" class="InductiveConstructor">*≤*</a> <a id="4941" class="Symbol">(</a><a id="4942" href="Data.Integer.Base.html#2079" class="InductiveConstructor">+≤+</a> <a id="4946" class="Symbol">()))</a>
<a id="4951" href="Data.Rational.Unnormalised.Base.html#4860" class="Function">nonPositive</a> <a id="4963" class="Symbol">{</a><a id="4964" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="4969" href="Data.Integer.Base.html#1384" class="InductiveConstructor">+0</a>       <a id="4978" class="Symbol">_}</a> <a id="4981" class="Symbol">(</a><a id="4982" href="Data.Rational.Unnormalised.Base.html#2377" class="InductiveConstructor">*≤*</a> <a id="4986" class="Symbol">_)</a> <a id="4989" class="Symbol">=</a> <a id="4991" class="Symbol">_</a>
<a id="4993" href="Data.Rational.Unnormalised.Base.html#4860" class="Function">nonPositive</a> <a id="5005" class="Symbol">{</a><a id="5006" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="5011" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="5016" href="Data.Rational.Unnormalised.Base.html#5016" class="Bound">n</a> <a id="5018" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="5020" class="Symbol">_}</a> <a id="5023" class="Symbol">(</a><a id="5024" href="Data.Rational.Unnormalised.Base.html#2377" class="InductiveConstructor">*≤*</a> <a id="5028" class="Symbol">_)</a> <a id="5031" class="Symbol">=</a> <a id="5033" class="Symbol">_</a>

<a id="nonNegative"></a><a id="5036" href="Data.Rational.Unnormalised.Base.html#5036" class="Function">nonNegative</a> <a id="5048" class="Symbol">:</a> <a id="5050" class="Symbol">∀</a> <a id="5052" class="Symbol">{</a><a id="5053" href="Data.Rational.Unnormalised.Base.html#5053" class="Bound">p</a><a id="5054" class="Symbol">}</a> <a id="5056" class="Symbol">→</a> <a id="5058" href="Data.Rational.Unnormalised.Base.html#5053" class="Bound">p</a> <a id="5060" href="Data.Rational.Unnormalised.Base.html#2520" class="Function Operator">≥</a> <a id="5062" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a> <a id="5066" class="Symbol">→</a> <a id="5068" href="Data.Rational.Unnormalised.Base.html#3702" class="Function">NonNegative</a> <a id="5080" href="Data.Rational.Unnormalised.Base.html#5053" class="Bound">p</a>
<a id="5082" href="Data.Rational.Unnormalised.Base.html#5036" class="Function">nonNegative</a> <a id="5094" class="Symbol">{</a><a id="5095" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="5100" href="Data.Integer.Base.html#1384" class="InductiveConstructor">+0</a>       <a id="5109" class="Symbol">_}</a> <a id="5112" class="Symbol">(</a><a id="5113" href="Data.Rational.Unnormalised.Base.html#2377" class="InductiveConstructor">*≤*</a> <a id="5117" class="Symbol">_)</a> <a id="5120" class="Symbol">=</a> <a id="5122" class="Symbol">_</a>
<a id="5124" href="Data.Rational.Unnormalised.Base.html#5036" class="Function">nonNegative</a> <a id="5136" class="Symbol">{</a><a id="5137" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="5142" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">+[1+</a> <a id="5147" href="Data.Rational.Unnormalised.Base.html#5147" class="Bound">n</a> <a id="5149" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">]</a> <a id="5151" class="Symbol">_}</a> <a id="5154" class="Symbol">(</a><a id="5155" href="Data.Rational.Unnormalised.Base.html#2377" class="InductiveConstructor">*≤*</a> <a id="5159" class="Symbol">_)</a> <a id="5162" class="Symbol">=</a> <a id="5164" class="Symbol">_</a>

<a id="5167" class="Comment">------------------------------------------------------------------------------</a>
<a id="5246" class="Comment">-- Operations on rationals</a>

<a id="5274" class="Comment">-- Explanation for `@record{}` everywhere: combined with no-eta-equality on</a>
<a id="5350" class="Comment">-- the record definition of ℚᵘ above, these annotations prevent the operations</a>
<a id="5429" class="Comment">-- from automatically expanding unless their arguments are explicitly pattern</a>
<a id="5507" class="Comment">-- matched on.</a>
<a id="5522" class="Comment">--</a>
<a id="5525" class="Comment">-- For example prior to their addition, `p + q` would often be normalised by</a>
<a id="5602" class="Comment">-- Agda to `(↥ p ℤ.* ↧ q ℤ.+ ↥ q ℤ.* ↧ p) / (↧ₙ p ℕ.* ↧ₙ q)`. While in this</a>
<a id="5678" class="Comment">-- small example this isn&#39;t a big problem, it leads to an exponential blowup</a>
<a id="5755" class="Comment">-- when you have large arithmetic expressions which would often choke</a>
<a id="5825" class="Comment">-- both type-checking and the display code. For example, the normalised</a>
<a id="5897" class="Comment">-- form of `p + q + r + s + t + u` would be ~300 lines long.</a>
<a id="5958" class="Comment">--</a>
<a id="5961" class="Comment">-- This is fundementally a problem with Agda, so if over-eager normalisation</a>
<a id="6038" class="Comment">-- is ever fixed in Agda (e.g. with glued representation of terms) these</a>
<a id="6111" class="Comment">-- annotations can be removed.</a>

<a id="6143" class="Keyword">infix</a>  <a id="6150" class="Number">8</a> <a id="6152" href="Data.Rational.Unnormalised.Base.html#6215" class="Function Operator">-_</a> <a id="6155" href="Data.Rational.Unnormalised.Base.html#6579" class="Function Operator">1/_</a>
<a id="6159" class="Keyword">infixl</a> <a id="6166" class="Number">7</a> <a id="6168" href="Data.Rational.Unnormalised.Base.html#6383" class="Function Operator">_*_</a> <a id="6172" href="Data.Rational.Unnormalised.Base.html#6759" class="Function Operator">_÷_</a> <a id="6176" href="Data.Rational.Unnormalised.Base.html#6927" class="Function Operator">_⊓_</a>
<a id="6180" class="Keyword">infixl</a> <a id="6187" class="Number">6</a> <a id="6189" href="Data.Rational.Unnormalised.Base.html#6477" class="Function Operator">_-_</a> <a id="6193" href="Data.Rational.Unnormalised.Base.html#6270" class="Function Operator">_+_</a> <a id="6197" href="Data.Rational.Unnormalised.Base.html#6847" class="Function Operator">_⊔_</a>

<a id="6202" class="Comment">-- negation</a>

<a id="-_"></a><a id="6215" href="Data.Rational.Unnormalised.Base.html#6215" class="Function Operator">-_</a> <a id="6218" class="Symbol">:</a> <a id="6220" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="6223" class="Symbol">→</a> <a id="6225" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="6228" href="Data.Rational.Unnormalised.Base.html#6215" class="Function Operator">-</a> <a id="6230" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="6235" href="Data.Rational.Unnormalised.Base.html#6235" class="Bound">n</a> <a id="6237" href="Data.Rational.Unnormalised.Base.html#6237" class="Bound">d</a> <a id="6239" class="Symbol">=</a> <a id="6241" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="6246" class="Symbol">(</a><a id="6247" href="Data.Integer.Base.html#4659" class="Function Operator">ℤ.-</a> <a id="6251" href="Data.Rational.Unnormalised.Base.html#6235" class="Bound">n</a><a id="6252" class="Symbol">)</a> <a id="6254" href="Data.Rational.Unnormalised.Base.html#6237" class="Bound">d</a>

<a id="6257" class="Comment">-- addition</a>

<a id="_+_"></a><a id="6270" href="Data.Rational.Unnormalised.Base.html#6270" class="Function Operator">_+_</a> <a id="6274" class="Symbol">:</a> <a id="6276" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="6279" class="Symbol">→</a> <a id="6281" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="6284" class="Symbol">→</a> <a id="6286" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="6289" href="Data.Rational.Unnormalised.Base.html#6289" class="Bound">p</a><a id="6290" class="Symbol">@</a><a id="6291" class="Keyword">record</a><a id="6297" class="Symbol">{}</a> <a id="6300" href="Data.Rational.Unnormalised.Base.html#6270" class="Function Operator">+</a> <a id="6302" href="Data.Rational.Unnormalised.Base.html#6302" class="Bound">q</a><a id="6303" class="Symbol">@</a><a id="6304" class="Keyword">record</a><a id="6310" class="Symbol">{}</a> <a id="6313" class="Symbol">=</a> <a id="6315" class="Symbol">(</a><a id="6316" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="6318" href="Data.Rational.Unnormalised.Base.html#6289" class="Bound">p</a> <a id="6320" href="Data.Integer.Base.html#5331" class="Function Operator">ℤ.*</a> <a id="6324" href="Data.Rational.Unnormalised.Base.html#1905" class="Function Operator">↧</a> <a id="6326" href="Data.Rational.Unnormalised.Base.html#6302" class="Bound">q</a> <a id="6328" href="Data.Integer.Base.html#5004" class="Function Operator">ℤ.+</a> <a id="6332" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="6334" href="Data.Rational.Unnormalised.Base.html#6302" class="Bound">q</a> <a id="6336" href="Data.Integer.Base.html#5331" class="Function Operator">ℤ.*</a> <a id="6340" href="Data.Rational.Unnormalised.Base.html#1905" class="Function Operator">↧</a> <a id="6342" href="Data.Rational.Unnormalised.Base.html#6289" class="Bound">p</a><a id="6343" class="Symbol">)</a> <a id="6345" href="Data.Rational.Unnormalised.Base.html#3125" class="Function Operator">/</a> <a id="6347" class="Symbol">(</a><a id="6348" href="Data.Rational.Unnormalised.Base.html#1928" class="Function Operator">↧ₙ</a> <a id="6351" href="Data.Rational.Unnormalised.Base.html#6289" class="Bound">p</a> <a id="6353" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">ℕ.*</a> <a id="6357" href="Data.Rational.Unnormalised.Base.html#1928" class="Function Operator">↧ₙ</a> <a id="6360" href="Data.Rational.Unnormalised.Base.html#6302" class="Bound">q</a><a id="6361" class="Symbol">)</a>

<a id="6364" class="Comment">-- multiplication</a>

<a id="_*_"></a><a id="6383" href="Data.Rational.Unnormalised.Base.html#6383" class="Function Operator">_*_</a> <a id="6387" class="Symbol">:</a> <a id="6389" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="6392" class="Symbol">→</a> <a id="6394" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="6397" class="Symbol">→</a> <a id="6399" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="6402" href="Data.Rational.Unnormalised.Base.html#6402" class="Bound">p</a><a id="6403" class="Symbol">@</a><a id="6404" class="Keyword">record</a><a id="6410" class="Symbol">{}</a> <a id="6413" href="Data.Rational.Unnormalised.Base.html#6383" class="Function Operator">*</a> <a id="6415" href="Data.Rational.Unnormalised.Base.html#6415" class="Bound">q</a><a id="6416" class="Symbol">@</a><a id="6417" class="Keyword">record</a><a id="6423" class="Symbol">{}</a> <a id="6426" class="Symbol">=</a> <a id="6428" class="Symbol">(</a><a id="6429" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="6431" href="Data.Rational.Unnormalised.Base.html#6402" class="Bound">p</a> <a id="6433" href="Data.Integer.Base.html#5331" class="Function Operator">ℤ.*</a> <a id="6437" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="6439" href="Data.Rational.Unnormalised.Base.html#6415" class="Bound">q</a><a id="6440" class="Symbol">)</a> <a id="6442" href="Data.Rational.Unnormalised.Base.html#3125" class="Function Operator">/</a> <a id="6444" class="Symbol">(</a><a id="6445" href="Data.Rational.Unnormalised.Base.html#1928" class="Function Operator">↧ₙ</a> <a id="6448" href="Data.Rational.Unnormalised.Base.html#6402" class="Bound">p</a> <a id="6450" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">ℕ.*</a> <a id="6454" href="Data.Rational.Unnormalised.Base.html#1928" class="Function Operator">↧ₙ</a> <a id="6457" href="Data.Rational.Unnormalised.Base.html#6415" class="Bound">q</a><a id="6458" class="Symbol">)</a>

<a id="6461" class="Comment">-- subtraction</a>

<a id="_-_"></a><a id="6477" href="Data.Rational.Unnormalised.Base.html#6477" class="Function Operator">_-_</a> <a id="6481" class="Symbol">:</a> <a id="6483" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="6486" class="Symbol">→</a> <a id="6488" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="6491" class="Symbol">→</a> <a id="6493" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="6496" href="Data.Rational.Unnormalised.Base.html#6496" class="Bound">p</a> <a id="6498" href="Data.Rational.Unnormalised.Base.html#6477" class="Function Operator">-</a> <a id="6500" href="Data.Rational.Unnormalised.Base.html#6500" class="Bound">q</a> <a id="6502" class="Symbol">=</a> <a id="6504" href="Data.Rational.Unnormalised.Base.html#6496" class="Bound">p</a> <a id="6506" href="Data.Rational.Unnormalised.Base.html#6270" class="Function Operator">+</a> <a id="6508" class="Symbol">(</a><a id="6509" href="Data.Rational.Unnormalised.Base.html#6215" class="Function Operator">-</a> <a id="6511" href="Data.Rational.Unnormalised.Base.html#6500" class="Bound">q</a><a id="6512" class="Symbol">)</a>

<a id="6515" class="Comment">-- reciprocal: requires a proof that the numerator is not zero</a>

<a id="1/_"></a><a id="6579" href="Data.Rational.Unnormalised.Base.html#6579" class="Function Operator">1/_</a> <a id="6583" class="Symbol">:</a> <a id="6585" class="Symbol">(</a><a id="6586" href="Data.Rational.Unnormalised.Base.html#6586" class="Bound">p</a> <a id="6588" class="Symbol">:</a> <a id="6590" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a><a id="6592" class="Symbol">)</a> <a id="6594" class="Symbol">→</a> <a id="6596" class="Symbol">.{{</a><a id="6599" href="Data.Rational.Unnormalised.Base.html#6599" class="Bound">_</a> <a id="6601" class="Symbol">:</a> <a id="6603" href="Data.Rational.Unnormalised.Base.html#3484" class="Function">NonZero</a> <a id="6611" href="Data.Rational.Unnormalised.Base.html#6586" class="Bound">p</a><a id="6612" class="Symbol">}}</a> <a id="6615" class="Symbol">→</a> <a id="6617" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="6620" href="Data.Rational.Unnormalised.Base.html#6579" class="Function Operator">1/</a> <a id="6623" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="6628" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">+[1+</a> <a id="6633" href="Data.Rational.Unnormalised.Base.html#6633" class="Bound">n</a> <a id="6635" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">]</a> <a id="6637" href="Data.Rational.Unnormalised.Base.html#6637" class="Bound">d</a> <a id="6639" class="Symbol">=</a> <a id="6641" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="6646" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">+[1+</a> <a id="6651" href="Data.Rational.Unnormalised.Base.html#6637" class="Bound">d</a> <a id="6653" href="Data.Integer.Base.html#1407" class="InductiveConstructor Operator">]</a> <a id="6655" href="Data.Rational.Unnormalised.Base.html#6633" class="Bound">n</a>
<a id="6657" href="Data.Rational.Unnormalised.Base.html#6579" class="Function Operator">1/</a> <a id="6660" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="6665" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="6670" href="Data.Rational.Unnormalised.Base.html#6670" class="Bound">n</a> <a id="6672" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="6674" href="Data.Rational.Unnormalised.Base.html#6674" class="Bound">d</a> <a id="6676" class="Symbol">=</a> <a id="6678" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="6683" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="6688" href="Data.Rational.Unnormalised.Base.html#6674" class="Bound">d</a> <a id="6690" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="6692" href="Data.Rational.Unnormalised.Base.html#6670" class="Bound">n</a>

<a id="6695" class="Comment">-- division: requires a proof that the denominator is not zero</a>

<a id="_÷_"></a><a id="6759" href="Data.Rational.Unnormalised.Base.html#6759" class="Function Operator">_÷_</a> <a id="6763" class="Symbol">:</a> <a id="6765" class="Symbol">(</a><a id="6766" href="Data.Rational.Unnormalised.Base.html#6766" class="Bound">p</a> <a id="6768" href="Data.Rational.Unnormalised.Base.html#6768" class="Bound">q</a> <a id="6770" class="Symbol">:</a> <a id="6772" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a><a id="6774" class="Symbol">)</a> <a id="6776" class="Symbol">→</a> <a id="6778" class="Symbol">.{{</a><a id="6781" href="Data.Rational.Unnormalised.Base.html#6781" class="Bound">_</a> <a id="6783" class="Symbol">:</a> <a id="6785" href="Data.Rational.Unnormalised.Base.html#3484" class="Function">NonZero</a> <a id="6793" href="Data.Rational.Unnormalised.Base.html#6768" class="Bound">q</a><a id="6794" class="Symbol">}}</a> <a id="6797" class="Symbol">→</a> <a id="6799" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="6802" href="Data.Rational.Unnormalised.Base.html#6802" class="Bound">p</a><a id="6803" class="Symbol">@</a><a id="6804" class="Keyword">record</a><a id="6810" class="Symbol">{}</a> <a id="6813" href="Data.Rational.Unnormalised.Base.html#6759" class="Function Operator">÷</a> <a id="6815" href="Data.Rational.Unnormalised.Base.html#6815" class="Bound">q</a><a id="6816" class="Symbol">@</a><a id="6817" class="Keyword">record</a><a id="6823" class="Symbol">{}</a> <a id="6826" class="Symbol">=</a> <a id="6828" href="Data.Rational.Unnormalised.Base.html#6802" class="Bound">p</a> <a id="6830" href="Data.Rational.Unnormalised.Base.html#6383" class="Function Operator">*</a> <a id="6832" class="Symbol">(</a><a id="6833" href="Data.Rational.Unnormalised.Base.html#6579" class="Function Operator">1/</a> <a id="6836" href="Data.Rational.Unnormalised.Base.html#6815" class="Bound">q</a><a id="6837" class="Symbol">)</a>

<a id="6840" class="Comment">-- max</a>
<a id="_⊔_"></a><a id="6847" href="Data.Rational.Unnormalised.Base.html#6847" class="Function Operator">_⊔_</a> <a id="6851" class="Symbol">:</a> <a id="6853" class="Symbol">(</a><a id="6854" href="Data.Rational.Unnormalised.Base.html#6854" class="Bound">p</a> <a id="6856" href="Data.Rational.Unnormalised.Base.html#6856" class="Bound">q</a> <a id="6858" class="Symbol">:</a> <a id="6860" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a><a id="6862" class="Symbol">)</a> <a id="6864" class="Symbol">→</a> <a id="6866" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="6869" href="Data.Rational.Unnormalised.Base.html#6869" class="Bound">p</a><a id="6870" class="Symbol">@</a><a id="6871" class="Keyword">record</a><a id="6877" class="Symbol">{}</a> <a id="6880" href="Data.Rational.Unnormalised.Base.html#6847" class="Function Operator">⊔</a> <a id="6882" href="Data.Rational.Unnormalised.Base.html#6882" class="Bound">q</a><a id="6883" class="Symbol">@</a><a id="6884" class="Keyword">record</a><a id="6890" class="Symbol">{}</a> <a id="6893" class="Symbol">=</a> <a id="6895" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="6898" href="Data.Rational.Unnormalised.Base.html#6869" class="Bound">p</a> <a id="6900" href="Data.Rational.Unnormalised.Base.html#2830" class="Function Operator">≤ᵇ</a> <a id="6903" href="Data.Rational.Unnormalised.Base.html#6882" class="Bound">q</a> <a id="6905" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="6910" href="Data.Rational.Unnormalised.Base.html#6882" class="Bound">q</a> <a id="6912" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="6917" href="Data.Rational.Unnormalised.Base.html#6869" class="Bound">p</a>

<a id="6920" class="Comment">-- min</a>
<a id="_⊓_"></a><a id="6927" href="Data.Rational.Unnormalised.Base.html#6927" class="Function Operator">_⊓_</a> <a id="6931" class="Symbol">:</a> <a id="6933" class="Symbol">(</a><a id="6934" href="Data.Rational.Unnormalised.Base.html#6934" class="Bound">p</a> <a id="6936" href="Data.Rational.Unnormalised.Base.html#6936" class="Bound">q</a> <a id="6938" class="Symbol">:</a> <a id="6940" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a><a id="6942" class="Symbol">)</a> <a id="6944" class="Symbol">→</a> <a id="6946" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="6949" href="Data.Rational.Unnormalised.Base.html#6949" class="Bound">p</a><a id="6950" class="Symbol">@</a><a id="6951" class="Keyword">record</a><a id="6957" class="Symbol">{}</a> <a id="6960" href="Data.Rational.Unnormalised.Base.html#6927" class="Function Operator">⊓</a> <a id="6962" href="Data.Rational.Unnormalised.Base.html#6962" class="Bound">q</a><a id="6963" class="Symbol">@</a><a id="6964" class="Keyword">record</a><a id="6970" class="Symbol">{}</a> <a id="6973" class="Symbol">=</a> <a id="6975" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="6978" href="Data.Rational.Unnormalised.Base.html#6949" class="Bound">p</a> <a id="6980" href="Data.Rational.Unnormalised.Base.html#2830" class="Function Operator">≤ᵇ</a> <a id="6983" href="Data.Rational.Unnormalised.Base.html#6962" class="Bound">q</a> <a id="6985" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="6990" href="Data.Rational.Unnormalised.Base.html#6949" class="Bound">p</a> <a id="6992" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="6997" href="Data.Rational.Unnormalised.Base.html#6962" class="Bound">q</a>

<a id="7000" class="Comment">-- absolute value</a>
<a id="∣_∣"></a><a id="7018" href="Data.Rational.Unnormalised.Base.html#7018" class="Function Operator">∣_∣</a> <a id="7022" class="Symbol">:</a> <a id="7024" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="7027" class="Symbol">→</a> <a id="7029" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="7032" href="Data.Rational.Unnormalised.Base.html#7018" class="Function Operator">∣</a> <a id="7034" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="7039" href="Data.Rational.Unnormalised.Base.html#7039" class="Bound">p</a> <a id="7041" href="Data.Rational.Unnormalised.Base.html#7041" class="Bound">q</a> <a id="7043" href="Data.Rational.Unnormalised.Base.html#7018" class="Function Operator">∣</a> <a id="7045" class="Symbol">=</a> <a id="7047" href="Data.Rational.Unnormalised.Base.html#1664" class="InductiveConstructor">mkℚᵘ</a> <a id="7052" class="Symbol">(</a><a id="7053" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="7055" href="Data.Integer.Base.html#1688" class="Function Operator">ℤ.∣</a> <a id="7059" href="Data.Rational.Unnormalised.Base.html#7039" class="Bound">p</a> <a id="7061" href="Data.Integer.Base.html#1688" class="Function Operator">∣</a><a id="7062" class="Symbol">)</a> <a id="7064" href="Data.Rational.Unnormalised.Base.html#7041" class="Bound">q</a>

<a id="7067" class="Comment">------------------------------------------------------------------------</a>
<a id="7140" class="Comment">-- Rounding functions</a>

<a id="7163" class="Comment">-- Floor (round towards -∞)</a>
<a id="floor"></a><a id="7191" href="Data.Rational.Unnormalised.Base.html#7191" class="Function">floor</a> <a id="7197" class="Symbol">:</a> <a id="7199" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="7202" class="Symbol">→</a> <a id="7204" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
<a id="7206" href="Data.Rational.Unnormalised.Base.html#7191" class="Function">floor</a> <a id="7212" href="Data.Rational.Unnormalised.Base.html#7212" class="Bound">p</a><a id="7213" class="Symbol">@</a><a id="7214" class="Keyword">record</a><a id="7220" class="Symbol">{}</a> <a id="7223" class="Symbol">=</a> <a id="7225" href="Data.Rational.Unnormalised.Base.html#1882" class="Field Operator">↥</a> <a id="7227" href="Data.Rational.Unnormalised.Base.html#7212" class="Bound">p</a> <a id="7229" href="Data.Integer.Base.html#6052" class="Function Operator">ℤ./</a> <a id="7233" href="Data.Rational.Unnormalised.Base.html#1905" class="Function Operator">↧</a> <a id="7235" href="Data.Rational.Unnormalised.Base.html#7212" class="Bound">p</a>

<a id="7238" class="Comment">-- Ceiling (round towards +∞)</a>
<a id="ceiling"></a><a id="7268" href="Data.Rational.Unnormalised.Base.html#7268" class="Function">ceiling</a> <a id="7276" class="Symbol">:</a> <a id="7278" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="7281" class="Symbol">→</a> <a id="7283" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
<a id="7285" href="Data.Rational.Unnormalised.Base.html#7268" class="Function">ceiling</a> <a id="7293" href="Data.Rational.Unnormalised.Base.html#7293" class="Bound">p</a><a id="7294" class="Symbol">@</a><a id="7295" class="Keyword">record</a><a id="7301" class="Symbol">{}</a> <a id="7304" class="Symbol">=</a> <a id="7306" href="Data.Integer.Base.html#4659" class="Function Operator">ℤ.-</a> <a id="7310" href="Data.Rational.Unnormalised.Base.html#7191" class="Function">floor</a> <a id="7316" class="Symbol">(</a><a id="7317" href="Data.Rational.Unnormalised.Base.html#6215" class="Function Operator">-</a> <a id="7319" href="Data.Rational.Unnormalised.Base.html#7293" class="Bound">p</a><a id="7320" class="Symbol">)</a>

<a id="7323" class="Comment">-- Truncate  (round towards 0)</a>
<a id="truncate"></a><a id="7354" href="Data.Rational.Unnormalised.Base.html#7354" class="Function">truncate</a> <a id="7363" class="Symbol">:</a> <a id="7365" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="7368" class="Symbol">→</a> <a id="7370" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
<a id="7372" href="Data.Rational.Unnormalised.Base.html#7354" class="Function">truncate</a> <a id="7381" href="Data.Rational.Unnormalised.Base.html#7381" class="Bound">p</a> <a id="7383" class="Keyword">with</a> <a id="7388" href="Data.Rational.Unnormalised.Base.html#7381" class="Bound">p</a> <a id="7390" href="Data.Rational.Unnormalised.Base.html#2830" class="Function Operator">≤ᵇ</a> <a id="7393" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a>
<a id="7397" class="Symbol">...</a> <a id="7401" class="Symbol">|</a> <a id="7403" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>  <a id="7409" class="Symbol">=</a> <a id="7411" href="Data.Rational.Unnormalised.Base.html#7268" class="Function">ceiling</a> <a id="7419" class="Bound">p</a>
<a id="7421" class="Symbol">...</a> <a id="7425" class="Symbol">|</a> <a id="7427" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="7433" class="Symbol">=</a> <a id="7435" href="Data.Rational.Unnormalised.Base.html#7191" class="Function">floor</a> <a id="7441" class="Bound">p</a>

<a id="7444" class="Comment">-- Round (to nearest integer)</a>
<a id="round"></a><a id="7474" href="Data.Rational.Unnormalised.Base.html#7474" class="Function">round</a> <a id="7480" class="Symbol">:</a> <a id="7482" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="7485" class="Symbol">→</a> <a id="7487" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
<a id="7489" href="Data.Rational.Unnormalised.Base.html#7474" class="Function">round</a> <a id="7495" href="Data.Rational.Unnormalised.Base.html#7495" class="Bound">p</a> <a id="7497" class="Keyword">with</a> <a id="7502" href="Data.Rational.Unnormalised.Base.html#7495" class="Bound">p</a> <a id="7504" href="Data.Rational.Unnormalised.Base.html#2830" class="Function Operator">≤ᵇ</a> <a id="7507" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a>
<a id="7511" class="Symbol">...</a> <a id="7515" class="Symbol">|</a> <a id="7517" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>  <a id="7523" class="Symbol">=</a> <a id="7525" href="Data.Rational.Unnormalised.Base.html#7268" class="Function">ceiling</a> <a id="7533" class="Symbol">(</a><a id="7534" class="Bound">p</a> <a id="7536" href="Data.Rational.Unnormalised.Base.html#6477" class="Function Operator">-</a> <a id="7538" href="Data.Rational.Unnormalised.Base.html#3341" class="Function">½</a><a id="7539" class="Symbol">)</a>
<a id="7541" class="Symbol">...</a> <a id="7545" class="Symbol">|</a> <a id="7547" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="7553" class="Symbol">=</a> <a id="7555" href="Data.Rational.Unnormalised.Base.html#7191" class="Function">floor</a> <a id="7561" class="Symbol">(</a><a id="7562" class="Bound">p</a> <a id="7564" href="Data.Rational.Unnormalised.Base.html#6270" class="Function Operator">+</a> <a id="7566" href="Data.Rational.Unnormalised.Base.html#3341" class="Function">½</a><a id="7567" class="Symbol">)</a>

<a id="7570" class="Comment">-- Fractional part (remainder after floor)</a>
<a id="fracPart"></a><a id="7613" href="Data.Rational.Unnormalised.Base.html#7613" class="Function">fracPart</a> <a id="7622" class="Symbol">:</a> <a id="7624" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a> <a id="7627" class="Symbol">→</a> <a id="7629" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
<a id="7632" href="Data.Rational.Unnormalised.Base.html#7613" class="Function">fracPart</a> <a id="7641" href="Data.Rational.Unnormalised.Base.html#7641" class="Bound">p</a><a id="7642" class="Symbol">@</a><a id="7643" class="Keyword">record</a><a id="7649" class="Symbol">{}</a> <a id="7652" class="Symbol">=</a> <a id="7654" href="Data.Rational.Unnormalised.Base.html#7018" class="Function Operator">∣</a> <a id="7656" href="Data.Rational.Unnormalised.Base.html#7641" class="Bound">p</a> <a id="7658" href="Data.Rational.Unnormalised.Base.html#6477" class="Function Operator">-</a> <a id="7660" href="Data.Rational.Unnormalised.Base.html#7354" class="Function">truncate</a> <a id="7669" href="Data.Rational.Unnormalised.Base.html#7641" class="Bound">p</a> <a id="7671" href="Data.Rational.Unnormalised.Base.html#3125" class="Function Operator">/</a> <a id="7673" class="Number">1</a> <a id="7675" href="Data.Rational.Unnormalised.Base.html#7018" class="Function Operator">∣</a>

<a id="7678" class="Comment">-- Extra notations  ⌊ ⌋ floor,  ⌈ ⌉ ceiling,  [ ] truncate</a>
<a id="7737" class="Keyword">syntax</a> <a id="7744" href="Data.Rational.Unnormalised.Base.html#7191" class="Function">floor</a>    <a id="7753" class="Bound">p</a> <a id="7755" class="Symbol">=</a> <a id="7757" class="Function">⌊</a> <a id="7759" class="Bound">p</a> <a id="7761" class="Function">⌋</a>
<a id="7763" class="Keyword">syntax</a> <a id="7770" href="Data.Rational.Unnormalised.Base.html#7268" class="Function">ceiling</a>  <a id="7779" class="Bound">p</a> <a id="7781" class="Symbol">=</a> <a id="7783" class="Function">⌈</a> <a id="7785" class="Bound">p</a> <a id="7787" class="Function">⌉</a>
<a id="7789" class="Keyword">syntax</a> <a id="7796" href="Data.Rational.Unnormalised.Base.html#7354" class="Function">truncate</a> <a id="7805" class="Bound">p</a> <a id="7807" class="Symbol">=</a> <a id="7809" class="Function">[</a> <a id="7811" class="Bound">p</a> <a id="7813" class="Function">]</a>

<a id="7816" class="Comment">------------------------------------------------------------------------</a>
<a id="7889" class="Comment">-- Raw bundles for _+_</a>

<a id="+-rawMagma"></a><a id="7913" href="Data.Rational.Unnormalised.Base.html#7913" class="Function">+-rawMagma</a> <a id="7924" class="Symbol">:</a> <a id="7926" href="Algebra.Bundles.Raw.html#635" class="Record">RawMagma</a> <a id="7935" href="Level.html#512" class="Function">0ℓ</a> <a id="7938" href="Level.html#512" class="Function">0ℓ</a>
<a id="7941" href="Data.Rational.Unnormalised.Base.html#7913" class="Function">+-rawMagma</a> <a id="7952" class="Symbol">=</a> <a id="7954" class="Keyword">record</a>
  <a id="7963" class="Symbol">{</a> <a id="7965" href="Algebra.Bundles.Raw.html#736" class="Field Operator">_≈_</a> <a id="7969" class="Symbol">=</a> <a id="7971" href="Data.Rational.Unnormalised.Base.html#2094" class="Datatype Operator">_≃_</a>
  <a id="7977" class="Symbol">;</a> <a id="7979" href="Algebra.Bundles.Raw.html#764" class="Field Operator">_∙_</a> <a id="7983" class="Symbol">=</a> <a id="7985" href="Data.Rational.Unnormalised.Base.html#6270" class="Function Operator">_+_</a>
  <a id="7991" class="Symbol">}</a>

<a id="+-0-rawMonoid"></a><a id="7994" href="Data.Rational.Unnormalised.Base.html#7994" class="Function">+-0-rawMonoid</a> <a id="8008" class="Symbol">:</a> <a id="8010" href="Algebra.Bundles.Raw.html#1096" class="Record">RawMonoid</a> <a id="8020" href="Level.html#512" class="Function">0ℓ</a> <a id="8023" href="Level.html#512" class="Function">0ℓ</a>
<a id="8026" href="Data.Rational.Unnormalised.Base.html#7994" class="Function">+-0-rawMonoid</a> <a id="8040" class="Symbol">=</a> <a id="8042" class="Keyword">record</a>
  <a id="8051" class="Symbol">{</a> <a id="8053" href="Algebra.Bundles.Raw.html#1198" class="Field Operator">_≈_</a> <a id="8057" class="Symbol">=</a> <a id="8059" href="Data.Rational.Unnormalised.Base.html#2094" class="Datatype Operator">_≃_</a>
  <a id="8065" class="Symbol">;</a> <a id="8067" href="Algebra.Bundles.Raw.html#1226" class="Field Operator">_∙_</a> <a id="8071" class="Symbol">=</a> <a id="8073" href="Data.Rational.Unnormalised.Base.html#6270" class="Function Operator">_+_</a>
  <a id="8079" class="Symbol">;</a> <a id="8081" href="Algebra.Bundles.Raw.html#1252" class="Field">ε</a>   <a id="8085" class="Symbol">=</a> <a id="8087" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a>
  <a id="8093" class="Symbol">}</a>

<a id="+-0-rawGroup"></a><a id="8096" href="Data.Rational.Unnormalised.Base.html#8096" class="Function">+-0-rawGroup</a> <a id="8109" class="Symbol">:</a> <a id="8111" href="Algebra.Bundles.Raw.html#1629" class="Record">RawGroup</a> <a id="8120" href="Level.html#512" class="Function">0ℓ</a> <a id="8123" href="Level.html#512" class="Function">0ℓ</a>
<a id="8126" href="Data.Rational.Unnormalised.Base.html#8096" class="Function">+-0-rawGroup</a> <a id="8139" class="Symbol">=</a> <a id="8141" class="Keyword">record</a>
  <a id="8150" class="Symbol">{</a> <a id="8152" href="Algebra.Bundles.Raw.html#1725" class="Field">Carrier</a> <a id="8160" class="Symbol">=</a> <a id="8162" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
  <a id="8167" class="Symbol">;</a> <a id="8169" href="Algebra.Bundles.Raw.html#1745" class="Field Operator">_≈_</a> <a id="8173" class="Symbol">=</a> <a id="8175" href="Data.Rational.Unnormalised.Base.html#2094" class="Datatype Operator">_≃_</a>
  <a id="8181" class="Symbol">;</a> <a id="8183" href="Algebra.Bundles.Raw.html#1773" class="Field Operator">_∙_</a> <a id="8187" class="Symbol">=</a> <a id="8189" href="Data.Rational.Unnormalised.Base.html#6270" class="Function Operator">_+_</a>
  <a id="8195" class="Symbol">;</a> <a id="8197" href="Algebra.Bundles.Raw.html#1799" class="Field">ε</a> <a id="8199" class="Symbol">=</a> <a id="8201" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a>
  <a id="8207" class="Symbol">;</a> <a id="8209" href="Algebra.Bundles.Raw.html#1821" class="Field Operator">_⁻¹</a> <a id="8213" class="Symbol">=</a> <a id="8215" href="Data.Rational.Unnormalised.Base.html#6215" class="Function Operator">-_</a>
  <a id="8220" class="Symbol">}</a>

<a id="+-*-rawNearSemiring"></a><a id="8223" href="Data.Rational.Unnormalised.Base.html#8223" class="Function">+-*-rawNearSemiring</a> <a id="8243" class="Symbol">:</a> <a id="8245" href="Algebra.Bundles.Raw.html#2213" class="Record">RawNearSemiring</a> <a id="8261" href="Level.html#512" class="Function">0ℓ</a> <a id="8264" href="Level.html#512" class="Function">0ℓ</a>
<a id="8267" href="Data.Rational.Unnormalised.Base.html#8223" class="Function">+-*-rawNearSemiring</a> <a id="8287" class="Symbol">=</a> <a id="8289" class="Keyword">record</a>
  <a id="8298" class="Symbol">{</a> <a id="8300" href="Algebra.Bundles.Raw.html#2316" class="Field">Carrier</a> <a id="8308" class="Symbol">=</a> <a id="8310" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
  <a id="8315" class="Symbol">;</a> <a id="8317" href="Algebra.Bundles.Raw.html#2336" class="Field Operator">_≈_</a> <a id="8321" class="Symbol">=</a> <a id="8323" href="Data.Rational.Unnormalised.Base.html#2094" class="Datatype Operator">_≃_</a>
  <a id="8329" class="Symbol">;</a> <a id="8331" href="Algebra.Bundles.Raw.html#2364" class="Field Operator">_+_</a> <a id="8335" class="Symbol">=</a> <a id="8337" href="Data.Rational.Unnormalised.Base.html#6270" class="Function Operator">_+_</a>
  <a id="8343" class="Symbol">;</a> <a id="8345" href="Algebra.Bundles.Raw.html#2390" class="Field Operator">_*_</a> <a id="8349" class="Symbol">=</a> <a id="8351" href="Data.Rational.Unnormalised.Base.html#6383" class="Function Operator">_*_</a>
  <a id="8357" class="Symbol">;</a> <a id="8359" href="Algebra.Bundles.Raw.html#2416" class="Field">0#</a> <a id="8362" class="Symbol">=</a> <a id="8364" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a>
  <a id="8370" class="Symbol">}</a>

<a id="+-*-rawSemiring"></a><a id="8373" href="Data.Rational.Unnormalised.Base.html#8373" class="Function">+-*-rawSemiring</a> <a id="8389" class="Symbol">:</a> <a id="8391" href="Algebra.Bundles.Raw.html#2925" class="Record">RawSemiring</a> <a id="8403" href="Level.html#512" class="Function">0ℓ</a> <a id="8406" href="Level.html#512" class="Function">0ℓ</a>
<a id="8409" href="Data.Rational.Unnormalised.Base.html#8373" class="Function">+-*-rawSemiring</a> <a id="8425" class="Symbol">=</a> <a id="8427" class="Keyword">record</a>
  <a id="8436" class="Symbol">{</a> <a id="8438" href="Algebra.Bundles.Raw.html#3024" class="Field">Carrier</a> <a id="8446" class="Symbol">=</a> <a id="8448" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
  <a id="8453" class="Symbol">;</a> <a id="8455" href="Algebra.Bundles.Raw.html#3044" class="Field Operator">_≈_</a> <a id="8459" class="Symbol">=</a> <a id="8461" href="Data.Rational.Unnormalised.Base.html#2094" class="Datatype Operator">_≃_</a>
  <a id="8467" class="Symbol">;</a> <a id="8469" href="Algebra.Bundles.Raw.html#3072" class="Field Operator">_+_</a> <a id="8473" class="Symbol">=</a> <a id="8475" href="Data.Rational.Unnormalised.Base.html#6270" class="Function Operator">_+_</a>
  <a id="8481" class="Symbol">;</a> <a id="8483" href="Algebra.Bundles.Raw.html#3098" class="Field Operator">_*_</a> <a id="8487" class="Symbol">=</a> <a id="8489" href="Data.Rational.Unnormalised.Base.html#6383" class="Function Operator">_*_</a>
  <a id="8495" class="Symbol">;</a> <a id="8497" href="Algebra.Bundles.Raw.html#3124" class="Field">0#</a> <a id="8500" class="Symbol">=</a> <a id="8502" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a>
  <a id="8508" class="Symbol">;</a> <a id="8510" href="Algebra.Bundles.Raw.html#3146" class="Field">1#</a> <a id="8513" class="Symbol">=</a> <a id="8515" href="Data.Rational.Unnormalised.Base.html#3317" class="Function">1ℚᵘ</a>
  <a id="8521" class="Symbol">}</a>

<a id="+-*-rawRing"></a><a id="8524" href="Data.Rational.Unnormalised.Base.html#8524" class="Function">+-*-rawRing</a> <a id="8536" class="Symbol">:</a> <a id="8538" href="Algebra.Bundles.Raw.html#4646" class="Record">RawRing</a> <a id="8546" href="Level.html#512" class="Function">0ℓ</a> <a id="8549" href="Level.html#512" class="Function">0ℓ</a>
<a id="8552" href="Data.Rational.Unnormalised.Base.html#8524" class="Function">+-*-rawRing</a> <a id="8564" class="Symbol">=</a> <a id="8566" class="Keyword">record</a>
  <a id="8575" class="Symbol">{</a> <a id="8577" href="Algebra.Bundles.Raw.html#4755" class="Field">Carrier</a> <a id="8585" class="Symbol">=</a> <a id="8587" href="Data.Rational.Unnormalised.Base.html#1380" class="Record">ℚᵘ</a>
  <a id="8592" class="Symbol">;</a> <a id="8594" href="Algebra.Bundles.Raw.html#4775" class="Field Operator">_≈_</a> <a id="8598" class="Symbol">=</a> <a id="8600" href="Data.Rational.Unnormalised.Base.html#2094" class="Datatype Operator">_≃_</a>
  <a id="8606" class="Symbol">;</a> <a id="8608" href="Algebra.Bundles.Raw.html#4803" class="Field Operator">_+_</a> <a id="8612" class="Symbol">=</a> <a id="8614" href="Data.Rational.Unnormalised.Base.html#6270" class="Function Operator">_+_</a>
  <a id="8620" class="Symbol">;</a> <a id="8622" href="Algebra.Bundles.Raw.html#4829" class="Field Operator">_*_</a> <a id="8626" class="Symbol">=</a> <a id="8628" href="Data.Rational.Unnormalised.Base.html#6383" class="Function Operator">_*_</a>
  <a id="8634" class="Symbol">;</a> <a id="8636" href="Algebra.Bundles.Raw.html#4855" class="Field Operator">-_</a> <a id="8639" class="Symbol">=</a> <a id="8641" href="Data.Rational.Unnormalised.Base.html#6215" class="Function Operator">-_</a>
  <a id="8646" class="Symbol">;</a> <a id="8648" href="Algebra.Bundles.Raw.html#4881" class="Field">0#</a> <a id="8651" class="Symbol">=</a> <a id="8653" href="Data.Rational.Unnormalised.Base.html#3293" class="Function">0ℚᵘ</a>
  <a id="8659" class="Symbol">;</a> <a id="8661" href="Algebra.Bundles.Raw.html#4903" class="Field">1#</a> <a id="8664" class="Symbol">=</a> <a id="8666" href="Data.Rational.Unnormalised.Base.html#3317" class="Function">1ℚᵘ</a>
  <a id="8672" class="Symbol">}</a>

<a id="8675" class="Comment">------------------------------------------------------------------------</a>
<a id="8748" class="Comment">-- Raw bundles for _*_</a>

<a id="*-rawMagma"></a><a id="8772" href="Data.Rational.Unnormalised.Base.html#8772" class="Function">*-rawMagma</a> <a id="8783" class="Symbol">:</a> <a id="8785" href="Algebra.Bundles.Raw.html#635" class="Record">RawMagma</a> <a id="8794" href="Level.html#512" class="Function">0ℓ</a> <a id="8797" href="Level.html#512" class="Function">0ℓ</a>
<a id="8800" href="Data.Rational.Unnormalised.Base.html#8772" class="Function">*-rawMagma</a> <a id="8811" class="Symbol">=</a> <a id="8813" class="Keyword">record</a>
  <a id="8822" class="Symbol">{</a> <a id="8824" href="Algebra.Bundles.Raw.html#736" class="Field Operator">_≈_</a> <a id="8828" class="Symbol">=</a> <a id="8830" href="Data.Rational.Unnormalised.Base.html#2094" class="Datatype Operator">_≃_</a>
  <a id="8836" class="Symbol">;</a> <a id="8838" href="Algebra.Bundles.Raw.html#764" class="Field Operator">_∙_</a> <a id="8842" class="Symbol">=</a> <a id="8844" href="Data.Rational.Unnormalised.Base.html#6383" class="Function Operator">_*_</a>
  <a id="8850" class="Symbol">}</a>

<a id="*-1-rawMonoid"></a><a id="8853" href="Data.Rational.Unnormalised.Base.html#8853" class="Function">*-1-rawMonoid</a> <a id="8867" class="Symbol">:</a> <a id="8869" href="Algebra.Bundles.Raw.html#1096" class="Record">RawMonoid</a> <a id="8879" href="Level.html#512" class="Function">0ℓ</a> <a id="8882" href="Level.html#512" class="Function">0ℓ</a>
<a id="8885" href="Data.Rational.Unnormalised.Base.html#8853" class="Function">*-1-rawMonoid</a> <a id="8899" class="Symbol">=</a> <a id="8901" class="Keyword">record</a>
  <a id="8910" class="Symbol">{</a> <a id="8912" href="Algebra.Bundles.Raw.html#1198" class="Field Operator">_≈_</a> <a id="8916" class="Symbol">=</a> <a id="8918" href="Data.Rational.Unnormalised.Base.html#2094" class="Datatype Operator">_≃_</a>
  <a id="8924" class="Symbol">;</a> <a id="8926" href="Algebra.Bundles.Raw.html#1226" class="Field Operator">_∙_</a> <a id="8930" class="Symbol">=</a> <a id="8932" href="Data.Rational.Unnormalised.Base.html#6383" class="Function Operator">_*_</a>
  <a id="8938" class="Symbol">;</a> <a id="8940" href="Algebra.Bundles.Raw.html#1252" class="Field">ε</a>   <a id="8944" class="Symbol">=</a> <a id="8946" href="Data.Rational.Unnormalised.Base.html#3317" class="Function">1ℚᵘ</a>
  <a id="8952" class="Symbol">}</a>

<a id="8955" class="Comment">------------------------------------------------------------------------</a>
<a id="9028" class="Comment">-- DEPRECATED NAMES</a>
<a id="9048" class="Comment">------------------------------------------------------------------------</a>
<a id="9121" class="Comment">-- Please use the new names as continuing support for the old names is</a>
<a id="9192" class="Comment">-- not guaranteed.</a>

<a id="9212" class="Comment">-- Version 2.0</a>

<a id="+-rawMonoid"></a><a id="9228" href="Data.Rational.Unnormalised.Base.html#9228" class="Function">+-rawMonoid</a> <a id="9240" class="Symbol">=</a> <a id="9242" href="Data.Rational.Unnormalised.Base.html#7994" class="Function">+-0-rawMonoid</a>
<a id="9256" class="Symbol">{-#</a> <a id="9260" class="Keyword">WARNING_ON_USAGE</a> <a id="9277" class="Pragma">+-rawMonoid</a>
<a id="9289" class="String">&quot;Warning: +-rawMonoid was deprecated in v2.0
Please use +-0-rawMonoid instead.&quot;</a>
<a id="9369" class="Symbol">#-}</a>
<a id="*-rawMonoid"></a><a id="9373" href="Data.Rational.Unnormalised.Base.html#9373" class="Function">*-rawMonoid</a> <a id="9385" class="Symbol">=</a> <a id="9387" href="Data.Rational.Unnormalised.Base.html#8853" class="Function">*-1-rawMonoid</a>
<a id="9401" class="Symbol">{-#</a> <a id="9405" class="Keyword">WARNING_ON_USAGE</a> <a id="9422" class="Pragma">*-rawMonoid</a>
<a id="9434" class="String">&quot;Warning: *-rawMonoid was deprecated in v2.0
Please use *-1-rawMonoid instead.&quot;</a>
<a id="9514" class="Symbol">#-}</a>
</pre></body></html>