<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Cofin</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- &quot;Finite&quot; sets indexed on coinductive &quot;natural&quot; numbers</a>
<a id="164" class="Comment">------------------------------------------------------------------------</a>

<a id="238" class="Symbol">{-#</a> <a id="242" class="Keyword">OPTIONS</a> <a id="250" class="Pragma">--without-K</a> <a id="262" class="Pragma">--safe</a> <a id="269" class="Pragma">--sized-types</a> <a id="283" class="Symbol">#-}</a>

<a id="288" class="Keyword">module</a> <a id="295" href="Codata.Cofin.html" class="Module">Codata.Cofin</a> <a id="308" class="Keyword">where</a>

<a id="315" class="Keyword">open</a> <a id="320" class="Keyword">import</a> <a id="327" href="Size.html" class="Module">Size</a>
<a id="332" class="Keyword">open</a> <a id="337" class="Keyword">import</a> <a id="344" href="Codata.Thunk.html" class="Module">Codata.Thunk</a>
<a id="357" class="Keyword">open</a> <a id="362" class="Keyword">import</a> <a id="369" href="Codata.Conat.html" class="Module">Codata.Conat</a> <a id="382" class="Symbol">as</a> <a id="385" class="Module">Conat</a>
  <a id="393" class="Keyword">using</a> <a id="399" class="Symbol">(</a><a id="400" href="Codata.Conat.html#527" class="Datatype">Conat</a><a id="405" class="Symbol">;</a> <a id="407" href="Codata.Conat.html#558" class="InductiveConstructor">zero</a><a id="411" class="Symbol">;</a> <a id="413" href="Codata.Conat.html#575" class="InductiveConstructor">suc</a><a id="416" class="Symbol">;</a> <a id="418" href="Codata.Conat.html#606" class="Function">infinity</a><a id="426" class="Symbol">;</a> <a id="428" href="Codata.Conat.html#2370" class="Function Operator">_ℕ&lt;_</a><a id="432" class="Symbol">;</a> <a id="434" href="Codata.Conat.html#2321" class="InductiveConstructor">sℕ≤s</a><a id="438" class="Symbol">;</a> <a id="440" href="Codata.Conat.html#2416" class="Function Operator">_ℕ≤infinity</a><a id="451" class="Symbol">)</a>
<a id="453" class="Keyword">open</a> <a id="458" class="Keyword">import</a> <a id="465" href="Codata.Conat.Bisimilarity.html" class="Module">Codata.Conat.Bisimilarity</a> <a id="491" class="Symbol">as</a> <a id="494" class="Module">Bisim</a> <a id="500" class="Keyword">using</a> <a id="506" class="Symbol">(</a><a id="507" href="Codata.Conat.Bisimilarity.html#1280" class="Datatype Operator">_⊢_≲_</a> <a id="513" class="Symbol">;</a> <a id="515" href="Codata.Conat.Bisimilarity.html#1349" class="InductiveConstructor">s≲s</a><a id="518" class="Symbol">)</a>
<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="546" class="Keyword">open</a> <a id="551" class="Keyword">import</a> <a id="558" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="572" class="Symbol">as</a> <a id="575" class="Module">Fin</a> <a id="579" class="Keyword">hiding</a> <a id="586" class="Symbol">(</a><a id="587" href="Data.Fin.Base.html#1807" class="Function">fromℕ</a><a id="592" class="Symbol">;</a> <a id="594" href="Data.Fin.Base.html#7220" class="Function">fromℕ≤</a><a id="600" class="Symbol">;</a> <a id="602" href="Data.Fin.Base.html#1913" class="Function">fromℕ&lt;</a><a id="608" class="Symbol">;</a> <a id="610" href="Data.Fin.Base.html#1192" class="Function">toℕ</a><a id="613" class="Symbol">)</a>
<a id="615" class="Keyword">open</a> <a id="620" class="Keyword">import</a> <a id="627" href="Function.html" class="Module">Function</a>
<a id="636" class="Keyword">open</a> <a id="641" class="Keyword">import</a> <a id="648" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="687" class="Comment">------------------------------------------------------------------------</a>
<a id="760" class="Comment">-- The type</a>

<a id="773" class="Comment">-- Note that `Cofin infnity` is /not/ finite. Note also that this is not a</a>
<a id="848" class="Comment">-- coinductive type, but it is indexed on a coinductive type.</a>

<a id="911" class="Keyword">data</a> <a id="Cofin"></a><a id="916" href="Codata.Cofin.html#916" class="Datatype">Cofin</a> <a id="922" class="Symbol">:</a> <a id="924" href="Codata.Conat.html#527" class="Datatype">Conat</a> <a id="930" href="Agda.Builtin.Size.html#302" class="Postulate">∞</a> <a id="932" class="Symbol">→</a> <a id="934" class="PrimitiveType">Set</a> <a id="938" class="Keyword">where</a>
  <a id="Cofin.zero"></a><a id="946" href="Codata.Cofin.html#946" class="InductiveConstructor">zero</a> <a id="951" class="Symbol">:</a> <a id="953" class="Symbol">∀</a> <a id="955" class="Symbol">{</a><a id="956" href="Codata.Cofin.html#956" class="Bound">n</a><a id="957" class="Symbol">}</a> <a id="959" class="Symbol">→</a> <a id="961" href="Codata.Cofin.html#916" class="Datatype">Cofin</a> <a id="967" class="Symbol">(</a><a id="968" href="Codata.Conat.html#575" class="InductiveConstructor">suc</a> <a id="972" href="Codata.Cofin.html#956" class="Bound">n</a><a id="973" class="Symbol">)</a>
  <a id="Cofin.suc"></a><a id="977" href="Codata.Cofin.html#977" class="InductiveConstructor">suc</a>  <a id="982" class="Symbol">:</a> <a id="984" class="Symbol">∀</a> <a id="986" class="Symbol">{</a><a id="987" href="Codata.Cofin.html#987" class="Bound">n</a><a id="988" class="Symbol">}</a> <a id="990" class="Symbol">→</a> <a id="992" href="Codata.Cofin.html#916" class="Datatype">Cofin</a> <a id="998" class="Symbol">(</a><a id="999" href="Codata.Cofin.html#987" class="Bound">n</a> <a id="1001" class="Symbol">.</a><a id="1002" href="Codata.Thunk.html#544" class="Field">force</a><a id="1007" class="Symbol">)</a> <a id="1009" class="Symbol">→</a> <a id="1011" href="Codata.Cofin.html#916" class="Datatype">Cofin</a> <a id="1017" class="Symbol">(</a><a id="1018" href="Codata.Conat.html#575" class="InductiveConstructor">suc</a> <a id="1022" href="Codata.Cofin.html#987" class="Bound">n</a><a id="1023" class="Symbol">)</a>

<a id="suc-injective"></a><a id="1026" href="Codata.Cofin.html#1026" class="Function">suc-injective</a> <a id="1040" class="Symbol">:</a> <a id="1042" class="Symbol">∀</a> <a id="1044" class="Symbol">{</a><a id="1045" href="Codata.Cofin.html#1045" class="Bound">n</a><a id="1046" class="Symbol">}</a> <a id="1048" class="Symbol">{</a><a id="1049" href="Codata.Cofin.html#1049" class="Bound">p</a> <a id="1051" href="Codata.Cofin.html#1051" class="Bound">q</a> <a id="1053" class="Symbol">:</a> <a id="1055" href="Codata.Cofin.html#916" class="Datatype">Cofin</a> <a id="1061" class="Symbol">(</a><a id="1062" href="Codata.Cofin.html#1045" class="Bound">n</a> <a id="1064" class="Symbol">.</a><a id="1065" href="Codata.Thunk.html#544" class="Field">force</a><a id="1070" class="Symbol">)}</a> <a id="1073" class="Symbol">→</a>
                <a id="1091" class="Symbol">(</a><a id="1092" href="Codata.Cofin.html#916" class="Datatype">Cofin</a> <a id="1098" class="Symbol">(</a><a id="1099" href="Codata.Conat.html#575" class="InductiveConstructor">suc</a> <a id="1103" href="Codata.Cofin.html#1045" class="Bound">n</a><a id="1104" class="Symbol">)</a> <a id="1106" href="Function.Base.html#4269" class="Function Operator">∋</a> <a id="1108" href="Codata.Cofin.html#977" class="InductiveConstructor">suc</a> <a id="1112" href="Codata.Cofin.html#1049" class="Bound">p</a><a id="1113" class="Symbol">)</a> <a id="1115" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1117" href="Codata.Cofin.html#977" class="InductiveConstructor">suc</a> <a id="1121" href="Codata.Cofin.html#1051" class="Bound">q</a> <a id="1123" class="Symbol">→</a> <a id="1125" href="Codata.Cofin.html#1049" class="Bound">p</a> <a id="1127" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1129" href="Codata.Cofin.html#1051" class="Bound">q</a>
<a id="1131" href="Codata.Cofin.html#1026" class="Function">suc-injective</a> <a id="1145" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1150" class="Symbol">=</a> <a id="1152" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="1158" class="Comment">------------------------------------------------------------------------</a>
<a id="1231" class="Comment">-- Some operations</a>

<a id="fromℕ&lt;"></a><a id="1251" href="Codata.Cofin.html#1251" class="Function">fromℕ&lt;</a> <a id="1258" class="Symbol">:</a> <a id="1260" class="Symbol">∀</a> <a id="1262" class="Symbol">{</a><a id="1263" href="Codata.Cofin.html#1263" class="Bound">n</a> <a id="1265" href="Codata.Cofin.html#1265" class="Bound">k</a><a id="1266" class="Symbol">}</a> <a id="1268" class="Symbol">→</a> <a id="1270" href="Codata.Cofin.html#1265" class="Bound">k</a> <a id="1272" href="Codata.Conat.html#2370" class="Function Operator">ℕ&lt;</a> <a id="1275" href="Codata.Cofin.html#1263" class="Bound">n</a> <a id="1277" class="Symbol">→</a> <a id="1279" href="Codata.Cofin.html#916" class="Datatype">Cofin</a> <a id="1285" href="Codata.Cofin.html#1263" class="Bound">n</a>
<a id="1287" href="Codata.Cofin.html#1251" class="Function">fromℕ&lt;</a> <a id="1294" class="Symbol">{</a><a id="1295" href="Codata.Conat.html#558" class="InductiveConstructor">zero</a><a id="1299" class="Symbol">}</a>  <a id="1302" class="Symbol">()</a>
<a id="1305" href="Codata.Cofin.html#1251" class="Function">fromℕ&lt;</a> <a id="1312" class="Symbol">{</a><a id="1313" href="Codata.Conat.html#575" class="InductiveConstructor">suc</a> <a id="1317" href="Codata.Cofin.html#1317" class="Bound">n</a><a id="1318" class="Symbol">}</a> <a id="1320" class="Symbol">{</a><a id="1321" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="1325" class="Symbol">}</a>  <a id="1328" class="Symbol">(</a><a id="1329" href="Codata.Conat.html#2321" class="InductiveConstructor">sℕ≤s</a> <a id="1334" href="Codata.Cofin.html#1334" class="Bound">p</a><a id="1335" class="Symbol">)</a> <a id="1337" class="Symbol">=</a> <a id="1339" href="Codata.Cofin.html#946" class="InductiveConstructor">zero</a>
<a id="1344" href="Codata.Cofin.html#1251" class="Function">fromℕ&lt;</a> <a id="1351" class="Symbol">{</a><a id="1352" href="Codata.Conat.html#575" class="InductiveConstructor">suc</a> <a id="1356" href="Codata.Cofin.html#1356" class="Bound">n</a><a id="1357" class="Symbol">}</a> <a id="1359" class="Symbol">{</a><a id="1360" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1364" href="Codata.Cofin.html#1364" class="Bound">k</a><a id="1365" class="Symbol">}</a> <a id="1367" class="Symbol">(</a><a id="1368" href="Codata.Conat.html#2321" class="InductiveConstructor">sℕ≤s</a> <a id="1373" href="Codata.Cofin.html#1373" class="Bound">p</a><a id="1374" class="Symbol">)</a> <a id="1376" class="Symbol">=</a> <a id="1378" href="Codata.Cofin.html#977" class="InductiveConstructor">suc</a> <a id="1382" class="Symbol">(</a><a id="1383" href="Codata.Cofin.html#1251" class="Function">fromℕ&lt;</a> <a id="1390" href="Codata.Cofin.html#1373" class="Bound">p</a><a id="1391" class="Symbol">)</a>

<a id="fromℕ"></a><a id="1394" href="Codata.Cofin.html#1394" class="Function">fromℕ</a> <a id="1400" class="Symbol">:</a> <a id="1402" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1404" class="Symbol">→</a> <a id="1406" href="Codata.Cofin.html#916" class="Datatype">Cofin</a> <a id="1412" href="Codata.Conat.html#606" class="Function">infinity</a>
<a id="1421" href="Codata.Cofin.html#1394" class="Function">fromℕ</a> <a id="1427" href="Codata.Cofin.html#1427" class="Bound">k</a> <a id="1429" class="Symbol">=</a> <a id="1431" href="Codata.Cofin.html#1251" class="Function">fromℕ&lt;</a> <a id="1438" class="Symbol">(</a><a id="1439" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1443" href="Codata.Cofin.html#1427" class="Bound">k</a> <a id="1445" href="Codata.Conat.html#2416" class="Function Operator">ℕ≤infinity</a><a id="1455" class="Symbol">)</a>

<a id="toℕ"></a><a id="1458" href="Codata.Cofin.html#1458" class="Function">toℕ</a> <a id="1462" class="Symbol">:</a> <a id="1464" class="Symbol">∀</a> <a id="1466" class="Symbol">{</a><a id="1467" href="Codata.Cofin.html#1467" class="Bound">n</a><a id="1468" class="Symbol">}</a> <a id="1470" class="Symbol">→</a> <a id="1472" href="Codata.Cofin.html#916" class="Datatype">Cofin</a> <a id="1478" href="Codata.Cofin.html#1467" class="Bound">n</a> <a id="1480" class="Symbol">→</a> <a id="1482" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="1484" href="Codata.Cofin.html#1458" class="Function">toℕ</a> <a id="1488" href="Codata.Cofin.html#946" class="InductiveConstructor">zero</a>    <a id="1496" class="Symbol">=</a> <a id="1498" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>
<a id="1503" href="Codata.Cofin.html#1458" class="Function">toℕ</a> <a id="1507" class="Symbol">(</a><a id="1508" href="Codata.Cofin.html#977" class="InductiveConstructor">suc</a> <a id="1512" href="Codata.Cofin.html#1512" class="Bound">i</a><a id="1513" class="Symbol">)</a> <a id="1515" class="Symbol">=</a> <a id="1517" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1521" class="Symbol">(</a><a id="1522" href="Codata.Cofin.html#1458" class="Function">toℕ</a> <a id="1526" href="Codata.Cofin.html#1512" class="Bound">i</a><a id="1527" class="Symbol">)</a>

<a id="fromFin"></a><a id="1530" href="Codata.Cofin.html#1530" class="Function">fromFin</a> <a id="1538" class="Symbol">:</a> <a id="1540" class="Symbol">∀</a> <a id="1542" class="Symbol">{</a><a id="1543" href="Codata.Cofin.html#1543" class="Bound">n</a><a id="1544" class="Symbol">}</a> <a id="1546" class="Symbol">→</a> <a id="1548" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a> <a id="1552" href="Codata.Cofin.html#1543" class="Bound">n</a> <a id="1554" class="Symbol">→</a> <a id="1556" href="Codata.Cofin.html#916" class="Datatype">Cofin</a> <a id="1562" class="Symbol">(</a><a id="1563" href="Codata.Conat.html#675" class="Function">Conat.fromℕ</a> <a id="1575" href="Codata.Cofin.html#1543" class="Bound">n</a><a id="1576" class="Symbol">)</a>
<a id="1578" href="Codata.Cofin.html#1530" class="Function">fromFin</a> <a id="1586" href="Data.Fin.Base.html#1088" class="InductiveConstructor">zero</a>    <a id="1594" class="Symbol">=</a> <a id="1596" href="Codata.Cofin.html#946" class="InductiveConstructor">zero</a>
<a id="1601" href="Codata.Cofin.html#1530" class="Function">fromFin</a> <a id="1609" class="Symbol">(</a><a id="1610" href="Data.Fin.Base.html#1119" class="InductiveConstructor">suc</a> <a id="1614" href="Codata.Cofin.html#1614" class="Bound">i</a><a id="1615" class="Symbol">)</a> <a id="1617" class="Symbol">=</a> <a id="1619" href="Codata.Cofin.html#977" class="InductiveConstructor">suc</a> <a id="1623" class="Symbol">(</a><a id="1624" href="Codata.Cofin.html#1530" class="Function">fromFin</a> <a id="1632" href="Codata.Cofin.html#1614" class="Bound">i</a><a id="1633" class="Symbol">)</a>

<a id="toFin"></a><a id="1636" href="Codata.Cofin.html#1636" class="Function">toFin</a> <a id="1642" class="Symbol">:</a> <a id="1644" class="Symbol">∀</a> <a id="1646" href="Codata.Cofin.html#1646" class="Bound">n</a> <a id="1648" class="Symbol">→</a> <a id="1650" href="Codata.Cofin.html#916" class="Datatype">Cofin</a> <a id="1656" class="Symbol">(</a><a id="1657" href="Codata.Conat.html#675" class="Function">Conat.fromℕ</a> <a id="1669" href="Codata.Cofin.html#1646" class="Bound">n</a><a id="1670" class="Symbol">)</a> <a id="1672" class="Symbol">→</a> <a id="1674" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a> <a id="1678" href="Codata.Cofin.html#1646" class="Bound">n</a>
<a id="1680" href="Codata.Cofin.html#1636" class="Function">toFin</a> <a id="1686" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="1694" class="Symbol">()</a>
<a id="1697" href="Codata.Cofin.html#1636" class="Function">toFin</a> <a id="1703" class="Symbol">(</a><a id="1704" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1708" href="Codata.Cofin.html#1708" class="Bound">n</a><a id="1709" class="Symbol">)</a> <a id="1711" href="Codata.Cofin.html#946" class="InductiveConstructor">zero</a>    <a id="1719" class="Symbol">=</a> <a id="1721" href="Data.Fin.Base.html#1088" class="InductiveConstructor">zero</a>
<a id="1726" href="Codata.Cofin.html#1636" class="Function">toFin</a> <a id="1732" class="Symbol">(</a><a id="1733" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1737" href="Codata.Cofin.html#1737" class="Bound">n</a><a id="1738" class="Symbol">)</a> <a id="1740" class="Symbol">(</a><a id="1741" href="Codata.Cofin.html#977" class="InductiveConstructor">suc</a> <a id="1745" href="Codata.Cofin.html#1745" class="Bound">i</a><a id="1746" class="Symbol">)</a> <a id="1748" class="Symbol">=</a> <a id="1750" href="Data.Fin.Base.html#1119" class="InductiveConstructor">suc</a> <a id="1754" class="Symbol">(</a><a id="1755" href="Codata.Cofin.html#1636" class="Function">toFin</a> <a id="1761" href="Codata.Cofin.html#1737" class="Bound">n</a> <a id="1763" href="Codata.Cofin.html#1745" class="Bound">i</a><a id="1764" class="Symbol">)</a>
</pre></body></html>