<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.Primality</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Primality</a>
<a id="119" class="Comment">------------------------------------------------------------------------</a>

<a id="193" class="Symbol">{-#</a> <a id="197" class="Keyword">OPTIONS</a> <a id="205" class="Pragma">--without-K</a> <a id="217" class="Pragma">--safe</a> <a id="224" class="Symbol">#-}</a>

<a id="229" class="Keyword">module</a> <a id="236" href="Data.Nat.Primality.html" class="Module">Data.Nat.Primality</a> <a id="255" class="Keyword">where</a>

<a id="262" class="Keyword">open</a> <a id="267" class="Keyword">import</a> <a id="274" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="285" class="Keyword">using</a> <a id="291" class="Symbol">(</a><a id="292" href="Data.Empty.html#526" class="Datatype">⊥</a><a id="293" class="Symbol">)</a>
<a id="295" class="Keyword">open</a> <a id="300" class="Keyword">import</a> <a id="307" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="321" class="Keyword">using</a> <a id="327" class="Symbol">(</a><a id="328" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a><a id="331" class="Symbol">;</a> <a id="333" href="Data.Fin.Base.html#1192" class="Function">toℕ</a><a id="336" class="Symbol">)</a>
<a id="338" class="Keyword">open</a> <a id="343" class="Keyword">import</a> <a id="350" href="Data.Fin.Properties.html" class="Module">Data.Fin.Properties</a> <a id="370" class="Keyword">using</a> <a id="376" class="Symbol">(</a><a id="377" href="Data.Fin.Properties.html#21907" class="Function">all?</a><a id="381" class="Symbol">)</a>
<a id="383" class="Keyword">open</a> <a id="388" class="Keyword">import</a> <a id="395" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="409" class="Keyword">using</a> <a id="415" class="Symbol">(</a><a id="416" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="417" class="Symbol">;</a> <a id="419" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="422" class="Symbol">;</a> <a id="424" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="427" class="Symbol">)</a>
<a id="429" class="Keyword">open</a> <a id="434" class="Keyword">import</a> <a id="441" href="Data.Nat.Divisibility.html" class="Module">Data.Nat.Divisibility</a> <a id="463" class="Keyword">using</a> <a id="469" class="Symbol">(</a><a id="470" href="Data.Nat.Divisibility.Core.html#1249" class="Function Operator">_∤_</a><a id="473" class="Symbol">;</a> <a id="475" href="Data.Nat.Divisibility.html#2708" class="Function Operator">_∣?_</a><a id="479" class="Symbol">)</a>
<a id="481" class="Keyword">open</a> <a id="486" class="Keyword">import</a> <a id="493" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="510" class="Keyword">using</a> <a id="516" class="Symbol">(</a><a id="517" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a><a id="520" class="Symbol">;</a> <a id="522" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a><a id="524" class="Symbol">)</a>
<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="565" class="Keyword">using</a> <a id="571" class="Symbol">(</a><a id="572" href="Relation.Nullary.Decidable.Core.html#2352" class="Function">from-yes</a><a id="580" class="Symbol">)</a>
<a id="582" class="Keyword">open</a> <a id="587" class="Keyword">import</a> <a id="594" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="620" class="Keyword">using</a> <a id="626" class="Symbol">(</a><a id="627" href="Relation.Nullary.Negation.html#1286" class="Function">¬?</a><a id="629" class="Symbol">)</a>
<a id="631" class="Keyword">open</a> <a id="636" class="Keyword">import</a> <a id="643" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="658" class="Keyword">using</a> <a id="664" class="Symbol">(</a><a id="665" href="Relation.Unary.html#3536" class="Function">Decidable</a><a id="674" class="Symbol">)</a>

<a id="677" class="Comment">-- Definition of primality.</a>

<a id="Prime"></a><a id="706" href="Data.Nat.Primality.html#706" class="Function">Prime</a> <a id="712" class="Symbol">:</a> <a id="714" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="716" class="Symbol">→</a> <a id="718" class="PrimitiveType">Set</a>
<a id="722" href="Data.Nat.Primality.html#706" class="Function">Prime</a> <a id="728" class="Number">0</a>             <a id="742" class="Symbol">=</a> <a id="744" href="Data.Empty.html#526" class="Datatype">⊥</a>
<a id="746" href="Data.Nat.Primality.html#706" class="Function">Prime</a> <a id="752" class="Number">1</a>             <a id="766" class="Symbol">=</a> <a id="768" href="Data.Empty.html#526" class="Datatype">⊥</a>
<a id="770" href="Data.Nat.Primality.html#706" class="Function">Prime</a> <a id="776" class="Symbol">(</a><a id="777" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="781" class="Symbol">(</a><a id="782" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="786" href="Data.Nat.Primality.html#786" class="Bound">n</a><a id="787" class="Symbol">))</a> <a id="790" class="Symbol">=</a> <a id="792" class="Symbol">(</a><a id="793" href="Data.Nat.Primality.html#793" class="Bound">i</a> <a id="795" class="Symbol">:</a> <a id="797" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a> <a id="801" href="Data.Nat.Primality.html#786" class="Bound">n</a><a id="802" class="Symbol">)</a> <a id="804" class="Symbol">→</a> <a id="806" class="Number">2</a> <a id="808" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="810" href="Data.Fin.Base.html#1192" class="Function">toℕ</a> <a id="814" href="Data.Nat.Primality.html#793" class="Bound">i</a> <a id="816" href="Data.Nat.Divisibility.Core.html#1249" class="Function Operator">∤</a> <a id="818" class="Number">2</a> <a id="820" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="822" href="Data.Nat.Primality.html#786" class="Bound">n</a>

<a id="825" class="Comment">-- Decision procedure for primality.</a>

<a id="prime?"></a><a id="863" href="Data.Nat.Primality.html#863" class="Function">prime?</a> <a id="870" class="Symbol">:</a> <a id="872" href="Relation.Unary.html#3536" class="Function">Decidable</a> <a id="882" href="Data.Nat.Primality.html#706" class="Function">Prime</a>
<a id="888" href="Data.Nat.Primality.html#863" class="Function">prime?</a> <a id="895" class="Number">0</a>             <a id="909" class="Symbol">=</a> <a id="911" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="914" class="Symbol">λ()</a>
<a id="918" href="Data.Nat.Primality.html#863" class="Function">prime?</a> <a id="925" class="Number">1</a>             <a id="939" class="Symbol">=</a> <a id="941" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="944" class="Symbol">λ()</a>
<a id="948" href="Data.Nat.Primality.html#863" class="Function">prime?</a> <a id="955" class="Symbol">(</a><a id="956" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="960" class="Symbol">(</a><a id="961" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="965" href="Data.Nat.Primality.html#965" class="Bound">n</a><a id="966" class="Symbol">))</a> <a id="969" class="Symbol">=</a> <a id="971" href="Data.Fin.Properties.html#21907" class="Function">all?</a> <a id="976" class="Symbol">(λ</a> <a id="979" href="Data.Nat.Primality.html#979" class="Bound">_</a> <a id="981" class="Symbol">→</a> <a id="983" href="Relation.Nullary.Negation.html#1286" class="Function">¬?</a> <a id="986" class="Symbol">(_</a> <a id="989" href="Data.Nat.Divisibility.html#2708" class="Function Operator">∣?</a> <a id="992" class="Symbol">_))</a>

<a id="997" class="Keyword">private</a>

  <a id="1008" class="Comment">-- Example: 2 is prime.</a>

  <a id="2-is-prime"></a><a id="1035" href="Data.Nat.Primality.html#1035" class="Function">2-is-prime</a> <a id="1046" class="Symbol">:</a> <a id="1048" href="Data.Nat.Primality.html#706" class="Function">Prime</a> <a id="1054" class="Number">2</a>
  <a id="1058" href="Data.Nat.Primality.html#1035" class="Function">2-is-prime</a> <a id="1069" class="Symbol">=</a> <a id="1071" href="Relation.Nullary.Decidable.Core.html#2352" class="Function">from-yes</a> <a id="1080" class="Symbol">(</a><a id="1081" href="Data.Nat.Primality.html#863" class="Function">prime?</a> <a id="1088" class="Number">2</a><a id="1089" class="Symbol">)</a>
</pre></body></html>