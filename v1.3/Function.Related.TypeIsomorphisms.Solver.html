<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Function.Related.TypeIsomorphisms.Solver</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Automatic solver for equations over product and sum types</a>
<a id="167" class="Comment">--</a>
<a id="170" class="Comment">-- See examples at the bottom of the file for how to use this solver</a>
<a id="239" class="Comment">------------------------------------------------------------------------</a>

<a id="313" class="Symbol">{-#</a> <a id="317" class="Keyword">OPTIONS</a> <a id="325" class="Pragma">--without-K</a> <a id="337" class="Pragma">--safe</a> <a id="344" class="Symbol">#-}</a>

<a id="349" class="Keyword">module</a> <a id="356" href="Function.Related.TypeIsomorphisms.Solver.html" class="Module">Function.Related.TypeIsomorphisms.Solver</a> <a id="397" class="Keyword">where</a>

<a id="404" class="Keyword">open</a> <a id="409" class="Keyword">import</a> <a id="416" href="Algebra.html" class="Module">Algebra</a> <a id="424" class="Keyword">using</a> <a id="430" class="Symbol">(</a><a id="431" href="Algebra.Bundles.html#14143" class="Record">CommutativeSemiring</a><a id="450" class="Symbol">)</a>
<a id="452" class="Keyword">import</a> <a id="459" href="Algebra.Solver.Ring.NaturalCoefficients.Default.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients.Default</a>
<a id="507" class="Keyword">open</a> <a id="512" class="Keyword">import</a> <a id="519" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="530" class="Keyword">using</a> <a id="536" class="Symbol">(</a><a id="537" href="Data.Empty.html#526" class="Datatype">⊥</a><a id="538" class="Symbol">)</a>
<a id="540" class="Keyword">open</a> <a id="545" class="Keyword">import</a> <a id="552" href="Data.Product.html" class="Module">Data.Product</a> <a id="565" class="Keyword">using</a> <a id="571" class="Symbol">(</a><a id="572" href="Data.Product.html#1167" class="Function Operator">_×_</a><a id="575" class="Symbol">)</a>
<a id="577" class="Keyword">open</a> <a id="582" class="Keyword">import</a> <a id="589" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a> <a id="603" class="Keyword">using</a> <a id="609" class="Symbol">(</a><a id="610" href="Data.Sum.Base.html#728" class="Datatype Operator">_⊎_</a><a id="613" class="Symbol">)</a>
<a id="615" class="Keyword">open</a> <a id="620" class="Keyword">import</a> <a id="627" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="637" class="Keyword">using</a> <a id="643" class="Symbol">(</a><a id="644" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="645" class="Symbol">)</a>
<a id="647" class="Keyword">open</a> <a id="652" class="Keyword">import</a> <a id="659" href="Level.html" class="Module">Level</a> <a id="665" class="Keyword">using</a> <a id="671" class="Symbol">(</a><a id="672" href="Agda.Primitive.html#423" class="Postulate">Level</a><a id="677" class="Symbol">;</a> <a id="679" href="Level.html#400" class="Record">Lift</a><a id="683" class="Symbol">)</a>
<a id="685" class="Keyword">open</a> <a id="690" class="Keyword">import</a> <a id="697" href="Function.Inverse.html" class="Module">Function.Inverse</a> <a id="714" class="Symbol">as</a> <a id="717" class="Module">Inv</a> <a id="721" class="Keyword">using</a> <a id="727" class="Symbol">(</a><a id="728" href="Function.Inverse.html#2234" class="Function Operator">_↔_</a><a id="731" class="Symbol">)</a>
<a id="733" class="Keyword">open</a> <a id="738" class="Keyword">import</a> <a id="745" href="Function.Related.html" class="Module">Function.Related</a> <a id="762" class="Symbol">as</a> <a id="765" class="Module">Related</a>
<a id="773" class="Keyword">open</a> <a id="778" class="Keyword">import</a> <a id="785" href="Function.Related.TypeIsomorphisms.html" class="Module">Function.Related.TypeIsomorphisms</a>

<a id="820" class="Comment">------------------------------------------------------------------------</a>
<a id="893" class="Comment">-- The solver</a>

<a id="908" class="Keyword">module</a> <a id="×-⊎-Solver"></a><a id="915" href="Function.Related.TypeIsomorphisms.Solver.html#915" class="Module">×-⊎-Solver</a> <a id="926" class="Symbol">(</a><a id="927" href="Function.Related.TypeIsomorphisms.Solver.html#927" class="Bound">k</a> <a id="929" class="Symbol">:</a> <a id="931" href="Function.Related.html#3477" class="Datatype">Symmetric-kind</a><a id="945" class="Symbol">)</a> <a id="947" class="Symbol">{</a><a id="948" href="Function.Related.TypeIsomorphisms.Solver.html#948" class="Bound">ℓ</a><a id="949" class="Symbol">}</a> <a id="951" class="Symbol">=</a>
  <a id="955" href="Algebra.Solver.Ring.NaturalCoefficients.Default.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients.Default</a>
    <a id="1007" class="Symbol">(</a><a id="1008" href="Function.Related.TypeIsomorphisms.html#7604" class="Function">×-⊎-commutativeSemiring</a> <a id="1032" href="Function.Related.TypeIsomorphisms.Solver.html#927" class="Bound">k</a> <a id="1034" href="Function.Related.TypeIsomorphisms.Solver.html#948" class="Bound">ℓ</a><a id="1035" class="Symbol">)</a>

<a id="1038" class="Comment">------------------------------------------------------------------------</a>
<a id="1111" class="Comment">-- Tests</a>

<a id="1121" class="Keyword">private</a>

  <a id="1132" class="Comment">-- A test of the solver above.</a>

  <a id="test"></a><a id="1166" href="Function.Related.TypeIsomorphisms.Solver.html#1166" class="Function">test</a> <a id="1171" class="Symbol">:</a> <a id="1173" class="Symbol">{</a><a id="1174" href="Function.Related.TypeIsomorphisms.Solver.html#1174" class="Bound">ℓ</a> <a id="1176" class="Symbol">:</a> <a id="1178" href="Agda.Primitive.html#423" class="Postulate">Level</a><a id="1183" class="Symbol">}</a> <a id="1185" class="Symbol">(</a><a id="1186" href="Function.Related.TypeIsomorphisms.Solver.html#1186" class="Bound">A</a> <a id="1188" href="Function.Related.TypeIsomorphisms.Solver.html#1188" class="Bound">B</a> <a id="1190" href="Function.Related.TypeIsomorphisms.Solver.html#1190" class="Bound">C</a> <a id="1192" class="Symbol">:</a> <a id="1194" class="PrimitiveType">Set</a> <a id="1198" href="Function.Related.TypeIsomorphisms.Solver.html#1174" class="Bound">ℓ</a><a id="1199" class="Symbol">)</a> <a id="1201" class="Symbol">→</a>
         <a id="1212" class="Symbol">(</a><a id="1213" href="Level.html#400" class="Record">Lift</a> <a id="1218" href="Function.Related.TypeIsomorphisms.Solver.html#1174" class="Bound">ℓ</a> <a id="1220" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a> <a id="1222" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1224" href="Function.Related.TypeIsomorphisms.Solver.html#1186" class="Bound">A</a> <a id="1226" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1228" class="Symbol">(</a><a id="1229" href="Function.Related.TypeIsomorphisms.Solver.html#1188" class="Bound">B</a> <a id="1231" href="Data.Sum.Base.html#728" class="Datatype Operator">⊎</a> <a id="1233" href="Function.Related.TypeIsomorphisms.Solver.html#1190" class="Bound">C</a><a id="1234" class="Symbol">))</a> <a id="1237" href="Function.Inverse.html#2234" class="Function Operator">↔</a> <a id="1239" class="Symbol">(</a><a id="1240" href="Function.Related.TypeIsomorphisms.Solver.html#1186" class="Bound">A</a> <a id="1242" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1244" href="Function.Related.TypeIsomorphisms.Solver.html#1188" class="Bound">B</a> <a id="1246" href="Data.Sum.Base.html#728" class="Datatype Operator">⊎</a> <a id="1248" href="Function.Related.TypeIsomorphisms.Solver.html#1190" class="Bound">C</a> <a id="1250" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1252" class="Symbol">(</a><a id="1253" href="Level.html#400" class="Record">Lift</a> <a id="1258" href="Function.Related.TypeIsomorphisms.Solver.html#1174" class="Bound">ℓ</a> <a id="1260" href="Data.Empty.html#526" class="Datatype">⊥</a> <a id="1262" href="Data.Sum.Base.html#728" class="Datatype Operator">⊎</a> <a id="1264" href="Function.Related.TypeIsomorphisms.Solver.html#1186" class="Bound">A</a><a id="1265" class="Symbol">))</a>
  <a id="1270" href="Function.Related.TypeIsomorphisms.Solver.html#1166" class="Function">test</a> <a id="1275" class="Symbol">=</a> <a id="1277" href="Relation.Binary.Reflection.html#2443" class="Function">solve</a> <a id="1283" class="Number">3</a> <a id="1285" class="Symbol">(λ</a> <a id="1288" href="Function.Related.TypeIsomorphisms.Solver.html#1288" class="Bound">A</a> <a id="1290" href="Function.Related.TypeIsomorphisms.Solver.html#1290" class="Bound">B</a> <a id="1292" href="Function.Related.TypeIsomorphisms.Solver.html#1292" class="Bound">C</a> <a id="1294" class="Symbol">→</a> <a id="1296" href="Algebra.Solver.Ring.html#2577" class="InductiveConstructor">con</a> <a id="1300" class="Number">1</a> <a id="1302" href="Algebra.Solver.Ring.html#2844" class="Function Operator">:*</a> <a id="1305" class="Symbol">(</a><a id="1306" href="Function.Related.TypeIsomorphisms.Solver.html#1288" class="Bound">A</a> <a id="1308" href="Algebra.Solver.Ring.html#2844" class="Function Operator">:*</a> <a id="1311" class="Symbol">(</a><a id="1312" href="Function.Related.TypeIsomorphisms.Solver.html#1290" class="Bound">B</a> <a id="1314" href="Algebra.Solver.Ring.html#2771" class="Function Operator">:+</a> <a id="1317" href="Function.Related.TypeIsomorphisms.Solver.html#1292" class="Bound">C</a><a id="1318" class="Symbol">))</a> <a id="1321" href="Algebra.Solver.Ring.html#19714" class="Function Operator">:=</a>
                            <a id="1352" href="Function.Related.TypeIsomorphisms.Solver.html#1288" class="Bound">A</a> <a id="1354" href="Algebra.Solver.Ring.html#2844" class="Function Operator">:*</a> <a id="1357" href="Function.Related.TypeIsomorphisms.Solver.html#1290" class="Bound">B</a> <a id="1359" href="Algebra.Solver.Ring.html#2771" class="Function Operator">:+</a> <a id="1362" href="Function.Related.TypeIsomorphisms.Solver.html#1292" class="Bound">C</a> <a id="1364" href="Algebra.Solver.Ring.html#2844" class="Function Operator">:*</a> <a id="1367" class="Symbol">(</a><a id="1368" href="Algebra.Solver.Ring.html#2577" class="InductiveConstructor">con</a> <a id="1372" class="Number">0</a> <a id="1374" href="Algebra.Solver.Ring.html#2771" class="Function Operator">:+</a> <a id="1377" href="Function.Related.TypeIsomorphisms.Solver.html#1288" class="Bound">A</a><a id="1378" class="Symbol">))</a>
                 <a id="1398" href="Function.Inverse.html#3439" class="Function">Inv.id</a>
    <a id="1409" class="Keyword">where</a> <a id="1415" class="Keyword">open</a> <a id="1420" href="Function.Related.TypeIsomorphisms.Solver.html#915" class="Module">×-⊎-Solver</a> <a id="1431" href="Function.Related.html#3537" class="InductiveConstructor">bijection</a>
</pre></body></html>