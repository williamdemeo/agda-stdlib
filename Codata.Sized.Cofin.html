<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Sized.Cofin</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- &quot;Finite&quot; sets indexed on coinductive &quot;natural&quot; numbers</a>
<a id="164" class="Comment">------------------------------------------------------------------------</a>

<a id="238" class="Symbol">{-#</a> <a id="242" class="Keyword">OPTIONS</a> <a id="250" class="Pragma">--without-K</a> <a id="262" class="Pragma">--sized-types</a> <a id="276" class="Symbol">#-}</a>

<a id="281" class="Keyword">module</a> <a id="288" href="Codata.Sized.Cofin.html" class="Module">Codata.Sized.Cofin</a> <a id="307" class="Keyword">where</a>

<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Size.html" class="Module">Size</a>
<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="Codata.Sized.Thunk.html" class="Module">Codata.Sized.Thunk</a>
<a id="362" class="Keyword">open</a> <a id="367" class="Keyword">import</a> <a id="374" href="Codata.Sized.Conat.html" class="Module">Codata.Sized.Conat</a> <a id="393" class="Symbol">as</a> <a id="396" class="Module">Conat</a>
  <a id="404" class="Keyword">using</a> <a id="410" class="Symbol">(</a><a id="411" href="Codata.Sized.Conat.html#532" class="Datatype">Conat</a><a id="416" class="Symbol">;</a> <a id="418" href="Codata.Sized.Conat.html#563" class="InductiveConstructor">zero</a><a id="422" class="Symbol">;</a> <a id="424" href="Codata.Sized.Conat.html#580" class="InductiveConstructor">suc</a><a id="427" class="Symbol">;</a> <a id="429" href="Codata.Sized.Conat.html#611" class="Function">infinity</a><a id="437" class="Symbol">;</a> <a id="439" href="Codata.Sized.Conat.html#2375" class="Function Operator">_ℕ&lt;_</a><a id="443" class="Symbol">;</a> <a id="445" href="Codata.Sized.Conat.html#2326" class="InductiveConstructor">sℕ≤s</a><a id="449" class="Symbol">;</a> <a id="451" href="Codata.Sized.Conat.html#2421" class="Function Operator">_ℕ≤infinity</a><a id="462" class="Symbol">)</a>
<a id="464" class="Keyword">open</a> <a id="469" class="Keyword">import</a> <a id="476" href="Codata.Sized.Conat.Bisimilarity.html" class="Module">Codata.Sized.Conat.Bisimilarity</a> <a id="508" class="Symbol">as</a> <a id="511" class="Module">Bisim</a> <a id="517" class="Keyword">using</a> <a id="523" class="Symbol">(</a><a id="524" href="Codata.Sized.Conat.Bisimilarity.html#1291" class="Datatype Operator">_⊢_≲_</a> <a id="530" class="Symbol">;</a> <a id="532" href="Codata.Sized.Conat.Bisimilarity.html#1360" class="InductiveConstructor">s≲s</a><a id="535" class="Symbol">)</a>
<a id="537" class="Keyword">open</a> <a id="542" class="Keyword">import</a> <a id="549" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="563" class="Keyword">open</a> <a id="568" class="Keyword">import</a> <a id="575" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="589" class="Symbol">as</a> <a id="592" class="Module">Fin</a> <a id="596" class="Keyword">hiding</a> <a id="603" class="Symbol">(</a><a id="604" href="Data.Fin.Base.html#1991" class="Function">fromℕ</a><a id="609" class="Symbol">;</a> <a id="611" href="Data.Fin.Base.html#2097" class="Function">fromℕ&lt;</a><a id="617" class="Symbol">;</a> <a id="619" href="Data.Fin.Base.html#1406" class="Function">toℕ</a><a id="622" class="Symbol">)</a>
<a id="624" class="Keyword">open</a> <a id="629" class="Keyword">import</a> <a id="636" href="Function.Base.html" class="Module">Function.Base</a> <a id="650" class="Keyword">using</a> <a id="656" class="Symbol">(</a><a id="657" href="Function.Base.html#4494" class="Function Operator">_∋_</a><a id="660" class="Symbol">)</a>
<a id="662" class="Keyword">open</a> <a id="667" class="Keyword">import</a> <a id="674" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="713" class="Comment">------------------------------------------------------------------------</a>
<a id="786" class="Comment">-- The type</a>

<a id="799" class="Comment">-- Note that `Cofin infinity` is /not/ finite. Note also that this is</a>
<a id="869" class="Comment">-- not a coinductive type, but it is indexed on a coinductive type.</a>

<a id="938" class="Keyword">data</a> <a id="Cofin"></a><a id="943" href="Codata.Sized.Cofin.html#943" class="Datatype">Cofin</a> <a id="949" class="Symbol">:</a> <a id="951" href="Codata.Sized.Conat.html#532" class="Datatype">Conat</a> <a id="957" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a> <a id="959" class="Symbol">→</a> <a id="961" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="965" class="Keyword">where</a>
  <a id="Cofin.zero"></a><a id="973" href="Codata.Sized.Cofin.html#973" class="InductiveConstructor">zero</a> <a id="978" class="Symbol">:</a> <a id="980" class="Symbol">∀</a> <a id="982" class="Symbol">{</a><a id="983" href="Codata.Sized.Cofin.html#983" class="Bound">n</a><a id="984" class="Symbol">}</a> <a id="986" class="Symbol">→</a> <a id="988" href="Codata.Sized.Cofin.html#943" class="Datatype">Cofin</a> <a id="994" class="Symbol">(</a><a id="995" href="Codata.Sized.Conat.html#580" class="InductiveConstructor">suc</a> <a id="999" href="Codata.Sized.Cofin.html#983" class="Bound">n</a><a id="1000" class="Symbol">)</a>
  <a id="Cofin.suc"></a><a id="1004" href="Codata.Sized.Cofin.html#1004" class="InductiveConstructor">suc</a>  <a id="1009" class="Symbol">:</a> <a id="1011" class="Symbol">∀</a> <a id="1013" class="Symbol">{</a><a id="1014" href="Codata.Sized.Cofin.html#1014" class="Bound">n</a><a id="1015" class="Symbol">}</a> <a id="1017" class="Symbol">→</a> <a id="1019" href="Codata.Sized.Cofin.html#943" class="Datatype">Cofin</a> <a id="1025" class="Symbol">(</a><a id="1026" href="Codata.Sized.Cofin.html#1014" class="Bound">n</a> <a id="1028" class="Symbol">.</a><a id="1029" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="1034" class="Symbol">)</a> <a id="1036" class="Symbol">→</a> <a id="1038" href="Codata.Sized.Cofin.html#943" class="Datatype">Cofin</a> <a id="1044" class="Symbol">(</a><a id="1045" href="Codata.Sized.Conat.html#580" class="InductiveConstructor">suc</a> <a id="1049" href="Codata.Sized.Cofin.html#1014" class="Bound">n</a><a id="1050" class="Symbol">)</a>

<a id="suc-injective"></a><a id="1053" href="Codata.Sized.Cofin.html#1053" class="Function">suc-injective</a> <a id="1067" class="Symbol">:</a> <a id="1069" class="Symbol">∀</a> <a id="1071" class="Symbol">{</a><a id="1072" href="Codata.Sized.Cofin.html#1072" class="Bound">n</a><a id="1073" class="Symbol">}</a> <a id="1075" class="Symbol">{</a><a id="1076" href="Codata.Sized.Cofin.html#1076" class="Bound">p</a> <a id="1078" href="Codata.Sized.Cofin.html#1078" class="Bound">q</a> <a id="1080" class="Symbol">:</a> <a id="1082" href="Codata.Sized.Cofin.html#943" class="Datatype">Cofin</a> <a id="1088" class="Symbol">(</a><a id="1089" href="Codata.Sized.Cofin.html#1072" class="Bound">n</a> <a id="1091" class="Symbol">.</a><a id="1092" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="1097" class="Symbol">)}</a> <a id="1100" class="Symbol">→</a>
                <a id="1118" class="Symbol">(</a><a id="1119" href="Codata.Sized.Cofin.html#943" class="Datatype">Cofin</a> <a id="1125" class="Symbol">(</a><a id="1126" class="InductiveConstructor">suc</a> <a id="1130" href="Codata.Sized.Cofin.html#1072" class="Bound">n</a><a id="1131" class="Symbol">)</a> <a id="1133" href="Function.Base.html#4494" class="Function Operator">∋</a> <a id="1135" class="InductiveConstructor">suc</a> <a id="1139" href="Codata.Sized.Cofin.html#1076" class="Bound">p</a><a id="1140" class="Symbol">)</a> <a id="1142" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1144" class="InductiveConstructor">suc</a> <a id="1148" href="Codata.Sized.Cofin.html#1078" class="Bound">q</a> <a id="1150" class="Symbol">→</a> <a id="1152" href="Codata.Sized.Cofin.html#1076" class="Bound">p</a> <a id="1154" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1156" href="Codata.Sized.Cofin.html#1078" class="Bound">q</a>
<a id="1158" href="Codata.Sized.Cofin.html#1053" class="Function">suc-injective</a> <a id="1172" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1177" class="Symbol">=</a> <a id="1179" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="1185" class="Comment">------------------------------------------------------------------------</a>
<a id="1258" class="Comment">-- Some operations</a>

<a id="fromℕ&lt;"></a><a id="1278" href="Codata.Sized.Cofin.html#1278" class="Function">fromℕ&lt;</a> <a id="1285" class="Symbol">:</a> <a id="1287" class="Symbol">∀</a> <a id="1289" class="Symbol">{</a><a id="1290" href="Codata.Sized.Cofin.html#1290" class="Bound">n</a> <a id="1292" href="Codata.Sized.Cofin.html#1292" class="Bound">k</a><a id="1293" class="Symbol">}</a> <a id="1295" class="Symbol">→</a> <a id="1297" href="Codata.Sized.Cofin.html#1292" class="Bound">k</a> <a id="1299" href="Codata.Sized.Conat.html#2375" class="Function Operator">ℕ&lt;</a> <a id="1302" href="Codata.Sized.Cofin.html#1290" class="Bound">n</a> <a id="1304" class="Symbol">→</a> <a id="1306" href="Codata.Sized.Cofin.html#943" class="Datatype">Cofin</a> <a id="1312" href="Codata.Sized.Cofin.html#1290" class="Bound">n</a>
<a id="1314" href="Codata.Sized.Cofin.html#1278" class="Function">fromℕ&lt;</a> <a id="1321" class="Symbol">{</a><a id="1322" href="Codata.Sized.Conat.html#563" class="InductiveConstructor">zero</a><a id="1326" class="Symbol">}</a>  <a id="1329" class="Symbol">()</a>
<a id="1332" href="Codata.Sized.Cofin.html#1278" class="Function">fromℕ&lt;</a> <a id="1339" class="Symbol">{</a><a id="1340" href="Codata.Sized.Conat.html#580" class="InductiveConstructor">suc</a> <a id="1344" href="Codata.Sized.Cofin.html#1344" class="Bound">n</a><a id="1345" class="Symbol">}</a> <a id="1347" class="Symbol">{</a><a id="1348" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="1352" class="Symbol">}</a>  <a id="1355" class="Symbol">(</a><a id="1356" href="Codata.Sized.Conat.html#2326" class="InductiveConstructor">sℕ≤s</a> <a id="1361" href="Codata.Sized.Cofin.html#1361" class="Bound">p</a><a id="1362" class="Symbol">)</a> <a id="1364" class="Symbol">=</a> <a id="1366" href="Codata.Sized.Cofin.html#973" class="InductiveConstructor">zero</a>
<a id="1371" href="Codata.Sized.Cofin.html#1278" class="Function">fromℕ&lt;</a> <a id="1378" class="Symbol">{</a><a id="1379" href="Codata.Sized.Conat.html#580" class="InductiveConstructor">suc</a> <a id="1383" href="Codata.Sized.Cofin.html#1383" class="Bound">n</a><a id="1384" class="Symbol">}</a> <a id="1386" class="Symbol">{</a><a id="1387" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1391" href="Codata.Sized.Cofin.html#1391" class="Bound">k</a><a id="1392" class="Symbol">}</a> <a id="1394" class="Symbol">(</a><a id="1395" href="Codata.Sized.Conat.html#2326" class="InductiveConstructor">sℕ≤s</a> <a id="1400" href="Codata.Sized.Cofin.html#1400" class="Bound">p</a><a id="1401" class="Symbol">)</a> <a id="1403" class="Symbol">=</a> <a id="1405" href="Codata.Sized.Cofin.html#1004" class="InductiveConstructor">suc</a> <a id="1409" class="Symbol">(</a><a id="1410" href="Codata.Sized.Cofin.html#1278" class="Function">fromℕ&lt;</a> <a id="1417" href="Codata.Sized.Cofin.html#1400" class="Bound">p</a><a id="1418" class="Symbol">)</a>

<a id="fromℕ"></a><a id="1421" href="Codata.Sized.Cofin.html#1421" class="Function">fromℕ</a> <a id="1427" class="Symbol">:</a> <a id="1429" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1431" class="Symbol">→</a> <a id="1433" href="Codata.Sized.Cofin.html#943" class="Datatype">Cofin</a> <a id="1439" href="Codata.Sized.Conat.html#611" class="Function">infinity</a>
<a id="1448" href="Codata.Sized.Cofin.html#1421" class="Function">fromℕ</a> <a id="1454" href="Codata.Sized.Cofin.html#1454" class="Bound">k</a> <a id="1456" class="Symbol">=</a> <a id="1458" href="Codata.Sized.Cofin.html#1278" class="Function">fromℕ&lt;</a> <a id="1465" class="Symbol">(</a><a id="1466" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1470" href="Codata.Sized.Cofin.html#1454" class="Bound">k</a> <a id="1472" href="Codata.Sized.Conat.html#2421" class="Function Operator">ℕ≤infinity</a><a id="1482" class="Symbol">)</a>

<a id="toℕ"></a><a id="1485" href="Codata.Sized.Cofin.html#1485" class="Function">toℕ</a> <a id="1489" class="Symbol">:</a> <a id="1491" class="Symbol">∀</a> <a id="1493" class="Symbol">{</a><a id="1494" href="Codata.Sized.Cofin.html#1494" class="Bound">n</a><a id="1495" class="Symbol">}</a> <a id="1497" class="Symbol">→</a> <a id="1499" href="Codata.Sized.Cofin.html#943" class="Datatype">Cofin</a> <a id="1505" href="Codata.Sized.Cofin.html#1494" class="Bound">n</a> <a id="1507" class="Symbol">→</a> <a id="1509" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="1511" href="Codata.Sized.Cofin.html#1485" class="Function">toℕ</a> <a id="1515" href="Codata.Sized.Cofin.html#973" class="InductiveConstructor">zero</a>    <a id="1523" class="Symbol">=</a> <a id="1525" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>
<a id="1530" href="Codata.Sized.Cofin.html#1485" class="Function">toℕ</a> <a id="1534" class="Symbol">(</a><a id="1535" href="Codata.Sized.Cofin.html#1004" class="InductiveConstructor">suc</a> <a id="1539" href="Codata.Sized.Cofin.html#1539" class="Bound">i</a><a id="1540" class="Symbol">)</a> <a id="1542" class="Symbol">=</a> <a id="1544" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1548" class="Symbol">(</a><a id="1549" href="Codata.Sized.Cofin.html#1485" class="Function">toℕ</a> <a id="1553" href="Codata.Sized.Cofin.html#1539" class="Bound">i</a><a id="1554" class="Symbol">)</a>

<a id="fromFin"></a><a id="1557" href="Codata.Sized.Cofin.html#1557" class="Function">fromFin</a> <a id="1565" class="Symbol">:</a> <a id="1567" class="Symbol">∀</a> <a id="1569" class="Symbol">{</a><a id="1570" href="Codata.Sized.Cofin.html#1570" class="Bound">n</a><a id="1571" class="Symbol">}</a> <a id="1573" class="Symbol">→</a> <a id="1575" href="Data.Fin.Base.html#1298" class="Datatype">Fin</a> <a id="1579" href="Codata.Sized.Cofin.html#1570" class="Bound">n</a> <a id="1581" class="Symbol">→</a> <a id="1583" href="Codata.Sized.Cofin.html#943" class="Datatype">Cofin</a> <a id="1589" class="Symbol">(</a><a id="1590" href="Codata.Sized.Conat.html#680" class="Function">Conat.fromℕ</a> <a id="1602" href="Codata.Sized.Cofin.html#1570" class="Bound">n</a><a id="1603" class="Symbol">)</a>
<a id="1605" href="Codata.Sized.Cofin.html#1557" class="Function">fromFin</a> <a id="1613" href="Data.Fin.Base.html#1320" class="InductiveConstructor">zero</a>    <a id="1621" class="Symbol">=</a> <a id="1623" href="Codata.Sized.Cofin.html#973" class="InductiveConstructor">zero</a>
<a id="1628" href="Codata.Sized.Cofin.html#1557" class="Function">fromFin</a> <a id="1636" class="Symbol">(</a><a id="1637" href="Data.Fin.Base.html#1341" class="InductiveConstructor">suc</a> <a id="1641" href="Codata.Sized.Cofin.html#1641" class="Bound">i</a><a id="1642" class="Symbol">)</a> <a id="1644" class="Symbol">=</a> <a id="1646" href="Codata.Sized.Cofin.html#1004" class="InductiveConstructor">suc</a> <a id="1650" class="Symbol">(</a><a id="1651" href="Codata.Sized.Cofin.html#1557" class="Function">fromFin</a> <a id="1659" href="Codata.Sized.Cofin.html#1641" class="Bound">i</a><a id="1660" class="Symbol">)</a>

<a id="toFin"></a><a id="1663" href="Codata.Sized.Cofin.html#1663" class="Function">toFin</a> <a id="1669" class="Symbol">:</a> <a id="1671" class="Symbol">∀</a> <a id="1673" href="Codata.Sized.Cofin.html#1673" class="Bound">n</a> <a id="1675" class="Symbol">→</a> <a id="1677" href="Codata.Sized.Cofin.html#943" class="Datatype">Cofin</a> <a id="1683" class="Symbol">(</a><a id="1684" href="Codata.Sized.Conat.html#680" class="Function">Conat.fromℕ</a> <a id="1696" href="Codata.Sized.Cofin.html#1673" class="Bound">n</a><a id="1697" class="Symbol">)</a> <a id="1699" class="Symbol">→</a> <a id="1701" href="Data.Fin.Base.html#1298" class="Datatype">Fin</a> <a id="1705" href="Codata.Sized.Cofin.html#1673" class="Bound">n</a>
<a id="1707" href="Codata.Sized.Cofin.html#1663" class="Function">toFin</a> <a id="1713" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="1721" class="Symbol">()</a>
<a id="1724" href="Codata.Sized.Cofin.html#1663" class="Function">toFin</a> <a id="1730" class="Symbol">(</a><a id="1731" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1735" href="Codata.Sized.Cofin.html#1735" class="Bound">n</a><a id="1736" class="Symbol">)</a> <a id="1738" href="Codata.Sized.Cofin.html#973" class="InductiveConstructor">zero</a>    <a id="1746" class="Symbol">=</a> <a id="1748" href="Data.Fin.Base.html#1320" class="InductiveConstructor">zero</a>
<a id="1753" href="Codata.Sized.Cofin.html#1663" class="Function">toFin</a> <a id="1759" class="Symbol">(</a><a id="1760" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1764" href="Codata.Sized.Cofin.html#1764" class="Bound">n</a><a id="1765" class="Symbol">)</a> <a id="1767" class="Symbol">(</a><a id="1768" href="Codata.Sized.Cofin.html#1004" class="InductiveConstructor">suc</a> <a id="1772" href="Codata.Sized.Cofin.html#1772" class="Bound">i</a><a id="1773" class="Symbol">)</a> <a id="1775" class="Symbol">=</a> <a id="1777" href="Data.Fin.Base.html#1341" class="InductiveConstructor">suc</a> <a id="1781" class="Symbol">(</a><a id="1782" href="Codata.Sized.Cofin.html#1663" class="Function">toFin</a> <a id="1788" href="Codata.Sized.Cofin.html#1764" class="Bound">n</a> <a id="1790" href="Codata.Sized.Cofin.html#1772" class="Bound">i</a><a id="1791" class="Symbol">)</a>
</pre></body></html>