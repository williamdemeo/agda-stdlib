<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>System.Process.Primitive</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Primitive System.Process simple bindings to Haskell functions</a>
<a id="171" class="Comment">------------------------------------------------------------------------</a>

<a id="245" class="Symbol">{-#</a> <a id="249" class="Keyword">OPTIONS</a> <a id="257" class="Pragma">--without-K</a> <a id="269" class="Symbol">#-}</a>

<a id="274" class="Keyword">module</a> <a id="281" href="System.Process.Primitive.html" class="Module">System.Process.Primitive</a> <a id="306" class="Keyword">where</a>

<a id="313" class="Keyword">open</a> <a id="318" class="Keyword">import</a> <a id="325" href="Level.html" class="Module">Level</a> <a id="331" class="Keyword">using</a> <a id="337" class="Symbol">(</a><a id="338" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="343" class="Symbol">)</a>
<a id="345" class="Keyword">open</a> <a id="350" class="Keyword">import</a> <a id="357" href="Agda.Builtin.List.html" class="Module">Agda.Builtin.List</a>
<a id="375" class="Keyword">open</a> <a id="380" class="Keyword">import</a> <a id="387" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a>
<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="Agda.Builtin.Unit.html" class="Module">Agda.Builtin.Unit</a>
<a id="437" class="Keyword">open</a> <a id="442" class="Keyword">import</a> <a id="449" href="Foreign.Haskell.html" class="Module">Foreign.Haskell</a> <a id="465" class="Keyword">using</a> <a id="471" class="Symbol">(</a><a id="472" href="Foreign.Haskell.Pair.html#520" class="Record">Pair</a><a id="476" class="Symbol">)</a>
<a id="478" class="Keyword">open</a> <a id="483" class="Keyword">import</a> <a id="490" href="IO.Primitive.html" class="Module">IO.Primitive</a> <a id="503" class="Keyword">using</a> <a id="509" class="Symbol">(</a><a id="510" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a><a id="512" class="Symbol">)</a>
<a id="514" class="Keyword">open</a> <a id="519" class="Keyword">import</a> <a id="526" href="System.Exit.Primitive.html" class="Module">System.Exit.Primitive</a> <a id="548" class="Keyword">using</a> <a id="554" class="Symbol">(</a><a id="555" href="System.Exit.Primitive.html#393" class="Datatype">ExitCode</a><a id="563" class="Symbol">)</a>

<a id="566" class="Keyword">postulate</a>

  <a id="callCommand"></a><a id="579" href="System.Process.Primitive.html#579" class="Postulate">callCommand</a> <a id="591" class="Symbol">:</a> <a id="593" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="600" class="Symbol">→</a> <a id="602" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="605" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="system"></a><a id="609" href="System.Process.Primitive.html#609" class="Postulate">system</a>      <a id="621" class="Symbol">:</a> <a id="623" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="630" class="Symbol">→</a> <a id="632" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="635" href="System.Exit.Primitive.html#393" class="Datatype">ExitCode</a>
  <a id="callProcess"></a><a id="646" href="System.Process.Primitive.html#646" class="Postulate">callProcess</a> <a id="658" class="Symbol">:</a> <a id="660" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="667" class="Symbol">→</a> <a id="669" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="674" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="681" class="Symbol">→</a> <a id="683" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="686" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>

  <a id="readProcess"></a><a id="691" href="System.Process.Primitive.html#691" class="Postulate">readProcess</a>
    <a id="707" class="Symbol">:</a> <a id="709" href="Agda.Builtin.String.html#336" class="Postulate">String</a>       <a id="722" class="Comment">-- Filename of the executable</a>
    <a id="756" class="Symbol">→</a> <a id="758" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="763" href="Agda.Builtin.String.html#336" class="Postulate">String</a>  <a id="771" class="Comment">-- any arguments</a>
    <a id="792" class="Symbol">→</a> <a id="794" href="Agda.Builtin.String.html#336" class="Postulate">String</a>       <a id="807" class="Comment">-- standard input</a>
    <a id="829" class="Symbol">→</a> <a id="831" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="834" href="Agda.Builtin.String.html#336" class="Postulate">String</a>    <a id="844" class="Comment">-- stdout</a>

  <a id="readProcessWithExitCode"></a><a id="857" href="System.Process.Primitive.html#857" class="Postulate">readProcessWithExitCode</a>
    <a id="885" class="Symbol">:</a> <a id="887" href="Agda.Builtin.String.html#336" class="Postulate">String</a>                                  <a id="927" class="Comment">-- Filename of the executable</a>
    <a id="961" class="Symbol">→</a> <a id="963" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="968" href="Agda.Builtin.String.html#336" class="Postulate">String</a>                             <a id="1003" class="Comment">-- any arguments</a>
    <a id="1024" class="Symbol">→</a> <a id="1026" href="Agda.Builtin.String.html#336" class="Postulate">String</a>                                  <a id="1066" class="Comment">-- standard input</a>
    <a id="1088" class="Symbol">→</a> <a id="1090" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1093" class="Symbol">(</a><a id="1094" href="Foreign.Haskell.Pair.html#520" class="Record">Pair</a> <a id="1099" href="System.Exit.Primitive.html#393" class="Datatype">ExitCode</a> <a id="1108" class="Symbol">(</a><a id="1109" href="Foreign.Haskell.Pair.html#520" class="Record">Pair</a> <a id="1114" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1121" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="1127" class="Symbol">))</a> <a id="1130" class="Comment">-- exitcode, stdout, stderr</a>

<a id="1159" class="Symbol">{-#</a> <a id="1163" class="Keyword">FOREIGN</a> <a id="1171" class="Pragma">GHC</a> <a id="1175" class="Pragma">import</a> <a id="1182" class="Pragma">System.Process</a>  <a id="1198" class="Symbol">#-}</a>
<a id="1202" class="Symbol">{-#</a> <a id="1206" class="Keyword">FOREIGN</a> <a id="1214" class="Pragma">GHC</a> <a id="1218" class="Pragma">import</a> <a id="1225" class="Pragma">qualified</a> <a id="1235" class="Pragma">Data.Text</a> <a id="1245" class="Pragma">as</a> <a id="1248" class="Pragma">T</a>  <a id="1251" class="Symbol">#-}</a>
<a id="1255" class="Symbol">{-#</a> <a id="1259" class="Keyword">FOREIGN</a> <a id="1267" class="Pragma">GHC</a> <a id="1271" class="Pragma">import</a> <a id="1278" class="Pragma">MAlonzo.Code.System.Exit.Primitive</a> <a id="1313" class="Symbol">#-}</a>

<a id="1318" class="Symbol">{-#</a> <a id="1322" class="Keyword">COMPILE</a> <a id="1330" class="Keyword">GHC</a> <a id="1334" href="System.Process.Primitive.html#579" class="Postulate">callCommand</a> <a id="1346" class="Pragma">=</a> <a id="1348" class="Pragma">\</a> <a id="1350" class="Pragma">cmd</a> <a id="1354" class="Pragma">-&gt;</a> <a id="1357" class="Pragma">callCommand</a> <a id="1369" class="Pragma">(T.unpack</a> <a id="1379" class="Pragma">cmd)</a> <a id="1384" class="Symbol">#-}</a>
<a id="1388" class="Symbol">{-#</a> <a id="1392" class="Keyword">COMPILE</a> <a id="1400" class="Keyword">GHC</a> <a id="1404" href="System.Process.Primitive.html#609" class="Postulate">system</a> <a id="1411" class="Pragma">=</a> <a id="1413" class="Pragma">\</a> <a id="1415" class="Pragma">cmd</a> <a id="1419" class="Pragma">-&gt;</a> <a id="1422" class="Pragma">fmap</a> <a id="1427" class="Pragma">fromExitCode</a> <a id="1440" class="Pragma">(system</a> <a id="1448" class="Pragma">(T.unpack</a> <a id="1458" class="Pragma">cmd))</a> <a id="1464" class="Symbol">#-}</a>
<a id="1468" class="Symbol">{-#</a> <a id="1472" class="Keyword">COMPILE</a> <a id="1480" class="Keyword">GHC</a> <a id="1484" href="System.Process.Primitive.html#646" class="Postulate">callProcess</a> <a id="1496" class="Pragma">=</a> <a id="1498" class="Pragma">\</a> <a id="1500" class="Pragma">exe</a> <a id="1504" class="Pragma">-&gt;</a> <a id="1507" class="Pragma">callProcess</a> <a id="1519" class="Pragma">(T.unpack</a> <a id="1529" class="Pragma">exe)</a> <a id="1534" class="Pragma">.</a> <a id="1536" class="Pragma">map</a> <a id="1540" class="Pragma">T.unpack</a> <a id="1549" class="Symbol">#-}</a>
<a id="1553" class="Symbol">{-#</a> <a id="1557" class="Keyword">COMPILE</a> <a id="1565" class="Keyword">GHC</a> <a id="1569" href="System.Process.Primitive.html#691" class="Postulate">readProcess</a> <a id="1581" class="Pragma">=</a> <a id="1583" class="Pragma">\</a> <a id="1585" class="Pragma">exe</a> <a id="1589" class="Pragma">args</a> <a id="1594" class="Pragma">-&gt;</a> <a id="1597" class="Pragma">fmap</a> <a id="1602" class="Pragma">T.pack</a> <a id="1609" class="Pragma">.</a> <a id="1611" class="Pragma">readProcess</a> <a id="1623" class="Pragma">(T.unpack</a> <a id="1633" class="Pragma">exe)</a> <a id="1638" class="Pragma">(map</a> <a id="1643" class="Pragma">T.unpack</a> <a id="1652" class="Pragma">args)</a> <a id="1658" class="Pragma">.</a> <a id="1660" class="Pragma">T.unpack</a> <a id="1669" class="Symbol">#-}</a>
<a id="1673" class="Symbol">{-#</a> <a id="1677" class="Keyword">COMPILE</a> <a id="1685" class="Keyword">GHC</a> <a id="1689" href="System.Process.Primitive.html#857" class="Postulate">readProcessWithExitCode</a> <a id="1713" class="Pragma">=</a> <a id="1715" class="Pragma">\</a> <a id="1717" class="Pragma">exe</a> <a id="1721" class="Pragma">args</a> <a id="1726" class="Pragma">stdin</a> <a id="1732" class="Pragma">-&gt;</a>
           <a id="1746" class="Pragma">do</a> <a id="1749" class="Pragma">{</a> <a id="1751" class="Pragma">(ex,</a> <a id="1756" class="Pragma">out,</a> <a id="1761" class="Pragma">err)</a> <a id="1766" class="Pragma">&lt;-</a> <a id="1769" class="Pragma">readProcessWithExitCode</a> <a id="1793" class="Pragma">(T.unpack</a> <a id="1803" class="Pragma">exe)</a> <a id="1808" class="Pragma">(map</a> <a id="1813" class="Pragma">T.unpack</a> <a id="1822" class="Pragma">args)</a> <a id="1828" class="Pragma">(T.unpack</a> <a id="1838" class="Pragma">stdin)</a>
              <a id="1859" class="Pragma">;</a> <a id="1861" class="Pragma">pure</a> <a id="1866" class="Pragma">(fromExitCode</a> <a id="1880" class="Pragma">ex,</a> <a id="1884" class="Pragma">(T.pack</a> <a id="1892" class="Pragma">out,</a> <a id="1897" class="Pragma">T.pack</a> <a id="1904" class="Pragma">err))</a>
              <a id="1924" class="Pragma">}</a>
<a id="1926" class="Symbol">#-}</a>
</pre></body></html>