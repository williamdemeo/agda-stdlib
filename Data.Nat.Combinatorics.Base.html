<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.Combinatorics.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Combinatorics operations</a>
<a id="134" class="Comment">------------------------------------------------------------------------</a>

<a id="208" class="Symbol">{-#</a> <a id="212" class="Keyword">OPTIONS</a> <a id="220" class="Pragma">--without-K</a> <a id="232" class="Pragma">--safe</a> <a id="239" class="Symbol">#-}</a>

<a id="244" class="Keyword">module</a> <a id="251" href="Data.Nat.Combinatorics.Base.html" class="Module">Data.Nat.Combinatorics.Base</a> <a id="279" class="Keyword">where</a>

<a id="286" class="Keyword">open</a> <a id="291" class="Keyword">import</a> <a id="298" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="313" class="Keyword">using</a> <a id="319" class="Symbol">(</a><a id="320" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a><a id="333" class="Symbol">)</a>
<a id="335" class="Keyword">open</a> <a id="340" class="Keyword">import</a> <a id="347" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="361" class="Keyword">open</a> <a id="366" class="Keyword">import</a> <a id="373" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="393" class="Keyword">using</a> <a id="399" class="Symbol">(</a><a id="400" href="Data.Nat.Properties.html#60258" class="Function Operator">_!≢0</a><a id="404" class="Symbol">)</a>

<a id="407" class="Comment">-- NOTE: These operators are not implemented as efficiently as they</a>
<a id="475" class="Comment">-- could be. See the following link for more details.</a>
<a id="529" class="Comment">--</a>
<a id="532" class="Comment">-- https://math.stackexchange.com/questions/202554/how-do-i-compute-binomial-coefficients-efficiently</a>

<a id="635" class="Comment">------------------------------------------------------------------------</a>
<a id="708" class="Comment">-- Permutations / falling factorial</a>

<a id="745" class="Comment">-- The number of ways, including order, that k objects can be chosen</a>
<a id="814" class="Comment">-- from among n objects.</a>

<a id="840" class="Comment">-- n P k = n ! / (n ∸ k) !</a>

<a id="868" class="Comment">-- Base definition. Only valid for k ≤ n.</a>

<a id="_P′_"></a><a id="911" href="Data.Nat.Combinatorics.Base.html#911" class="Function Operator">_P′_</a> <a id="916" class="Symbol">:</a> <a id="918" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="920" class="Symbol">→</a> <a id="922" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="924" class="Symbol">→</a> <a id="926" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="928" href="Data.Nat.Combinatorics.Base.html#928" class="Bound">n</a> <a id="930" href="Data.Nat.Combinatorics.Base.html#911" class="Function Operator">P′</a> <a id="933" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="941" class="Symbol">=</a> <a id="943" class="Number">1</a>
<a id="945" href="Data.Nat.Combinatorics.Base.html#945" class="Bound">n</a> <a id="947" href="Data.Nat.Combinatorics.Base.html#911" class="Function Operator">P′</a> <a id="950" class="Symbol">(</a><a id="951" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="955" href="Data.Nat.Combinatorics.Base.html#955" class="Bound">k</a><a id="956" class="Symbol">)</a> <a id="958" class="Symbol">=</a> <a id="960" class="Symbol">(</a><a id="961" href="Data.Nat.Combinatorics.Base.html#945" class="Bound">n</a> <a id="963" href="Data.Nat.Base.html#3202" class="Primitive Operator">∸</a> <a id="965" href="Data.Nat.Combinatorics.Base.html#955" class="Bound">k</a><a id="966" class="Symbol">)</a> <a id="968" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">*</a> <a id="970" class="Symbol">(</a><a id="971" href="Data.Nat.Combinatorics.Base.html#945" class="Bound">n</a> <a id="973" href="Data.Nat.Combinatorics.Base.html#911" class="Function Operator">P′</a> <a id="976" href="Data.Nat.Combinatorics.Base.html#955" class="Bound">k</a><a id="977" class="Symbol">)</a>

<a id="980" class="Comment">-- Main definition. Valid for all k as deals with boundary case.</a>

<a id="_P_"></a><a id="1046" href="Data.Nat.Combinatorics.Base.html#1046" class="Function Operator">_P_</a> <a id="1050" class="Symbol">:</a> <a id="1052" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1054" class="Symbol">→</a> <a id="1056" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1058" class="Symbol">→</a> <a id="1060" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="1062" href="Data.Nat.Combinatorics.Base.html#1062" class="Bound">n</a> <a id="1064" href="Data.Nat.Combinatorics.Base.html#1046" class="Function Operator">P</a> <a id="1066" href="Data.Nat.Combinatorics.Base.html#1066" class="Bound">k</a> <a id="1068" class="Symbol">=</a> <a id="1070" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1073" href="Data.Nat.Combinatorics.Base.html#1066" class="Bound">k</a> <a id="1075" href="Data.Nat.Base.html#1321" class="Function Operator">≤ᵇ</a> <a id="1078" href="Data.Nat.Combinatorics.Base.html#1062" class="Bound">n</a> <a id="1080" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1085" href="Data.Nat.Combinatorics.Base.html#1062" class="Bound">n</a> <a id="1087" href="Data.Nat.Combinatorics.Base.html#911" class="Function Operator">P′</a> <a id="1090" href="Data.Nat.Combinatorics.Base.html#1066" class="Bound">k</a> <a id="1092" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1097" class="Number">0</a>

<a id="1100" class="Comment">------------------------------------------------------------------------</a>
<a id="1173" class="Comment">-- Combinations / binomial coefficient</a>

<a id="1213" class="Comment">-- The number of ways, disregarding order, that k objects can be chosen</a>
<a id="1285" class="Comment">-- from among n objects.</a>

<a id="1311" class="Comment">-- n C k = n ! / (k ! * (n ∸ k) !)</a>

<a id="1347" class="Comment">-- Base definition. Only valid for k ≤ n.</a>

<a id="_C′_"></a><a id="1390" href="Data.Nat.Combinatorics.Base.html#1390" class="Function Operator">_C′_</a> <a id="1395" class="Symbol">:</a> <a id="1397" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1399" class="Symbol">→</a> <a id="1401" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1403" class="Symbol">→</a> <a id="1405" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="1407" href="Data.Nat.Combinatorics.Base.html#1407" class="Bound">n</a> <a id="1409" href="Data.Nat.Combinatorics.Base.html#1390" class="Function Operator">C′</a> <a id="1412" href="Data.Nat.Combinatorics.Base.html#1412" class="Bound">k</a> <a id="1414" class="Symbol">=</a> <a id="1416" class="Symbol">(</a><a id="1417" href="Data.Nat.Combinatorics.Base.html#1407" class="Bound">n</a> <a id="1419" href="Data.Nat.Combinatorics.Base.html#911" class="Function Operator">P′</a> <a id="1422" href="Data.Nat.Combinatorics.Base.html#1412" class="Bound">k</a><a id="1423" class="Symbol">)</a> <a id="1425" href="Data.Nat.Base.html#5077" class="Function Operator">/</a> <a id="1427" href="Data.Nat.Combinatorics.Base.html#1412" class="Bound">k</a> <a id="1429" href="Data.Nat.Base.html#5366" class="Function Operator">!</a>
  <a id="1433" class="Keyword">where</a> <a id="1439" class="Keyword">instance</a> <a id="1448" href="Data.Nat.Combinatorics.Base.html#1448" class="Function">_</a> <a id="1450" class="Symbol">=</a> <a id="1452" href="Data.Nat.Combinatorics.Base.html#1412" class="Bound">k</a> <a id="1454" href="Data.Nat.Properties.html#60258" class="Function Operator">!≢0</a>

<a id="1459" class="Comment">-- Main definition. Valid for all k.</a>
<a id="1496" class="Comment">-- Deals with boundary case and exploits symmetry to improve performance.</a>

<a id="_C_"></a><a id="1571" href="Data.Nat.Combinatorics.Base.html#1571" class="Function Operator">_C_</a> <a id="1575" class="Symbol">:</a> <a id="1577" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1579" class="Symbol">→</a> <a id="1581" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1583" class="Symbol">→</a> <a id="1585" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="1587" href="Data.Nat.Combinatorics.Base.html#1587" class="Bound">n</a> <a id="1589" href="Data.Nat.Combinatorics.Base.html#1571" class="Function Operator">C</a> <a id="1591" href="Data.Nat.Combinatorics.Base.html#1591" class="Bound">k</a> <a id="1593" class="Symbol">=</a> <a id="1595" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1598" href="Data.Nat.Combinatorics.Base.html#1591" class="Bound">k</a> <a id="1600" href="Data.Nat.Base.html#1321" class="Function Operator">≤ᵇ</a> <a id="1603" href="Data.Nat.Combinatorics.Base.html#1587" class="Bound">n</a> <a id="1605" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1610" href="Data.Nat.Combinatorics.Base.html#1587" class="Bound">n</a> <a id="1612" href="Data.Nat.Combinatorics.Base.html#1390" class="Function Operator">C′</a> <a id="1615" class="Symbol">(</a><a id="1616" href="Data.Nat.Combinatorics.Base.html#1591" class="Bound">k</a> <a id="1618" href="Data.Nat.Base.html#3840" class="Function Operator">⊓</a> <a id="1620" class="Symbol">(</a><a id="1621" href="Data.Nat.Combinatorics.Base.html#1587" class="Bound">n</a> <a id="1623" href="Data.Nat.Base.html#3202" class="Primitive Operator">∸</a> <a id="1625" href="Data.Nat.Combinatorics.Base.html#1591" class="Bound">k</a><a id="1626" class="Symbol">))</a> <a id="1629" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1634" class="Number">0</a>
</pre></body></html>