<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Maybe.Effectful.Transformer</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- An effectful view of Maybe</a>
<a id="136" class="Comment">------------------------------------------------------------------------</a>

<a id="210" class="Symbol">{-#</a> <a id="214" class="Keyword">OPTIONS</a> <a id="222" class="Pragma">--without-K</a> <a id="234" class="Pragma">--safe</a> <a id="241" class="Symbol">#-}</a>

<a id="246" class="Keyword">module</a> <a id="253" href="Data.Maybe.Effectful.Transformer.html" class="Module">Data.Maybe.Effectful.Transformer</a> <a id="286" class="Keyword">where</a>

<a id="293" class="Keyword">open</a> <a id="298" class="Keyword">import</a> <a id="305" href="Level.html" class="Module">Level</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="339" class="Symbol">as</a> <a id="342" class="Module">Maybe</a> <a id="348" class="Keyword">using</a> <a id="354" class="Symbol">(</a><a id="355" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a><a id="360" class="Symbol">;</a> <a id="362" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a><a id="366" class="Symbol">;</a> <a id="368" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a><a id="375" class="Symbol">;</a> <a id="377" href="Data.Maybe.Base.html#1377" class="Function">maybe</a><a id="382" class="Symbol">)</a>

<a id="385" class="Keyword">open</a> <a id="390" class="Keyword">import</a> <a id="397" href="Effect.Choice.html" class="Module">Effect.Choice</a>
<a id="411" class="Keyword">open</a> <a id="416" class="Keyword">import</a> <a id="423" href="Effect.Empty.html" class="Module">Effect.Empty</a>
<a id="436" class="Keyword">open</a> <a id="441" class="Keyword">import</a> <a id="448" href="Effect.Functor.html" class="Module">Effect.Functor</a>
<a id="463" class="Keyword">open</a> <a id="468" class="Keyword">import</a> <a id="475" href="Effect.Applicative.html" class="Module">Effect.Applicative</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Effect.Monad.html" class="Module">Effect.Monad</a>

<a id="520" class="Keyword">import</a> <a id="527" href="Data.Maybe.Effectful.html" class="Module">Data.Maybe.Effectful</a> <a id="548" class="Symbol">as</a> <a id="551" class="Module">Maybe</a>
<a id="557" class="Keyword">open</a> <a id="562" class="Keyword">import</a> <a id="569" href="Function.Base.html" class="Module">Function.Base</a>

<a id="584" class="Keyword">private</a>
  <a id="594" class="Keyword">variable</a>
    <a id="607" href="Data.Maybe.Effectful.Transformer.html#607" class="Generalizable">f</a> <a id="609" href="Data.Maybe.Effectful.Transformer.html#609" class="Generalizable">g</a> <a id="611" class="Symbol">:</a> <a id="613" href="Agda.Primitive.html#597" class="Postulate">Level</a>
    <a id="623" href="Data.Maybe.Effectful.Transformer.html#623" class="Generalizable">M</a> <a id="625" class="Symbol">:</a> <a id="627" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="631" href="Data.Maybe.Effectful.Transformer.html#607" class="Generalizable">f</a> <a id="633" class="Symbol">→</a> <a id="635" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="639" href="Data.Maybe.Effectful.Transformer.html#609" class="Generalizable">g</a>

<a id="642" class="Comment">------------------------------------------------------------------------</a>
<a id="715" class="Comment">-- Maybe monad transformer</a>

<a id="743" class="Keyword">record</a> <a id="MaybeT"></a><a id="750" href="Data.Maybe.Effectful.Transformer.html#750" class="Record">MaybeT</a> <a id="757" class="Symbol">(</a><a id="758" href="Data.Maybe.Effectful.Transformer.html#758" class="Bound">M</a> <a id="760" class="Symbol">:</a> <a id="762" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="766" href="Data.Maybe.Effectful.Transformer.html#607" class="Generalizable">f</a> <a id="768" class="Symbol">→</a> <a id="770" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="774" href="Data.Maybe.Effectful.Transformer.html#609" class="Generalizable">g</a><a id="775" class="Symbol">)</a> <a id="777" class="Symbol">(</a><a id="778" href="Data.Maybe.Effectful.Transformer.html#778" class="Bound">A</a> <a id="780" class="Symbol">:</a> <a id="782" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="786" href="Data.Maybe.Effectful.Transformer.html#607" class="Generalizable">f</a><a id="787" class="Symbol">)</a> <a id="789" class="Symbol">:</a> <a id="791" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="795" href="Data.Maybe.Effectful.Transformer.html#774" class="Bound">g</a> <a id="797" class="Keyword">where</a>
  <a id="805" class="Keyword">constructor</a> <a id="mkMaybeT"></a><a id="817" href="Data.Maybe.Effectful.Transformer.html#817" class="InductiveConstructor">mkMaybeT</a>
  <a id="828" class="Keyword">field</a> <a id="MaybeT.runMaybeT"></a><a id="834" href="Data.Maybe.Effectful.Transformer.html#834" class="Field">runMaybeT</a> <a id="844" class="Symbol">:</a> <a id="846" href="Data.Maybe.Effectful.Transformer.html#758" class="Bound">M</a> <a id="848" class="Symbol">(</a><a id="849" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="855" href="Data.Maybe.Effectful.Transformer.html#778" class="Bound">A</a><a id="856" class="Symbol">)</a>
<a id="858" class="Keyword">open</a> <a id="863" href="Data.Maybe.Effectful.Transformer.html#750" class="Module">MaybeT</a> <a id="870" class="Keyword">public</a>

<a id="878" class="Comment">------------------------------------------------------------------------</a>
<a id="951" class="Comment">-- Structure</a>

<a id="functor"></a><a id="965" href="Data.Maybe.Effectful.Transformer.html#965" class="Function">functor</a> <a id="973" class="Symbol">:</a> <a id="975" href="Effect.Functor.html#570" class="Record">RawFunctor</a> <a id="986" href="Data.Maybe.Effectful.Transformer.html#623" class="Generalizable">M</a> <a id="988" class="Symbol">→</a> <a id="990" href="Effect.Functor.html#570" class="Record">RawFunctor</a> <a id="1001" class="Symbol">{</a><a id="1002" href="Data.Maybe.Effectful.Transformer.html#607" class="Generalizable">f</a><a id="1003" class="Symbol">}</a> <a id="1005" class="Symbol">(</a><a id="1006" href="Data.Maybe.Effectful.Transformer.html#750" class="Record">MaybeT</a> <a id="1013" href="Data.Maybe.Effectful.Transformer.html#623" class="Generalizable">M</a><a id="1014" class="Symbol">)</a>
<a id="1016" href="Data.Maybe.Effectful.Transformer.html#965" class="Function">functor</a> <a id="1024" href="Data.Maybe.Effectful.Transformer.html#1024" class="Bound">M</a> <a id="1026" class="Symbol">=</a> <a id="1028" class="Keyword">record</a>
  <a id="1037" class="Symbol">{</a> <a id="1039" href="Effect.Functor.html#678" class="Field Operator">_&lt;$&gt;_</a> <a id="1045" class="Symbol">=</a> <a id="1047" class="Symbol">λ</a> <a id="1049" href="Data.Maybe.Effectful.Transformer.html#1049" class="Bound">f</a> <a id="1051" class="Symbol">→</a> <a id="1053" href="Data.Maybe.Effectful.Transformer.html#817" class="InductiveConstructor">mkMaybeT</a> <a id="1062" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="1065" class="Symbol">(</a><a id="1066" href="Data.Maybe.Base.html#2035" class="Function">Maybe.map</a> <a id="1076" href="Data.Maybe.Effectful.Transformer.html#1049" class="Bound">f</a> <a id="1078" href="Effect.Functor.html#678" class="Field Operator">&lt;$&gt;_</a><a id="1082" class="Symbol">)</a> <a id="1084" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="1087" href="Data.Maybe.Effectful.Transformer.html#834" class="Field">runMaybeT</a>
  <a id="1099" class="Symbol">}</a> <a id="1101" class="Keyword">where</a> <a id="1107" class="Keyword">open</a> <a id="1112" href="Effect.Functor.html#570" class="Module">RawFunctor</a> <a id="1123" href="Data.Maybe.Effectful.Transformer.html#1024" class="Bound">M</a>

<a id="applicative"></a><a id="1126" href="Data.Maybe.Effectful.Transformer.html#1126" class="Function">applicative</a> <a id="1138" class="Symbol">:</a> <a id="1140" href="Effect.Applicative.html#970" class="Record">RawApplicative</a> <a id="1155" href="Data.Maybe.Effectful.Transformer.html#623" class="Generalizable">M</a> <a id="1157" class="Symbol">→</a> <a id="1159" href="Effect.Applicative.html#970" class="Record">RawApplicative</a> <a id="1174" class="Symbol">{</a><a id="1175" href="Data.Maybe.Effectful.Transformer.html#607" class="Generalizable">f</a><a id="1176" class="Symbol">}</a> <a id="1178" class="Symbol">(</a><a id="1179" href="Data.Maybe.Effectful.Transformer.html#750" class="Record">MaybeT</a> <a id="1186" href="Data.Maybe.Effectful.Transformer.html#623" class="Generalizable">M</a><a id="1187" class="Symbol">)</a>
<a id="1189" href="Data.Maybe.Effectful.Transformer.html#1126" class="Function">applicative</a> <a id="1201" href="Data.Maybe.Effectful.Transformer.html#1201" class="Bound">M</a> <a id="1203" class="Symbol">=</a> <a id="1205" class="Keyword">record</a>
  <a id="1214" class="Symbol">{</a> <a id="1216" href="Effect.Applicative.html#1108" class="Field">rawFunctor</a> <a id="1227" class="Symbol">=</a> <a id="1229" href="Data.Maybe.Effectful.Transformer.html#965" class="Function">functor</a> <a id="1237" href="Effect.Applicative.html#1108" class="Field">rawFunctor</a>
  <a id="1250" class="Symbol">;</a> <a id="1252" href="Effect.Applicative.html#1138" class="Field">pure</a>       <a id="1263" class="Symbol">=</a> <a id="1265" href="Data.Maybe.Effectful.Transformer.html#817" class="InductiveConstructor">mkMaybeT</a> <a id="1274" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="1277" href="Effect.Applicative.html#1138" class="Field">pure</a> <a id="1282" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="1285" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a>
  <a id="1292" class="Symbol">;</a> <a id="1294" href="Effect.Applicative.html#1157" class="Field Operator">_&lt;*&gt;_</a>      <a id="1305" class="Symbol">=</a> <a id="1307" class="Symbol">λ</a> <a id="1309" href="Data.Maybe.Effectful.Transformer.html#1309" class="Bound">mf</a> <a id="1312" href="Data.Maybe.Effectful.Transformer.html#1312" class="Bound">ma</a> <a id="1315" class="Symbol">→</a> <a id="1317" href="Data.Maybe.Effectful.Transformer.html#817" class="InductiveConstructor">mkMaybeT</a> <a id="1326" class="Symbol">(</a><a id="1327" href="Data.Maybe.Base.html#2123" class="Function">Maybe.ap</a> <a id="1336" href="Effect.Functor.html#678" class="Function Operator">&lt;$&gt;</a> <a id="1340" href="Data.Maybe.Effectful.Transformer.html#834" class="Field">runMaybeT</a> <a id="1350" href="Data.Maybe.Effectful.Transformer.html#1309" class="Bound">mf</a> <a id="1353" href="Effect.Applicative.html#1157" class="Field Operator">&lt;*&gt;</a> <a id="1357" href="Data.Maybe.Effectful.Transformer.html#834" class="Field">runMaybeT</a> <a id="1367" href="Data.Maybe.Effectful.Transformer.html#1312" class="Bound">ma</a><a id="1369" class="Symbol">)</a>
  <a id="1373" class="Symbol">}</a> <a id="1375" class="Keyword">where</a> <a id="1381" class="Keyword">open</a> <a id="1386" href="Effect.Applicative.html#970" class="Module">RawApplicative</a> <a id="1401" href="Data.Maybe.Effectful.Transformer.html#1201" class="Bound">M</a>

<a id="monad"></a><a id="1404" href="Data.Maybe.Effectful.Transformer.html#1404" class="Function">monad</a> <a id="1410" class="Symbol">:</a> <a id="1412" href="Effect.Monad.html#766" class="Record">RawMonad</a> <a id="1421" href="Data.Maybe.Effectful.Transformer.html#623" class="Generalizable">M</a> <a id="1423" class="Symbol">→</a> <a id="1425" href="Effect.Monad.html#766" class="Record">RawMonad</a> <a id="1434" class="Symbol">{</a><a id="1435" href="Data.Maybe.Effectful.Transformer.html#607" class="Generalizable">f</a><a id="1436" class="Symbol">}</a> <a id="1438" class="Symbol">(</a><a id="1439" href="Data.Maybe.Effectful.Transformer.html#750" class="Record">MaybeT</a> <a id="1446" href="Data.Maybe.Effectful.Transformer.html#623" class="Generalizable">M</a><a id="1447" class="Symbol">)</a>
<a id="1449" href="Data.Maybe.Effectful.Transformer.html#1404" class="Function">monad</a> <a id="1455" href="Data.Maybe.Effectful.Transformer.html#1455" class="Bound">M</a> <a id="1457" class="Symbol">=</a> <a id="1459" class="Keyword">record</a>
  <a id="1468" class="Symbol">{</a> <a id="1470" href="Effect.Monad.html#882" class="Field">rawApplicative</a> <a id="1485" class="Symbol">=</a> <a id="1487" href="Data.Maybe.Effectful.Transformer.html#1126" class="Function">applicative</a> <a id="1499" href="Effect.Monad.html#882" class="Field">rawApplicative</a>
  <a id="1516" class="Symbol">;</a> <a id="1518" href="Effect.Monad.html#920" class="Field Operator">_&gt;&gt;=_</a> <a id="1524" class="Symbol">=</a> <a id="1526" class="Symbol">λ</a> <a id="1528" href="Data.Maybe.Effectful.Transformer.html#1528" class="Bound">ma</a> <a id="1531" href="Data.Maybe.Effectful.Transformer.html#1531" class="Bound">f</a> <a id="1533" class="Symbol">→</a> <a id="1535" href="Data.Maybe.Effectful.Transformer.html#817" class="InductiveConstructor">mkMaybeT</a> <a id="1544" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="1546" class="Keyword">do</a>
              <a id="1563" href="Data.Maybe.Effectful.Transformer.html#1563" class="Bound">a</a> <a id="1565" href="Effect.Monad.html#920" class="Field Operator">←</a> <a id="1567" href="Data.Maybe.Effectful.Transformer.html#834" class="Field">runMaybeT</a> <a id="1577" href="Data.Maybe.Effectful.Transformer.html#1528" class="Bound">ma</a>
              <a id="1594" href="Data.Maybe.Base.html#1377" class="Function">maybe</a> <a id="1600" class="Symbol">(</a><a id="1601" href="Data.Maybe.Effectful.Transformer.html#834" class="Field">runMaybeT</a> <a id="1611" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="1614" href="Data.Maybe.Effectful.Transformer.html#1531" class="Bound">f</a><a id="1615" class="Symbol">)</a> <a id="1617" class="Symbol">(</a><a id="1618" href="Effect.Applicative.html#1138" class="Function">pure</a> <a id="1623" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a><a id="1630" class="Symbol">)</a> <a id="1632" href="Data.Maybe.Effectful.Transformer.html#1563" class="Bound">a</a>
  <a id="1636" class="Symbol">}</a> <a id="1638" class="Keyword">where</a> <a id="1644" class="Keyword">open</a> <a id="1649" href="Effect.Monad.html#766" class="Module">RawMonad</a> <a id="1658" href="Data.Maybe.Effectful.Transformer.html#1455" class="Bound">M</a>

<a id="monadT"></a><a id="1661" href="Data.Maybe.Effectful.Transformer.html#1661" class="Function">monadT</a> <a id="1668" class="Symbol">:</a> <a id="1670" href="Effect.Monad.html#3039" class="Function">RawMonadT</a> <a id="1680" class="Symbol">{</a><a id="1681" href="Data.Maybe.Effectful.Transformer.html#607" class="Generalizable">f</a><a id="1682" class="Symbol">}</a> <a id="1684" class="Symbol">{</a><a id="1685" href="Data.Maybe.Effectful.Transformer.html#609" class="Generalizable">g</a><a id="1686" class="Symbol">}</a> <a id="1688" href="Data.Maybe.Effectful.Transformer.html#750" class="Record">MaybeT</a>
<a id="1695" href="Data.Maybe.Effectful.Transformer.html#1661" class="Function">monadT</a> <a id="1702" class="Symbol">{</a><a id="1703" class="Argument">M</a> <a id="1705" class="Symbol">=</a> <a id="1707" href="Data.Maybe.Effectful.Transformer.html#1707" class="Bound">F</a><a id="1708" class="Symbol">}</a> <a id="1710" href="Data.Maybe.Effectful.Transformer.html#1710" class="Bound">M</a> <a id="1712" class="Symbol">=</a> <a id="1714" class="Keyword">record</a>
  <a id="1723" class="Symbol">{</a> <a id="1725" href="Effect.Monad.html#2960" class="Field">lift</a> <a id="1730" class="Symbol">=</a> <a id="1732" href="Data.Maybe.Effectful.Transformer.html#817" class="InductiveConstructor">mkMaybeT</a> <a id="1741" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="1744" class="Symbol">(</a><a id="1745" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="1750" href="Effect.Functor.html#678" class="Function Operator">&lt;$&gt;_</a><a id="1754" class="Symbol">)</a>
  <a id="1758" class="Symbol">;</a> <a id="1760" href="Effect.Monad.html#2982" class="Field">rawMonad</a> <a id="1769" class="Symbol">=</a> <a id="1771" href="Data.Maybe.Effectful.Transformer.html#1404" class="Function">monad</a> <a id="1777" href="Data.Maybe.Effectful.Transformer.html#1710" class="Bound">M</a>
  <a id="1781" class="Symbol">}</a> <a id="1783" class="Keyword">where</a> <a id="1789" class="Keyword">open</a> <a id="1794" href="Effect.Monad.html#766" class="Module">RawMonad</a> <a id="1803" href="Data.Maybe.Effectful.Transformer.html#1710" class="Bound">M</a>
</pre></body></html>