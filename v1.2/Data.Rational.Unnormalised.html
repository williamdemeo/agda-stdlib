<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Rational.Unnormalised</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Rational numbers in non-reduced form.</a>
<a id="147" class="Comment">------------------------------------------------------------------------</a>

<a id="221" class="Symbol">{-#</a> <a id="225" class="Keyword">OPTIONS</a> <a id="233" class="Pragma">--without-K</a> <a id="245" class="Pragma">--safe</a> <a id="252" class="Symbol">#-}</a>

<a id="257" class="Keyword">module</a> <a id="264" href="Data.Rational.Unnormalised.html" class="Module">Data.Rational.Unnormalised</a> <a id="291" class="Keyword">where</a>

<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="323" class="Symbol">as</a> <a id="326" class="Module">ℤ</a> <a id="328" class="Keyword">using</a> <a id="334" class="Symbol">(</a><a id="335" href="Agda.Builtin.Int.html#219" class="Datatype">ℤ</a><a id="336" class="Symbol">;</a> <a id="338" href="Data.Integer.Base.html#2084" class="Function Operator">∣_∣</a><a id="341" class="Symbol">;</a> <a id="343" href="Agda.Builtin.Int.html#237" class="InductiveConstructor">+_</a><a id="345" class="Symbol">;</a> <a id="347" href="Data.Integer.Base.html#1316">+0</a><a id="349" class="Symbol">;</a> <a id="351" href="Data.Integer.Base.html#1339" class="Operator">+[1+_]</a><a id="357" class="Symbol">;</a> <a id="359" href="Agda.Builtin.Int.html#264" class="InductiveConstructor">-[1+_]</a><a id="365" class="Symbol">)</a>
<a id="367" class="Keyword">open</a> <a id="372" class="Keyword">import</a> <a id="379" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="388" class="Symbol">as</a> <a id="391" class="Module">ℕ</a> <a id="393" class="Keyword">using</a> <a id="399" class="Symbol">(</a><a id="400" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="401" class="Symbol">;</a> <a id="403" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a><a id="407" class="Symbol">;</a> <a id="409" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a><a id="412" class="Symbol">)</a>
<a id="414" class="Keyword">open</a> <a id="419" class="Keyword">import</a> <a id="426" href="Level.html" class="Module">Level</a> <a id="432" class="Keyword">using</a> <a id="438" class="Symbol">(</a><a id="439" href="Level.html#512" class="Function">0ℓ</a><a id="441" class="Symbol">)</a>
<a id="443" class="Keyword">open</a> <a id="448" class="Keyword">import</a> <a id="455" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="472" class="Keyword">using</a> <a id="478" class="Symbol">(</a><a id="479" href="Relation.Nullary.html#653" class="Function Operator">¬_</a><a id="481" class="Symbol">)</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="522" class="Keyword">using</a> <a id="528" class="Symbol">(</a><a id="529" href="Relation.Nullary.Decidable.Core.html#1286" class="Function">False</a><a id="534" class="Symbol">)</a>
<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="564" class="Keyword">using</a> <a id="570" class="Symbol">(</a><a id="571" href="Relation.Binary.Core.html#845" class="Function">Rel</a><a id="574" class="Symbol">)</a>
<a id="576" class="Keyword">open</a> <a id="581" class="Keyword">import</a> <a id="588" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="626" class="Keyword">using</a> <a id="632" class="Symbol">(</a><a id="633" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">_≡_</a><a id="636" class="Symbol">)</a>

<a id="639" class="Comment">------------------------------------------------------------------------</a>
<a id="712" class="Comment">-- Definition</a>

<a id="727" class="Comment">-- Here we define rationals that are not necessarily in reduced form.</a>
<a id="797" class="Comment">-- Consequently there are multiple ways of representing a given rational</a>
<a id="870" class="Comment">-- number, and the performance of the arithmetic operations may suffer</a>
<a id="941" class="Comment">-- due to blowup of the numerator and denominator.</a>

<a id="993" class="Comment">-- Nonetheless they are much easier to reason about. In general proofs</a>
<a id="1064" class="Comment">-- are first proved for these unnormalised rationals and then translated</a>
<a id="1137" class="Comment">-- into the normalised rationals.</a>

<a id="1172" class="Keyword">record</a> <a id="ℚᵘ"></a><a id="1179" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="1182" class="Symbol">:</a> <a id="1184" class="PrimitiveType">Set</a> <a id="1188" class="Keyword">where</a>
  <a id="1196" class="Keyword">constructor</a> <a id="ℚᵘ.mkℚᵘ"></a><a id="1208" href="Data.Rational.Unnormalised.html#1208" class="InductiveConstructor">mkℚᵘ</a>
  <a id="1215" class="Keyword">field</a>
    <a id="ℚᵘ.numerator"></a><a id="1225" href="Data.Rational.Unnormalised.html#1225" class="Field">numerator</a>     <a id="1239" class="Symbol">:</a> <a id="1241" href="Agda.Builtin.Int.html#219" class="Datatype">ℤ</a>
    <a id="ℚᵘ.denominator-1"></a><a id="1247" href="Data.Rational.Unnormalised.html#1247" class="Field">denominator-1</a> <a id="1261" class="Symbol">:</a> <a id="1263" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>

  <a id="ℚᵘ.denominatorℕ"></a><a id="1268" href="Data.Rational.Unnormalised.html#1268" class="Function">denominatorℕ</a> <a id="1281" class="Symbol">:</a> <a id="1283" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>
  <a id="1287" href="Data.Rational.Unnormalised.html#1268" class="Function">denominatorℕ</a> <a id="1300" class="Symbol">=</a> <a id="1302" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="1306" href="Data.Rational.Unnormalised.html#1247" class="Field">denominator-1</a>

  <a id="ℚᵘ.denominator"></a><a id="1323" href="Data.Rational.Unnormalised.html#1323" class="Function">denominator</a> <a id="1335" class="Symbol">:</a> <a id="1337" href="Agda.Builtin.Int.html#219" class="Datatype">ℤ</a>
  <a id="1341" href="Data.Rational.Unnormalised.html#1323" class="Function">denominator</a> <a id="1353" class="Symbol">=</a> <a id="1355" href="Agda.Builtin.Int.html#237" class="InductiveConstructor Operator">+</a> <a id="1357" href="Data.Rational.Unnormalised.html#1268" class="Function">denominatorℕ</a>

<a id="1371" class="Keyword">open</a> <a id="1376" href="Data.Rational.Unnormalised.html#1179" class="Module">ℚᵘ</a> <a id="1379" class="Keyword">public</a> <a id="1386" class="Keyword">using</a> <a id="1392" class="Symbol">()</a>
  <a id="1397" class="Keyword">renaming</a>
  <a id="1408" class="Symbol">(</a> <a id="1410" href="Data.Rational.Unnormalised.html#1225" class="Field">numerator</a>    <a id="1423" class="Symbol">to</a> <a id="1426" href="Data.Rational.Unnormalised.html#1225" class="Field">↥_</a>
  <a id="1431" class="Symbol">;</a> <a id="1433" href="Data.Rational.Unnormalised.html#1323" class="Function">denominator</a>  <a id="1446" class="Symbol">to</a> <a id="1449" href="Data.Rational.Unnormalised.html#1323" class="Function">↧_</a>
  <a id="1454" class="Symbol">;</a> <a id="1456" href="Data.Rational.Unnormalised.html#1268" class="Function">denominatorℕ</a> <a id="1469" class="Symbol">to</a> <a id="1472" href="Data.Rational.Unnormalised.html#1268" class="Function">↧ₙ_</a>
  <a id="1478" class="Symbol">)</a>

<a id="1481" class="Comment">------------------------------------------------------------------------</a>
<a id="1554" class="Comment">-- Equality of rational numbers (does not coincide with _≡_)</a>

<a id="1616" class="Keyword">infix</a> <a id="1622" class="Number">4</a> <a id="1624" href="Data.Rational.Unnormalised.html#1633" class="Datatype Operator">_≃_</a>
<a id="1628" class="Keyword">data</a> <a id="_≃_"></a><a id="1633" href="Data.Rational.Unnormalised.html#1633" class="Datatype Operator">_≃_</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="1643" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="1646" href="Level.html#512" class="Function">0ℓ</a> <a id="1649" class="Keyword">where</a>
  <a id="_≃_.*≡*"></a><a id="1657" href="Data.Rational.Unnormalised.html#1657" class="InductiveConstructor">*≡*</a> <a id="1661" class="Symbol">:</a> <a id="1663" class="Symbol">∀</a> <a id="1665" class="Symbol">{</a><a id="1666" href="Data.Rational.Unnormalised.html#1666" class="Bound">p</a> <a id="1668" href="Data.Rational.Unnormalised.html#1668" class="Bound">q</a><a id="1669" class="Symbol">}</a> <a id="1671" class="Symbol">→</a> <a id="1673" class="Symbol">(</a><a id="1674" href="Data.Rational.Unnormalised.html#1225" class="Field Operator">↥</a> <a id="1676" href="Data.Rational.Unnormalised.html#1666" class="Bound">p</a> <a id="1678" href="Data.Integer.Base.html#3367" class="Function Operator">ℤ.*</a> <a id="1682" href="Data.Rational.Unnormalised.html#1323" class="Function Operator">↧</a> <a id="1684" href="Data.Rational.Unnormalised.html#1668" class="Bound">q</a><a id="1685" class="Symbol">)</a> <a id="1687" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="1689" class="Symbol">(</a><a id="1690" href="Data.Rational.Unnormalised.html#1225" class="Field Operator">↥</a> <a id="1692" href="Data.Rational.Unnormalised.html#1668" class="Bound">q</a> <a id="1694" href="Data.Integer.Base.html#3367" class="Function Operator">ℤ.*</a> <a id="1698" href="Data.Rational.Unnormalised.html#1323" class="Function Operator">↧</a> <a id="1700" href="Data.Rational.Unnormalised.html#1666" class="Bound">p</a><a id="1701" class="Symbol">)</a> <a id="1703" class="Symbol">→</a> <a id="1705" href="Data.Rational.Unnormalised.html#1666" class="Bound">p</a> <a id="1707" href="Data.Rational.Unnormalised.html#1633" class="Datatype Operator">≃</a> <a id="1709" href="Data.Rational.Unnormalised.html#1668" class="Bound">q</a>

<a id="1712" class="Comment">------------------------------------------------------------------------</a>
<a id="1785" class="Comment">-- Ordering of rationals</a>

<a id="1811" class="Keyword">infix</a> <a id="1817" class="Number">4</a> <a id="1819" href="Data.Rational.Unnormalised.html#1857" class="Datatype Operator">_≤_</a> <a id="1823" href="Data.Rational.Unnormalised.html#1943" class="Datatype Operator">_&lt;_</a> <a id="1827" href="Data.Rational.Unnormalised.html#2024" class="Function Operator">_≥_</a> <a id="1831" href="Data.Rational.Unnormalised.html#2055" class="Function Operator">_&gt;_</a> <a id="1835" href="Data.Rational.Unnormalised.html#2086" class="Function Operator">_≰_</a> <a id="1839" href="Data.Rational.Unnormalised.html#2121" class="Function Operator">_≱_</a> <a id="1843" href="Data.Rational.Unnormalised.html#2156" class="Function Operator">_≮_</a> <a id="1847" href="Data.Rational.Unnormalised.html#2191" class="Function Operator">_≯_</a>

<a id="1852" class="Keyword">data</a> <a id="_≤_"></a><a id="1857" href="Data.Rational.Unnormalised.html#1857" class="Datatype Operator">_≤_</a> <a id="1861" class="Symbol">:</a> <a id="1863" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="1867" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="1870" href="Level.html#512" class="Function">0ℓ</a> <a id="1873" class="Keyword">where</a>
  <a id="_≤_.*≤*"></a><a id="1881" href="Data.Rational.Unnormalised.html#1881" class="InductiveConstructor">*≤*</a> <a id="1885" class="Symbol">:</a> <a id="1887" class="Symbol">∀</a> <a id="1889" class="Symbol">{</a><a id="1890" href="Data.Rational.Unnormalised.html#1890" class="Bound">p</a> <a id="1892" href="Data.Rational.Unnormalised.html#1892" class="Bound">q</a><a id="1893" class="Symbol">}</a> <a id="1895" class="Symbol">→</a> <a id="1897" class="Symbol">(</a><a id="1898" href="Data.Rational.Unnormalised.html#1225" class="Field Operator">↥</a> <a id="1900" href="Data.Rational.Unnormalised.html#1890" class="Bound">p</a> <a id="1902" href="Data.Integer.Base.html#3367" class="Function Operator">ℤ.*</a> <a id="1906" href="Data.Rational.Unnormalised.html#1323" class="Function Operator">↧</a> <a id="1908" href="Data.Rational.Unnormalised.html#1892" class="Bound">q</a><a id="1909" class="Symbol">)</a> <a id="1911" href="Data.Integer.Base.html#1454" class="Datatype Operator">ℤ.≤</a> <a id="1915" class="Symbol">(</a><a id="1916" href="Data.Rational.Unnormalised.html#1225" class="Field Operator">↥</a> <a id="1918" href="Data.Rational.Unnormalised.html#1892" class="Bound">q</a> <a id="1920" href="Data.Integer.Base.html#3367" class="Function Operator">ℤ.*</a> <a id="1924" href="Data.Rational.Unnormalised.html#1323" class="Function Operator">↧</a> <a id="1926" href="Data.Rational.Unnormalised.html#1890" class="Bound">p</a><a id="1927" class="Symbol">)</a> <a id="1929" class="Symbol">→</a> <a id="1931" href="Data.Rational.Unnormalised.html#1890" class="Bound">p</a> <a id="1933" href="Data.Rational.Unnormalised.html#1857" class="Datatype Operator">≤</a> <a id="1935" href="Data.Rational.Unnormalised.html#1892" class="Bound">q</a>

<a id="1938" class="Keyword">data</a> <a id="_&lt;_"></a><a id="1943" href="Data.Rational.Unnormalised.html#1943" class="Datatype Operator">_&lt;_</a> <a id="1947" class="Symbol">:</a> <a id="1949" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="1953" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="1956" href="Level.html#512" class="Function">0ℓ</a> <a id="1959" class="Keyword">where</a>
  <a id="_&lt;_.*&lt;*"></a><a id="1967" href="Data.Rational.Unnormalised.html#1967" class="InductiveConstructor">*&lt;*</a> <a id="1971" class="Symbol">:</a> <a id="1973" class="Symbol">∀</a> <a id="1975" class="Symbol">{</a><a id="1976" href="Data.Rational.Unnormalised.html#1976" class="Bound">p</a> <a id="1978" href="Data.Rational.Unnormalised.html#1978" class="Bound">q</a><a id="1979" class="Symbol">}</a> <a id="1981" class="Symbol">→</a> <a id="1983" class="Symbol">(</a><a id="1984" href="Data.Rational.Unnormalised.html#1225" class="Field Operator">↥</a> <a id="1986" href="Data.Rational.Unnormalised.html#1976" class="Bound">p</a> <a id="1988" href="Data.Integer.Base.html#3367" class="Function Operator">ℤ.*</a> <a id="1992" href="Data.Rational.Unnormalised.html#1323" class="Function Operator">↧</a> <a id="1994" href="Data.Rational.Unnormalised.html#1978" class="Bound">q</a><a id="1995" class="Symbol">)</a> <a id="1997" href="Data.Integer.Base.html#1619" class="Datatype Operator">ℤ.&lt;</a> <a id="2001" class="Symbol">(</a><a id="2002" href="Data.Rational.Unnormalised.html#1225" class="Field Operator">↥</a> <a id="2004" href="Data.Rational.Unnormalised.html#1978" class="Bound">q</a> <a id="2006" href="Data.Integer.Base.html#3367" class="Function Operator">ℤ.*</a> <a id="2010" href="Data.Rational.Unnormalised.html#1323" class="Function Operator">↧</a> <a id="2012" href="Data.Rational.Unnormalised.html#1976" class="Bound">p</a><a id="2013" class="Symbol">)</a> <a id="2015" class="Symbol">→</a> <a id="2017" href="Data.Rational.Unnormalised.html#1976" class="Bound">p</a> <a id="2019" href="Data.Rational.Unnormalised.html#1943" class="Datatype Operator">&lt;</a> <a id="2021" href="Data.Rational.Unnormalised.html#1978" class="Bound">q</a>

<a id="_≥_"></a><a id="2024" href="Data.Rational.Unnormalised.html#2024" class="Function Operator">_≥_</a> <a id="2028" class="Symbol">:</a> <a id="2030" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2034" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="2037" href="Level.html#512" class="Function">0ℓ</a>
<a id="2040" href="Data.Rational.Unnormalised.html#2040" class="Bound">x</a> <a id="2042" href="Data.Rational.Unnormalised.html#2024" class="Function Operator">≥</a> <a id="2044" href="Data.Rational.Unnormalised.html#2044" class="Bound">y</a> <a id="2046" class="Symbol">=</a> <a id="2048" href="Data.Rational.Unnormalised.html#2044" class="Bound">y</a> <a id="2050" href="Data.Rational.Unnormalised.html#1857" class="Datatype Operator">≤</a> <a id="2052" href="Data.Rational.Unnormalised.html#2040" class="Bound">x</a>

<a id="_&gt;_"></a><a id="2055" href="Data.Rational.Unnormalised.html#2055" class="Function Operator">_&gt;_</a> <a id="2059" class="Symbol">:</a> <a id="2061" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2065" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="2068" href="Level.html#512" class="Function">0ℓ</a>
<a id="2071" href="Data.Rational.Unnormalised.html#2071" class="Bound">x</a> <a id="2073" href="Data.Rational.Unnormalised.html#2055" class="Function Operator">&gt;</a> <a id="2075" href="Data.Rational.Unnormalised.html#2075" class="Bound">y</a> <a id="2077" class="Symbol">=</a> <a id="2079" href="Data.Rational.Unnormalised.html#2075" class="Bound">y</a> <a id="2081" href="Data.Rational.Unnormalised.html#1943" class="Datatype Operator">&lt;</a> <a id="2083" href="Data.Rational.Unnormalised.html#2071" class="Bound">x</a>

<a id="_≰_"></a><a id="2086" href="Data.Rational.Unnormalised.html#2086" class="Function Operator">_≰_</a> <a id="2090" class="Symbol">:</a> <a id="2092" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2096" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="2099" href="Level.html#512" class="Function">0ℓ</a>
<a id="2102" href="Data.Rational.Unnormalised.html#2102" class="Bound">x</a> <a id="2104" href="Data.Rational.Unnormalised.html#2086" class="Function Operator">≰</a> <a id="2106" href="Data.Rational.Unnormalised.html#2106" class="Bound">y</a> <a id="2108" class="Symbol">=</a> <a id="2110" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="2112" class="Symbol">(</a><a id="2113" href="Data.Rational.Unnormalised.html#2102" class="Bound">x</a> <a id="2115" href="Data.Rational.Unnormalised.html#1857" class="Datatype Operator">≤</a> <a id="2117" href="Data.Rational.Unnormalised.html#2106" class="Bound">y</a><a id="2118" class="Symbol">)</a>

<a id="_≱_"></a><a id="2121" href="Data.Rational.Unnormalised.html#2121" class="Function Operator">_≱_</a> <a id="2125" class="Symbol">:</a> <a id="2127" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2131" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="2134" href="Level.html#512" class="Function">0ℓ</a>
<a id="2137" href="Data.Rational.Unnormalised.html#2137" class="Bound">x</a> <a id="2139" href="Data.Rational.Unnormalised.html#2121" class="Function Operator">≱</a> <a id="2141" href="Data.Rational.Unnormalised.html#2141" class="Bound">y</a> <a id="2143" class="Symbol">=</a> <a id="2145" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="2147" class="Symbol">(</a><a id="2148" href="Data.Rational.Unnormalised.html#2137" class="Bound">x</a> <a id="2150" href="Data.Rational.Unnormalised.html#2024" class="Function Operator">≥</a> <a id="2152" href="Data.Rational.Unnormalised.html#2141" class="Bound">y</a><a id="2153" class="Symbol">)</a>

<a id="_≮_"></a><a id="2156" href="Data.Rational.Unnormalised.html#2156" class="Function Operator">_≮_</a> <a id="2160" class="Symbol">:</a> <a id="2162" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2166" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="2169" href="Level.html#512" class="Function">0ℓ</a>
<a id="2172" href="Data.Rational.Unnormalised.html#2172" class="Bound">x</a> <a id="2174" href="Data.Rational.Unnormalised.html#2156" class="Function Operator">≮</a> <a id="2176" href="Data.Rational.Unnormalised.html#2176" class="Bound">y</a> <a id="2178" class="Symbol">=</a> <a id="2180" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="2182" class="Symbol">(</a><a id="2183" href="Data.Rational.Unnormalised.html#2172" class="Bound">x</a> <a id="2185" href="Data.Rational.Unnormalised.html#1943" class="Datatype Operator">&lt;</a> <a id="2187" href="Data.Rational.Unnormalised.html#2176" class="Bound">y</a><a id="2188" class="Symbol">)</a>

<a id="_≯_"></a><a id="2191" href="Data.Rational.Unnormalised.html#2191" class="Function Operator">_≯_</a> <a id="2195" class="Symbol">:</a> <a id="2197" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2201" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="2204" href="Level.html#512" class="Function">0ℓ</a>
<a id="2207" href="Data.Rational.Unnormalised.html#2207" class="Bound">x</a> <a id="2209" href="Data.Rational.Unnormalised.html#2191" class="Function Operator">≯</a> <a id="2211" href="Data.Rational.Unnormalised.html#2211" class="Bound">y</a> <a id="2213" class="Symbol">=</a> <a id="2215" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="2217" class="Symbol">(</a><a id="2218" href="Data.Rational.Unnormalised.html#2207" class="Bound">x</a> <a id="2220" href="Data.Rational.Unnormalised.html#2055" class="Function Operator">&gt;</a> <a id="2222" href="Data.Rational.Unnormalised.html#2211" class="Bound">y</a><a id="2223" class="Symbol">)</a>

<a id="2226" class="Comment">------------------------------------------------------------------------</a>
<a id="2299" class="Comment">-- Constructing rationals</a>

<a id="2326" class="Keyword">infix</a> <a id="2332" class="Number">4</a> <a id="2334" href="Data.Rational.Unnormalised.html#2338" class="Function Operator">_≢0</a>
<a id="_≢0"></a><a id="2338" href="Data.Rational.Unnormalised.html#2338" class="Function Operator">_≢0</a> <a id="2342" class="Symbol">:</a> <a id="2344" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="2346" class="Symbol">→</a> <a id="2348" class="PrimitiveType">Set</a>
<a id="2352" href="Data.Rational.Unnormalised.html#2352" class="Bound">n</a> <a id="2354" href="Data.Rational.Unnormalised.html#2338" class="Function Operator">≢0</a> <a id="2357" class="Symbol">=</a> <a id="2359" href="Relation.Nullary.Decidable.Core.html#1286" class="Function">False</a> <a id="2365" class="Symbol">(</a><a id="2366" href="Data.Rational.Unnormalised.html#2352" class="Bound">n</a> <a id="2368" href="Data.Nat.Properties.html#2239" class="Function Operator">ℕ.≟</a> <a id="2372" class="Number">0</a><a id="2373" class="Symbol">)</a>

<a id="2376" class="Comment">-- An alternative constructor for ℚᵘ. See the constants section below</a>
<a id="2446" class="Comment">-- for examples of how to use this operator.</a>

<a id="2492" class="Keyword">infixl</a> <a id="2499" class="Number">7</a> <a id="2501" href="Data.Rational.Unnormalised.html#2506" class="Function Operator">_/_</a>

<a id="_/_"></a><a id="2506" href="Data.Rational.Unnormalised.html#2506" class="Function Operator">_/_</a> <a id="2510" class="Symbol">:</a> <a id="2512" class="Symbol">(</a><a id="2513" href="Data.Rational.Unnormalised.html#2513" class="Bound">n</a> <a id="2515" class="Symbol">:</a> <a id="2517" href="Agda.Builtin.Int.html#219" class="Datatype">ℤ</a><a id="2518" class="Symbol">)</a> <a id="2520" class="Symbol">(</a><a id="2521" href="Data.Rational.Unnormalised.html#2521" class="Bound">d</a> <a id="2523" class="Symbol">:</a> <a id="2525" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="2526" class="Symbol">)</a> <a id="2528" class="Symbol">.{</a><a id="2530" href="Data.Rational.Unnormalised.html#2530" class="Bound">d≢0</a> <a id="2534" class="Symbol">:</a> <a id="2536" href="Data.Rational.Unnormalised.html#2521" class="Bound">d</a> <a id="2538" href="Data.Rational.Unnormalised.html#2338" class="Function Operator">≢0</a><a id="2540" class="Symbol">}</a> <a id="2542" class="Symbol">→</a> <a id="2544" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a>
<a id="2547" href="Data.Rational.Unnormalised.html#2547" class="Bound">n</a> <a id="2549" href="Data.Rational.Unnormalised.html#2506" class="Function Operator">/</a> <a id="2551" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="2555" href="Data.Rational.Unnormalised.html#2555" class="Bound">d</a> <a id="2557" class="Symbol">=</a> <a id="2559" href="Data.Rational.Unnormalised.html#1208" class="InductiveConstructor">mkℚᵘ</a> <a id="2564" href="Data.Rational.Unnormalised.html#2547" class="Bound">n</a> <a id="2566" href="Data.Rational.Unnormalised.html#2555" class="Bound">d</a>

<a id="2569" class="Comment">------------------------------------------------------------------------------</a>
<a id="2648" class="Comment">-- Operations on rationals</a>

<a id="2676" class="Keyword">infix</a>  <a id="2683" class="Number">8</a> <a id="2685" href="Data.Rational.Unnormalised.html#2740" class="Function Operator">-_</a> <a id="2688" href="Data.Rational.Unnormalised.html#3068" class="Function Operator">1/_</a>
<a id="2692" class="Keyword">infixl</a> <a id="2699" class="Number">7</a> <a id="2701" href="Data.Rational.Unnormalised.html#2890" class="Function Operator">_*_</a> <a id="2705" href="Data.Rational.Unnormalised.html#3249" class="Function Operator">_÷_</a>
<a id="2709" class="Keyword">infixl</a> <a id="2716" class="Number">6</a> <a id="2718" href="Data.Rational.Unnormalised.html#2966" class="Function Operator">_-_</a> <a id="2722" href="Data.Rational.Unnormalised.html#2795" class="Function Operator">_+_</a>

<a id="2727" class="Comment">-- negation</a>

<a id="-_"></a><a id="2740" href="Data.Rational.Unnormalised.html#2740" class="Function Operator">-_</a> <a id="2743" class="Symbol">:</a> <a id="2745" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="2748" class="Symbol">→</a> <a id="2750" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a>
<a id="2753" href="Data.Rational.Unnormalised.html#2740" class="Function Operator">-</a> <a id="2755" href="Data.Rational.Unnormalised.html#1208" class="InductiveConstructor">mkℚᵘ</a> <a id="2760" href="Data.Rational.Unnormalised.html#2760" class="Bound">n</a> <a id="2762" href="Data.Rational.Unnormalised.html#2762" class="Bound">d</a> <a id="2764" class="Symbol">=</a> <a id="2766" href="Data.Rational.Unnormalised.html#1208" class="InductiveConstructor">mkℚᵘ</a> <a id="2771" class="Symbol">(</a><a id="2772" href="Data.Integer.Base.html#2817" class="Function Operator">ℤ.-</a> <a id="2776" href="Data.Rational.Unnormalised.html#2760" class="Bound">n</a><a id="2777" class="Symbol">)</a> <a id="2779" href="Data.Rational.Unnormalised.html#2762" class="Bound">d</a>

<a id="2782" class="Comment">-- addition</a>

<a id="_+_"></a><a id="2795" href="Data.Rational.Unnormalised.html#2795" class="Function Operator">_+_</a> <a id="2799" class="Symbol">:</a> <a id="2801" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="2804" class="Symbol">→</a> <a id="2806" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="2809" class="Symbol">→</a> <a id="2811" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a>
<a id="2814" href="Data.Rational.Unnormalised.html#2814" class="Bound">p</a> <a id="2816" href="Data.Rational.Unnormalised.html#2795" class="Function Operator">+</a> <a id="2818" href="Data.Rational.Unnormalised.html#2818" class="Bound">q</a> <a id="2820" class="Symbol">=</a> <a id="2822" class="Symbol">(</a><a id="2823" href="Data.Rational.Unnormalised.html#1225" class="Field Operator">↥</a> <a id="2825" href="Data.Rational.Unnormalised.html#2814" class="Bound">p</a> <a id="2827" href="Data.Integer.Base.html#3367" class="Function Operator">ℤ.*</a> <a id="2831" href="Data.Rational.Unnormalised.html#1323" class="Function Operator">↧</a> <a id="2833" href="Data.Rational.Unnormalised.html#2818" class="Bound">q</a> <a id="2835" href="Data.Integer.Base.html#3035" class="Function Operator">ℤ.+</a> <a id="2839" href="Data.Rational.Unnormalised.html#1225" class="Field Operator">↥</a> <a id="2841" href="Data.Rational.Unnormalised.html#2818" class="Bound">q</a> <a id="2843" href="Data.Integer.Base.html#3367" class="Function Operator">ℤ.*</a> <a id="2847" href="Data.Rational.Unnormalised.html#1323" class="Function Operator">↧</a> <a id="2849" href="Data.Rational.Unnormalised.html#2814" class="Bound">p</a><a id="2850" class="Symbol">)</a> <a id="2852" href="Data.Rational.Unnormalised.html#2506" class="Function Operator">/</a> <a id="2854" class="Symbol">(</a><a id="2855" href="Data.Rational.Unnormalised.html#1268" class="Function Operator">↧ₙ</a> <a id="2858" href="Data.Rational.Unnormalised.html#2814" class="Bound">p</a> <a id="2860" href="Agda.Builtin.Nat.html#501" class="Primitive Operator">ℕ.*</a> <a id="2864" href="Data.Rational.Unnormalised.html#1268" class="Function Operator">↧ₙ</a> <a id="2867" href="Data.Rational.Unnormalised.html#2818" class="Bound">q</a><a id="2868" class="Symbol">)</a>

<a id="2871" class="Comment">-- multiplication</a>

<a id="_*_"></a><a id="2890" href="Data.Rational.Unnormalised.html#2890" class="Function Operator">_*_</a> <a id="2894" class="Symbol">:</a> <a id="2896" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="2899" class="Symbol">→</a> <a id="2901" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="2904" class="Symbol">→</a> <a id="2906" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a>
<a id="2909" href="Data.Rational.Unnormalised.html#2909" class="Bound">p</a> <a id="2911" href="Data.Rational.Unnormalised.html#2890" class="Function Operator">*</a> <a id="2913" href="Data.Rational.Unnormalised.html#2913" class="Bound">q</a> <a id="2915" class="Symbol">=</a> <a id="2917" class="Symbol">(</a><a id="2918" href="Data.Rational.Unnormalised.html#1225" class="Field Operator">↥</a> <a id="2920" href="Data.Rational.Unnormalised.html#2909" class="Bound">p</a> <a id="2922" href="Data.Integer.Base.html#3367" class="Function Operator">ℤ.*</a> <a id="2926" href="Data.Rational.Unnormalised.html#1225" class="Field Operator">↥</a> <a id="2928" href="Data.Rational.Unnormalised.html#2913" class="Bound">q</a><a id="2929" class="Symbol">)</a> <a id="2931" href="Data.Rational.Unnormalised.html#2506" class="Function Operator">/</a> <a id="2933" class="Symbol">(</a><a id="2934" href="Data.Rational.Unnormalised.html#1268" class="Function Operator">↧ₙ</a> <a id="2937" href="Data.Rational.Unnormalised.html#2909" class="Bound">p</a> <a id="2939" href="Agda.Builtin.Nat.html#501" class="Primitive Operator">ℕ.*</a> <a id="2943" href="Data.Rational.Unnormalised.html#1268" class="Function Operator">↧ₙ</a> <a id="2946" href="Data.Rational.Unnormalised.html#2913" class="Bound">q</a><a id="2947" class="Symbol">)</a>

<a id="2950" class="Comment">-- subtraction</a>

<a id="_-_"></a><a id="2966" href="Data.Rational.Unnormalised.html#2966" class="Function Operator">_-_</a> <a id="2970" class="Symbol">:</a> <a id="2972" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="2975" class="Symbol">→</a> <a id="2977" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a> <a id="2980" class="Symbol">→</a> <a id="2982" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a>
<a id="2985" href="Data.Rational.Unnormalised.html#2985" class="Bound">p</a> <a id="2987" href="Data.Rational.Unnormalised.html#2966" class="Function Operator">-</a> <a id="2989" href="Data.Rational.Unnormalised.html#2989" class="Bound">q</a> <a id="2991" class="Symbol">=</a> <a id="2993" href="Data.Rational.Unnormalised.html#2985" class="Bound">p</a> <a id="2995" href="Data.Rational.Unnormalised.html#2795" class="Function Operator">+</a> <a id="2997" class="Symbol">(</a><a id="2998" href="Data.Rational.Unnormalised.html#2740" class="Function Operator">-</a> <a id="3000" href="Data.Rational.Unnormalised.html#2989" class="Bound">q</a><a id="3001" class="Symbol">)</a>

<a id="3004" class="Comment">-- reciprocal: requires a proof that the numerator is not zero</a>

<a id="1/_"></a><a id="3068" href="Data.Rational.Unnormalised.html#3068" class="Function Operator">1/_</a> <a id="3072" class="Symbol">:</a> <a id="3074" class="Symbol">(</a><a id="3075" href="Data.Rational.Unnormalised.html#3075" class="Bound">p</a> <a id="3077" class="Symbol">:</a> <a id="3079" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a><a id="3081" class="Symbol">)</a> <a id="3083" class="Symbol">→</a> <a id="3085" class="Symbol">.{</a><a id="3087" href="Data.Rational.Unnormalised.html#3087" class="Bound">n≢0</a> <a id="3091" class="Symbol">:</a> <a id="3093" href="Data.Integer.Base.html#2084" class="Function Operator">∣</a> <a id="3095" href="Data.Rational.Unnormalised.html#1225" class="Field Operator">↥</a> <a id="3097" href="Data.Rational.Unnormalised.html#3075" class="Bound">p</a> <a id="3099" href="Data.Integer.Base.html#2084" class="Function Operator">∣</a> <a id="3101" href="Data.Rational.Unnormalised.html#2338" class="Function Operator">≢0</a><a id="3103" class="Symbol">}</a> <a id="3105" class="Symbol">→</a> <a id="3107" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a>
<a id="3110" href="Data.Rational.Unnormalised.html#3068" class="Function Operator">1/</a> <a id="3113" href="Data.Rational.Unnormalised.html#1208" class="InductiveConstructor">mkℚᵘ</a> <a id="3118" href="Data.Integer.Base.html#1339" class="InductiveConstructor Operator">+[1+</a> <a id="3123" href="Data.Rational.Unnormalised.html#3123" class="Bound">n</a> <a id="3125" href="Data.Integer.Base.html#1339" class="InductiveConstructor Operator">]</a> <a id="3127" href="Data.Rational.Unnormalised.html#3127" class="Bound">d</a> <a id="3129" class="Symbol">=</a> <a id="3131" href="Data.Rational.Unnormalised.html#1208" class="InductiveConstructor">mkℚᵘ</a> <a id="3136" href="Data.Integer.Base.html#1339" class="InductiveConstructor Operator">+[1+</a> <a id="3141" href="Data.Rational.Unnormalised.html#3127" class="Bound">d</a> <a id="3143" href="Data.Integer.Base.html#1339" class="InductiveConstructor Operator">]</a> <a id="3145" href="Data.Rational.Unnormalised.html#3123" class="Bound">n</a>
<a id="3147" href="Data.Rational.Unnormalised.html#3068" class="Function Operator">1/</a> <a id="3150" href="Data.Rational.Unnormalised.html#1208" class="InductiveConstructor">mkℚᵘ</a> <a id="3155" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">-[1+</a> <a id="3160" href="Data.Rational.Unnormalised.html#3160" class="Bound">n</a> <a id="3162" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">]</a> <a id="3164" href="Data.Rational.Unnormalised.html#3164" class="Bound">d</a> <a id="3166" class="Symbol">=</a> <a id="3168" href="Data.Rational.Unnormalised.html#1208" class="InductiveConstructor">mkℚᵘ</a> <a id="3173" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">-[1+</a> <a id="3178" href="Data.Rational.Unnormalised.html#3164" class="Bound">d</a> <a id="3180" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">]</a> <a id="3182" href="Data.Rational.Unnormalised.html#3160" class="Bound">n</a>

<a id="3185" class="Comment">-- division: requires a proof that the denominator is not zero</a>

<a id="_÷_"></a><a id="3249" href="Data.Rational.Unnormalised.html#3249" class="Function Operator">_÷_</a> <a id="3253" class="Symbol">:</a> <a id="3255" class="Symbol">(</a><a id="3256" href="Data.Rational.Unnormalised.html#3256" class="Bound">p</a> <a id="3258" href="Data.Rational.Unnormalised.html#3258" class="Bound">q</a> <a id="3260" class="Symbol">:</a> <a id="3262" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a><a id="3264" class="Symbol">)</a> <a id="3266" class="Symbol">→</a> <a id="3268" class="Symbol">.{</a><a id="3270" href="Data.Rational.Unnormalised.html#3270" class="Bound">n≢0</a> <a id="3274" class="Symbol">:</a> <a id="3276" href="Data.Integer.Base.html#2084" class="Function Operator">∣</a> <a id="3278" href="Data.Rational.Unnormalised.html#1225" class="Field Operator">↥</a> <a id="3280" href="Data.Rational.Unnormalised.html#3258" class="Bound">q</a> <a id="3282" href="Data.Integer.Base.html#2084" class="Function Operator">∣</a> <a id="3284" href="Data.Rational.Unnormalised.html#2338" class="Function Operator">≢0</a><a id="3286" class="Symbol">}</a> <a id="3288" class="Symbol">→</a> <a id="3290" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a>
<a id="3293" class="Symbol">(</a><a id="3294" href="Data.Rational.Unnormalised.html#3294" class="Bound">p</a> <a id="3296" href="Data.Rational.Unnormalised.html#3249" class="Function Operator">÷</a> <a id="3298" href="Data.Rational.Unnormalised.html#3298" class="Bound">q</a><a id="3299" class="Symbol">)</a> <a id="3301" class="Symbol">{</a><a id="3302" href="Data.Rational.Unnormalised.html#3302" class="Bound">n≢0</a><a id="3305" class="Symbol">}</a> <a id="3307" class="Symbol">=</a> <a id="3309" href="Data.Rational.Unnormalised.html#3294" class="Bound">p</a> <a id="3311" href="Data.Rational.Unnormalised.html#2890" class="Function Operator">*</a> <a id="3313" class="Symbol">(</a><a id="3314" href="Data.Rational.Unnormalised.html#3068" class="Function Operator">1/_</a> <a id="3318" href="Data.Rational.Unnormalised.html#3298" class="Bound">q</a> <a id="3320" class="Symbol">{</a><a id="3321" href="Data.Rational.Unnormalised.html#3302" class="Bound">n≢0</a><a id="3324" class="Symbol">})</a>

<a id="3328" class="Comment">------------------------------------------------------------------------------</a>
<a id="3407" class="Comment">-- Some constants</a>

<a id="0ℚᵘ"></a><a id="3426" href="Data.Rational.Unnormalised.html#3426" class="Function">0ℚᵘ</a> <a id="3430" class="Symbol">:</a> <a id="3432" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a>
<a id="3435" href="Data.Rational.Unnormalised.html#3426" class="Function">0ℚᵘ</a> <a id="3439" class="Symbol">=</a> <a id="3441" href="Agda.Builtin.Int.html#237" class="InductiveConstructor Operator">+</a> <a id="3443" class="Number">0</a> <a id="3445" href="Data.Rational.Unnormalised.html#2506" class="Function Operator">/</a> <a id="3447" class="Number">1</a>

<a id="1ℚᵘ"></a><a id="3450" href="Data.Rational.Unnormalised.html#3450" class="Function">1ℚᵘ</a> <a id="3454" class="Symbol">:</a> <a id="3456" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a>
<a id="3459" href="Data.Rational.Unnormalised.html#3450" class="Function">1ℚᵘ</a> <a id="3463" class="Symbol">=</a> <a id="3465" href="Agda.Builtin.Int.html#237" class="InductiveConstructor Operator">+</a> <a id="3467" class="Number">1</a> <a id="3469" href="Data.Rational.Unnormalised.html#2506" class="Function Operator">/</a> <a id="3471" class="Number">1</a>

<a id="½"></a><a id="3474" href="Data.Rational.Unnormalised.html#3474" class="Function">½</a> <a id="3476" class="Symbol">:</a> <a id="3478" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a>
<a id="3481" href="Data.Rational.Unnormalised.html#3474" class="Function">½</a> <a id="3483" class="Symbol">=</a> <a id="3485" href="Agda.Builtin.Int.html#237" class="InductiveConstructor Operator">+</a> <a id="3487" class="Number">1</a> <a id="3489" href="Data.Rational.Unnormalised.html#2506" class="Function Operator">/</a> <a id="3491" class="Number">2</a>

<a id="-½"></a><a id="3494" href="Data.Rational.Unnormalised.html#3494" class="Function">-½</a> <a id="3497" class="Symbol">:</a> <a id="3499" href="Data.Rational.Unnormalised.html#1179" class="Record">ℚᵘ</a>
<a id="3502" href="Data.Rational.Unnormalised.html#3494" class="Function">-½</a> <a id="3505" class="Symbol">=</a> <a id="3507" href="Data.Rational.Unnormalised.html#2740" class="Function Operator">-</a> <a id="3509" href="Data.Rational.Unnormalised.html#3474" class="Function">½</a>
</pre></body></html>