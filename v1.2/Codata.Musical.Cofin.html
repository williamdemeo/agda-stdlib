<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Musical.Cofin</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- &quot;Finite&quot; sets indexed on coinductive &quot;natural&quot; numbers</a>
<a id="164" class="Comment">------------------------------------------------------------------------</a>

<a id="238" class="Symbol">{-#</a> <a id="242" class="Keyword">OPTIONS</a> <a id="250" class="Pragma">--without-K</a> <a id="262" class="Pragma">--sized-types</a> <a id="276" class="Pragma">--guardedness</a> <a id="290" class="Symbol">#-}</a>

<a id="295" class="Keyword">module</a> <a id="302" href="Codata.Musical.Cofin.html" class="Module">Codata.Musical.Cofin</a> <a id="323" class="Keyword">where</a>

<a id="330" class="Keyword">open</a> <a id="335" class="Keyword">import</a> <a id="342" href="Codata.Musical.Notation.html" class="Module">Codata.Musical.Notation</a>
<a id="366" class="Keyword">open</a> <a id="371" class="Keyword">import</a> <a id="378" href="Codata.Musical.Conat.html" class="Module">Codata.Musical.Conat</a> <a id="399" class="Symbol">as</a> <a id="402" class="Module">Conat</a> <a id="408" class="Keyword">using</a> <a id="414" class="Symbol">(</a><a id="415" href="Codata.Musical.Conat.html#596" class="Datatype">Coℕ</a><a id="418" class="Symbol">;</a> <a id="420" href="Codata.Musical.Conat.html#627" class="InductiveConstructor">suc</a><a id="423" class="Symbol">;</a> <a id="425" href="Codata.Musical.Conat.html#1172" class="Function">∞ℕ</a><a id="427" class="Symbol">)</a>
<a id="429" class="Keyword">open</a> <a id="434" class="Keyword">import</a> <a id="441" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="455" class="Keyword">using</a> <a id="461" class="Symbol">(</a><a id="462" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="463" class="Symbol">;</a> <a id="465" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a><a id="469" class="Symbol">;</a> <a id="471" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a><a id="474" class="Symbol">)</a>
<a id="476" class="Keyword">open</a> <a id="481" class="Keyword">import</a> <a id="488" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="497" class="Keyword">using</a> <a id="503" class="Symbol">(</a><a id="504" href="Data.Fin.Base.html#1061" class="Datatype">Fin</a><a id="507" class="Symbol">;</a> <a id="509" href="Data.Fin.Base.html#1083" class="InductiveConstructor">zero</a><a id="513" class="Symbol">;</a> <a id="515" href="Data.Fin.Base.html#1114" class="InductiveConstructor">suc</a><a id="518" class="Symbol">)</a>
<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="570" class="Keyword">using</a> <a id="576" class="Symbol">(</a><a id="577" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">_≡_</a> <a id="581" class="Symbol">;</a> <a id="583" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="587" class="Symbol">)</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="Function.html" class="Module">Function</a>

<a id="611" class="Comment">------------------------------------------------------------------------</a>
<a id="684" class="Comment">-- The type</a>

<a id="697" class="Comment">-- Note that Cofin ∞ℕ is /not/ finite. Note also that this is not a</a>
<a id="765" class="Comment">-- coinductive type, but it is indexed on a coinductive type.</a>

<a id="828" class="Keyword">data</a> <a id="Cofin"></a><a id="833" href="Codata.Musical.Cofin.html#833" class="Datatype">Cofin</a> <a id="839" class="Symbol">:</a> <a id="841" href="Codata.Musical.Conat.html#596" class="Datatype">Coℕ</a> <a id="845" class="Symbol">→</a> <a id="847" class="PrimitiveType">Set</a> <a id="851" class="Keyword">where</a>
  <a id="Cofin.zero"></a><a id="859" href="Codata.Musical.Cofin.html#859" class="InductiveConstructor">zero</a> <a id="864" class="Symbol">:</a> <a id="866" class="Symbol">∀</a> <a id="868" class="Symbol">{</a><a id="869" href="Codata.Musical.Cofin.html#869" class="Bound">n</a><a id="870" class="Symbol">}</a> <a id="872" class="Symbol">→</a> <a id="874" href="Codata.Musical.Cofin.html#833" class="Datatype">Cofin</a> <a id="880" class="Symbol">(</a><a id="881" href="Codata.Musical.Conat.html#627" class="InductiveConstructor">suc</a> <a id="885" href="Codata.Musical.Cofin.html#869" class="Bound">n</a><a id="886" class="Symbol">)</a>
  <a id="Cofin.suc"></a><a id="890" href="Codata.Musical.Cofin.html#890" class="InductiveConstructor">suc</a>  <a id="895" class="Symbol">:</a> <a id="897" class="Symbol">∀</a> <a id="899" class="Symbol">{</a><a id="900" href="Codata.Musical.Cofin.html#900" class="Bound">n</a><a id="901" class="Symbol">}</a> <a id="903" class="Symbol">(</a><a id="904" href="Codata.Musical.Cofin.html#904" class="Bound">i</a> <a id="906" class="Symbol">:</a> <a id="908" href="Codata.Musical.Cofin.html#833" class="Datatype">Cofin</a> <a id="914" class="Symbol">(</a><a id="915" href="Agda.Builtin.Coinduction.html#229" class="Field">♭</a> <a id="917" href="Codata.Musical.Cofin.html#900" class="Bound">n</a><a id="918" class="Symbol">))</a> <a id="921" class="Symbol">→</a> <a id="923" href="Codata.Musical.Cofin.html#833" class="Datatype">Cofin</a> <a id="929" class="Symbol">(</a><a id="930" href="Codata.Musical.Conat.html#627" class="InductiveConstructor">suc</a> <a id="934" href="Codata.Musical.Cofin.html#900" class="Bound">n</a><a id="935" class="Symbol">)</a>

<a id="suc-injective"></a><a id="938" href="Codata.Musical.Cofin.html#938" class="Function">suc-injective</a> <a id="952" class="Symbol">:</a> <a id="954" class="Symbol">∀</a> <a id="956" class="Symbol">{</a><a id="957" href="Codata.Musical.Cofin.html#957" class="Bound">m</a><a id="958" class="Symbol">}</a> <a id="960" class="Symbol">{</a><a id="961" href="Codata.Musical.Cofin.html#961" class="Bound">p</a> <a id="963" href="Codata.Musical.Cofin.html#963" class="Bound">q</a> <a id="965" class="Symbol">:</a> <a id="967" href="Codata.Musical.Cofin.html#833" class="Datatype">Cofin</a> <a id="973" class="Symbol">(</a><a id="974" href="Agda.Builtin.Coinduction.html#229" class="Field">♭</a> <a id="976" href="Codata.Musical.Cofin.html#957" class="Bound">m</a><a id="977" class="Symbol">)}</a> <a id="980" class="Symbol">→</a> <a id="982" class="Symbol">(</a><a id="983" href="Codata.Musical.Cofin.html#833" class="Datatype">Cofin</a> <a id="989" class="Symbol">(</a><a id="990" href="Codata.Musical.Conat.html#627" class="InductiveConstructor">suc</a> <a id="994" href="Codata.Musical.Cofin.html#957" class="Bound">m</a><a id="995" class="Symbol">)</a> <a id="997" href="Function.Base.html#4269" class="Function Operator">∋</a> <a id="999" href="Codata.Musical.Cofin.html#890" class="InductiveConstructor">suc</a> <a id="1003" href="Codata.Musical.Cofin.html#961" class="Bound">p</a><a id="1004" class="Symbol">)</a> <a id="1006" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="1008" href="Codata.Musical.Cofin.html#890" class="InductiveConstructor">suc</a> <a id="1012" href="Codata.Musical.Cofin.html#963" class="Bound">q</a> <a id="1014" class="Symbol">→</a> <a id="1016" href="Codata.Musical.Cofin.html#961" class="Bound">p</a> <a id="1018" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="1020" href="Codata.Musical.Cofin.html#963" class="Bound">q</a>
<a id="1022" href="Codata.Musical.Cofin.html#938" class="Function">suc-injective</a> <a id="1036" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="1041" class="Symbol">=</a> <a id="1043" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>

<a id="1049" class="Comment">------------------------------------------------------------------------</a>
<a id="1122" class="Comment">-- Some operations</a>

<a id="fromℕ"></a><a id="1142" href="Codata.Musical.Cofin.html#1142" class="Function">fromℕ</a> <a id="1148" class="Symbol">:</a> <a id="1150" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="1152" class="Symbol">→</a> <a id="1154" href="Codata.Musical.Cofin.html#833" class="Datatype">Cofin</a> <a id="1160" href="Codata.Musical.Conat.html#1172" class="Function">∞ℕ</a>
<a id="1163" href="Codata.Musical.Cofin.html#1142" class="Function">fromℕ</a> <a id="1169" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a>    <a id="1177" class="Symbol">=</a> <a id="1179" href="Codata.Musical.Cofin.html#859" class="InductiveConstructor">zero</a>
<a id="1184" href="Codata.Musical.Cofin.html#1142" class="Function">fromℕ</a> <a id="1190" class="Symbol">(</a><a id="1191" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="1195" href="Codata.Musical.Cofin.html#1195" class="Bound">n</a><a id="1196" class="Symbol">)</a> <a id="1198" class="Symbol">=</a> <a id="1200" href="Codata.Musical.Cofin.html#890" class="InductiveConstructor">suc</a> <a id="1204" class="Symbol">(</a><a id="1205" href="Codata.Musical.Cofin.html#1142" class="Function">fromℕ</a> <a id="1211" href="Codata.Musical.Cofin.html#1195" class="Bound">n</a><a id="1212" class="Symbol">)</a>

<a id="toℕ"></a><a id="1215" href="Codata.Musical.Cofin.html#1215" class="Function">toℕ</a> <a id="1219" class="Symbol">:</a> <a id="1221" class="Symbol">∀</a> <a id="1223" class="Symbol">{</a><a id="1224" href="Codata.Musical.Cofin.html#1224" class="Bound">n</a><a id="1225" class="Symbol">}</a> <a id="1227" class="Symbol">→</a> <a id="1229" href="Codata.Musical.Cofin.html#833" class="Datatype">Cofin</a> <a id="1235" href="Codata.Musical.Cofin.html#1224" class="Bound">n</a> <a id="1237" class="Symbol">→</a> <a id="1239" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>
<a id="1241" href="Codata.Musical.Cofin.html#1215" class="Function">toℕ</a> <a id="1245" href="Codata.Musical.Cofin.html#859" class="InductiveConstructor">zero</a>    <a id="1253" class="Symbol">=</a> <a id="1255" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a>
<a id="1260" href="Codata.Musical.Cofin.html#1215" class="Function">toℕ</a> <a id="1264" class="Symbol">(</a><a id="1265" href="Codata.Musical.Cofin.html#890" class="InductiveConstructor">suc</a> <a id="1269" href="Codata.Musical.Cofin.html#1269" class="Bound">i</a><a id="1270" class="Symbol">)</a> <a id="1272" class="Symbol">=</a> <a id="1274" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="1278" class="Symbol">(</a><a id="1279" href="Codata.Musical.Cofin.html#1215" class="Function">toℕ</a> <a id="1283" href="Codata.Musical.Cofin.html#1269" class="Bound">i</a><a id="1284" class="Symbol">)</a>

<a id="fromFin"></a><a id="1287" href="Codata.Musical.Cofin.html#1287" class="Function">fromFin</a> <a id="1295" class="Symbol">:</a> <a id="1297" class="Symbol">∀</a> <a id="1299" class="Symbol">{</a><a id="1300" href="Codata.Musical.Cofin.html#1300" class="Bound">n</a><a id="1301" class="Symbol">}</a> <a id="1303" class="Symbol">→</a> <a id="1305" href="Data.Fin.Base.html#1061" class="Datatype">Fin</a> <a id="1309" href="Codata.Musical.Cofin.html#1300" class="Bound">n</a> <a id="1311" class="Symbol">→</a> <a id="1313" href="Codata.Musical.Cofin.html#833" class="Datatype">Cofin</a> <a id="1319" class="Symbol">(</a><a id="1320" href="Codata.Musical.Conat.html#920" class="Function">Conat.fromℕ</a> <a id="1332" href="Codata.Musical.Cofin.html#1300" class="Bound">n</a><a id="1333" class="Symbol">)</a>
<a id="1335" href="Codata.Musical.Cofin.html#1287" class="Function">fromFin</a> <a id="1343" href="Data.Fin.Base.html#1083" class="InductiveConstructor">zero</a>    <a id="1351" class="Symbol">=</a> <a id="1353" href="Codata.Musical.Cofin.html#859" class="InductiveConstructor">zero</a>
<a id="1358" href="Codata.Musical.Cofin.html#1287" class="Function">fromFin</a> <a id="1366" class="Symbol">(</a><a id="1367" href="Data.Fin.Base.html#1114" class="InductiveConstructor">suc</a> <a id="1371" href="Codata.Musical.Cofin.html#1371" class="Bound">i</a><a id="1372" class="Symbol">)</a> <a id="1374" class="Symbol">=</a> <a id="1376" href="Codata.Musical.Cofin.html#890" class="InductiveConstructor">suc</a> <a id="1380" class="Symbol">(</a><a id="1381" href="Codata.Musical.Cofin.html#1287" class="Function">fromFin</a> <a id="1389" href="Codata.Musical.Cofin.html#1371" class="Bound">i</a><a id="1390" class="Symbol">)</a>

<a id="toFin"></a><a id="1393" href="Codata.Musical.Cofin.html#1393" class="Function">toFin</a> <a id="1399" class="Symbol">:</a> <a id="1401" class="Symbol">∀</a> <a id="1403" href="Codata.Musical.Cofin.html#1403" class="Bound">n</a> <a id="1405" class="Symbol">→</a> <a id="1407" href="Codata.Musical.Cofin.html#833" class="Datatype">Cofin</a> <a id="1413" class="Symbol">(</a><a id="1414" href="Codata.Musical.Conat.html#920" class="Function">Conat.fromℕ</a> <a id="1426" href="Codata.Musical.Cofin.html#1403" class="Bound">n</a><a id="1427" class="Symbol">)</a> <a id="1429" class="Symbol">→</a> <a id="1431" href="Data.Fin.Base.html#1061" class="Datatype">Fin</a> <a id="1435" href="Codata.Musical.Cofin.html#1403" class="Bound">n</a>
<a id="1437" href="Codata.Musical.Cofin.html#1393" class="Function">toFin</a> <a id="1443" class="Symbol">(</a><a id="1444" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="1448" href="Codata.Musical.Cofin.html#1448" class="Bound">n</a><a id="1449" class="Symbol">)</a> <a id="1451" href="Codata.Musical.Cofin.html#859" class="InductiveConstructor">zero</a>    <a id="1459" class="Symbol">=</a> <a id="1461" href="Data.Fin.Base.html#1083" class="InductiveConstructor">zero</a>
<a id="1466" href="Codata.Musical.Cofin.html#1393" class="Function">toFin</a> <a id="1472" class="Symbol">(</a><a id="1473" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="1477" href="Codata.Musical.Cofin.html#1477" class="Bound">n</a><a id="1478" class="Symbol">)</a> <a id="1480" class="Symbol">(</a><a id="1481" href="Codata.Musical.Cofin.html#890" class="InductiveConstructor">suc</a> <a id="1485" href="Codata.Musical.Cofin.html#1485" class="Bound">i</a><a id="1486" class="Symbol">)</a> <a id="1488" class="Symbol">=</a> <a id="1490" href="Data.Fin.Base.html#1114" class="InductiveConstructor">suc</a> <a id="1494" class="Symbol">(</a><a id="1495" href="Codata.Musical.Cofin.html#1393" class="Function">toFin</a> <a id="1501" href="Codata.Musical.Cofin.html#1477" class="Bound">n</a> <a id="1503" href="Codata.Musical.Cofin.html#1485" class="Bound">i</a><a id="1504" class="Symbol">)</a>

<a id="1507" class="Keyword">import</a> <a id="1514" href="Codata.Cofin.html" class="Module">Codata.Cofin</a> <a id="1527" class="Symbol">as</a> <a id="1530" class="Module">C</a>

<a id="fromMusical"></a><a id="1533" href="Codata.Musical.Cofin.html#1533" class="Function">fromMusical</a> <a id="1545" class="Symbol">:</a> <a id="1547" class="Symbol">∀</a> <a id="1549" class="Symbol">{</a><a id="1550" href="Codata.Musical.Cofin.html#1550" class="Bound">n</a><a id="1551" class="Symbol">}</a> <a id="1553" class="Symbol">→</a> <a id="1555" href="Codata.Musical.Cofin.html#833" class="Datatype">Cofin</a> <a id="1561" href="Codata.Musical.Cofin.html#1550" class="Bound">n</a> <a id="1563" class="Symbol">→</a> <a id="1565" href="Codata.Cofin.html#906" class="Datatype">C.Cofin</a> <a id="1573" class="Symbol">(</a><a id="1574" href="Codata.Musical.Conat.html#2251" class="Function">Conat.fromMusical</a> <a id="1592" href="Codata.Musical.Cofin.html#1550" class="Bound">n</a><a id="1593" class="Symbol">)</a>
<a id="1595" href="Codata.Musical.Cofin.html#1533" class="Function">fromMusical</a> <a id="1607" href="Codata.Musical.Cofin.html#859" class="InductiveConstructor">zero</a>    <a id="1615" class="Symbol">=</a> <a id="1617" href="Codata.Cofin.html#936" class="InductiveConstructor">C.zero</a>
<a id="1624" href="Codata.Musical.Cofin.html#1533" class="Function">fromMusical</a> <a id="1636" class="Symbol">(</a><a id="1637" href="Codata.Musical.Cofin.html#890" class="InductiveConstructor">suc</a> <a id="1641" href="Codata.Musical.Cofin.html#1641" class="Bound">n</a><a id="1642" class="Symbol">)</a> <a id="1644" class="Symbol">=</a> <a id="1646" href="Codata.Cofin.html#967" class="InductiveConstructor">C.suc</a> <a id="1652" class="Symbol">(</a><a id="1653" href="Codata.Musical.Cofin.html#1533" class="Function">fromMusical</a> <a id="1665" href="Codata.Musical.Cofin.html#1641" class="Bound">n</a><a id="1666" class="Symbol">)</a>

<a id="toMusical"></a><a id="1669" href="Codata.Musical.Cofin.html#1669" class="Function">toMusical</a> <a id="1679" class="Symbol">:</a> <a id="1681" class="Symbol">∀</a> <a id="1683" class="Symbol">{</a><a id="1684" href="Codata.Musical.Cofin.html#1684" class="Bound">n</a><a id="1685" class="Symbol">}</a> <a id="1687" class="Symbol">→</a> <a id="1689" href="Codata.Cofin.html#906" class="Datatype">C.Cofin</a> <a id="1697" href="Codata.Musical.Cofin.html#1684" class="Bound">n</a> <a id="1699" class="Symbol">→</a> <a id="1701" href="Codata.Musical.Cofin.html#833" class="Datatype">Cofin</a> <a id="1707" class="Symbol">(</a><a id="1708" href="Codata.Musical.Conat.html#2382" class="Function">Conat.toMusical</a> <a id="1724" href="Codata.Musical.Cofin.html#1684" class="Bound">n</a><a id="1725" class="Symbol">)</a>
<a id="1727" href="Codata.Musical.Cofin.html#1669" class="Function">toMusical</a> <a id="1737" href="Codata.Cofin.html#936" class="InductiveConstructor">C.zero</a>    <a id="1747" class="Symbol">=</a> <a id="1749" href="Codata.Musical.Cofin.html#859" class="InductiveConstructor">zero</a>
<a id="1754" href="Codata.Musical.Cofin.html#1669" class="Function">toMusical</a> <a id="1764" class="Symbol">(</a><a id="1765" href="Codata.Cofin.html#967" class="InductiveConstructor">C.suc</a> <a id="1771" href="Codata.Musical.Cofin.html#1771" class="Bound">n</a><a id="1772" class="Symbol">)</a> <a id="1774" class="Symbol">=</a> <a id="1776" href="Codata.Musical.Cofin.html#890" class="InductiveConstructor">suc</a> <a id="1780" class="Symbol">(</a><a id="1781" href="Codata.Musical.Cofin.html#1669" class="Function">toMusical</a> <a id="1791" href="Codata.Musical.Cofin.html#1771" class="Bound">n</a><a id="1792" class="Symbol">)</a>
</pre></body></html>