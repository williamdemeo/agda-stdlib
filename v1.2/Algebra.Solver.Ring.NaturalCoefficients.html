<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Algebra.Solver.Ring.NaturalCoefficients</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Instantiates the ring solver, using the natural numbers as the</a>
<a id="172" class="Comment">-- coefficient &quot;ring&quot;</a>
<a id="194" class="Comment">------------------------------------------------------------------------</a>

<a id="268" class="Symbol">{-#</a> <a id="272" class="Keyword">OPTIONS</a> <a id="280" class="Pragma">--without-K</a> <a id="292" class="Pragma">--safe</a> <a id="299" class="Symbol">#-}</a>

<a id="304" class="Keyword">open</a> <a id="309" class="Keyword">import</a> <a id="316" href="Algebra.html" class="Module">Algebra</a>
<a id="324" class="Keyword">import</a> <a id="331" href="Algebra.Operations.Semiring.html" class="Module">Algebra.Operations.Semiring</a> <a id="359" class="Symbol">as</a> <a id="362" class="Module">SemiringOps</a>
<a id="374" class="Keyword">open</a> <a id="379" class="Keyword">import</a> <a id="386" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="402" class="Keyword">using</a> <a id="408" class="Symbol">(</a><a id="409" href="Data.Maybe.Base.html#800" class="Datatype">Maybe</a><a id="414" class="Symbol">;</a> <a id="416" href="Data.Maybe.Base.html#854" class="InductiveConstructor">just</a><a id="420" class="Symbol">;</a> <a id="422" href="Data.Maybe.Base.html#834" class="InductiveConstructor">nothing</a><a id="429" class="Symbol">;</a> <a id="431" href="Data.Maybe.Base.html#1966" class="Function">map</a><a id="434" class="Symbol">)</a>

<a id="437" class="Keyword">module</a> <a id="444" href="Algebra.Solver.Ring.NaturalCoefficients.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients</a>
         <a id="493" class="Symbol">{</a><a id="494" href="Algebra.Solver.Ring.NaturalCoefficients.html#494" class="Bound">r₁</a> <a id="497" href="Algebra.Solver.Ring.NaturalCoefficients.html#497" class="Bound">r₂</a><a id="499" class="Symbol">}</a>
         <a id="510" class="Symbol">(</a><a id="511" href="Algebra.Solver.Ring.NaturalCoefficients.html#511" class="Bound">R</a> <a id="513" class="Symbol">:</a> <a id="515" href="Algebra.Bundles.html#14009" class="Record">CommutativeSemiring</a> <a id="535" href="Algebra.Solver.Ring.NaturalCoefficients.html#494" class="Bound">r₁</a> <a id="538" href="Algebra.Solver.Ring.NaturalCoefficients.html#497" class="Bound">r₂</a><a id="540" class="Symbol">)</a>
         <a id="551" class="Symbol">(</a><a id="552" href="Algebra.Solver.Ring.NaturalCoefficients.html#552" class="Bound">dec</a> <a id="556" class="Symbol">:</a> <a id="558" class="Keyword">let</a> <a id="562" class="Keyword">open</a> <a id="567" href="Algebra.Bundles.html#14009" class="Module">CommutativeSemiring</a> <a id="587" href="Algebra.Solver.Ring.NaturalCoefficients.html#511" class="Bound">R</a>
                    <a id="609" class="Keyword">open</a> <a id="614" href="Algebra.Operations.Semiring.html" class="Module">SemiringOps</a> <a id="626" href="Algebra.Bundles.html#14470" class="Function">semiring</a> <a id="635" class="Keyword">in</a>
                <a id="654" class="Symbol">∀</a> <a id="656" href="Algebra.Solver.Ring.NaturalCoefficients.html#656" class="Bound">m</a> <a id="658" href="Algebra.Solver.Ring.NaturalCoefficients.html#658" class="Bound">n</a> <a id="660" class="Symbol">→</a> <a id="662" href="Data.Maybe.Base.html#800" class="Datatype">Maybe</a> <a id="668" class="Symbol">(</a><a id="669" href="Algebra.Solver.Ring.NaturalCoefficients.html#656" class="Bound">m</a> <a id="671" href="Algebra.Operations.CommutativeMonoid.html#1241" class="Function Operator">×</a> <a id="673" href="Algebra.Bundles.html#14308" class="Field">1#</a> <a id="676" href="Algebra.Bundles.html#14150" class="Field Operator">≈</a> <a id="678" href="Algebra.Solver.Ring.NaturalCoefficients.html#658" class="Bound">n</a> <a id="680" href="Algebra.Operations.CommutativeMonoid.html#1241" class="Function Operator">×</a> <a id="682" href="Algebra.Bundles.html#14308" class="Field">1#</a><a id="684" class="Symbol">))</a> <a id="687" class="Keyword">where</a>

<a id="694" class="Keyword">import</a> <a id="701" href="Algebra.Solver.Ring.html" class="Module">Algebra.Solver.Ring</a>
<a id="721" class="Keyword">open</a> <a id="726" class="Keyword">import</a> <a id="733" href="Algebra.Solver.Ring.AlmostCommutativeRing.html" class="Module">Algebra.Solver.Ring.AlmostCommutativeRing</a>
<a id="775" class="Keyword">open</a> <a id="780" class="Keyword">import</a> <a id="787" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="801" class="Symbol">as</a> <a id="804" class="Module">ℕ</a>
<a id="806" class="Keyword">open</a> <a id="811" class="Keyword">import</a> <a id="818" href="Data.Product.html" class="Module">Data.Product</a> <a id="831" class="Keyword">using</a> <a id="837" class="Symbol">(</a><a id="838" class="Keyword">module</a> <a id="845" href="Data.Product.html#715" class="Module">Σ</a><a id="846" class="Symbol">)</a>
<a id="848" class="Keyword">open</a> <a id="853" class="Keyword">import</a> <a id="860" href="Function.html" class="Module">Function</a>
<a id="869" class="Keyword">open</a> <a id="874" class="Keyword">import</a> <a id="881" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="919" class="Keyword">using</a> <a id="925" class="Symbol">(</a><a id="926" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">_≡_</a><a id="929" class="Symbol">)</a>

<a id="932" class="Keyword">open</a> <a id="937" href="Algebra.Bundles.html#14009" class="Module">CommutativeSemiring</a> <a id="957" href="Algebra.Solver.Ring.NaturalCoefficients.html#511" class="Bound">R</a>
<a id="959" class="Keyword">open</a> <a id="964" href="Algebra.Operations.Semiring.html" class="Module">SemiringOps</a> <a id="976" href="Algebra.Bundles.html#14470" class="Function">semiring</a>
<a id="985" class="Keyword">open</a> <a id="990" class="Keyword">import</a> <a id="997" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1030" href="Algebra.Structures.html#1297" class="Function">setoid</a>

<a id="1038" class="Keyword">private</a>

  <a id="1049" class="Comment">-- The coefficient &quot;ring&quot;.</a>

  <a id="ℕ-ring"></a><a id="1079" href="Algebra.Solver.Ring.NaturalCoefficients.html#1079" class="Function">ℕ-ring</a> <a id="1086" class="Symbol">:</a> <a id="1088" href="Algebra.Bundles.html#15426" class="Record">RawRing</a> <a id="1096" class="Symbol">_</a> <a id="1098" class="Symbol">_</a>
  <a id="1102" href="Algebra.Solver.Ring.NaturalCoefficients.html#1079" class="Function">ℕ-ring</a> <a id="1109" class="Symbol">=</a> <a id="1111" class="Keyword">record</a>
    <a id="1122" class="Symbol">{</a> <a id="1124" href="Algebra.Bundles.html#15535" class="Field">Carrier</a> <a id="1132" class="Symbol">=</a> <a id="1134" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>
    <a id="1140" class="Symbol">;</a> <a id="1142" href="Algebra.Bundles.html#15555" class="Field Operator">_≈_</a>     <a id="1150" class="Symbol">=</a> <a id="1152" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">_≡_</a>
    <a id="1160" class="Symbol">;</a> <a id="1162" href="Algebra.Bundles.html#15583" class="Field Operator">_+_</a>     <a id="1170" class="Symbol">=</a> <a id="1172" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">ℕ._+_</a>
    <a id="1182" class="Symbol">;</a> <a id="1184" href="Algebra.Bundles.html#15609" class="Field Operator">_*_</a>     <a id="1192" class="Symbol">=</a> <a id="1194" href="Agda.Builtin.Nat.html#501" class="Primitive Operator">ℕ._*_</a>
    <a id="1204" class="Symbol">;</a> <a id="1206" href="Algebra.Bundles.html#15635" class="Field Operator">-_</a>      <a id="1214" class="Symbol">=</a> <a id="1216" href="Function.Base.html#615" class="Function">id</a>
    <a id="1223" class="Symbol">;</a> <a id="1225" href="Algebra.Bundles.html#15661" class="Field">0#</a>      <a id="1233" class="Symbol">=</a> <a id="1235" class="Number">0</a>
    <a id="1241" class="Symbol">;</a> <a id="1243" href="Algebra.Bundles.html#15683" class="Field">1#</a>      <a id="1251" class="Symbol">=</a> <a id="1253" class="Number">1</a>
    <a id="1259" class="Symbol">}</a>

  <a id="1264" class="Comment">-- There is a homomorphism from ℕ to R.</a>
  <a id="1306" class="Comment">--</a>
  <a id="1311" class="Comment">-- Note that _×′_ is used rather than _×_. If _×_ were used, then</a>
  <a id="1379" class="Comment">-- Function.Related.TypeIsomorphisms.test would fail to type-check.</a>

  <a id="homomorphism"></a><a id="1450" href="Algebra.Solver.Ring.NaturalCoefficients.html#1450" class="Function">homomorphism</a> <a id="1463" class="Symbol">:</a>
    <a id="1469" href="Algebra.Solver.Ring.NaturalCoefficients.html#1079" class="Function">ℕ-ring</a> <a id="1476" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2338" class="Record Operator">-Raw-AlmostCommutative⟶</a> <a id="1500" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#4334" class="Function">fromCommutativeSemiring</a> <a id="1524" href="Algebra.Solver.Ring.NaturalCoefficients.html#511" class="Bound">R</a>
  <a id="1528" href="Algebra.Solver.Ring.NaturalCoefficients.html#1450" class="Function">homomorphism</a> <a id="1541" class="Symbol">=</a> <a id="1543" class="Keyword">record</a>
    <a id="1554" class="Symbol">{</a> <a id="1556" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2633" class="Field Operator">⟦_⟧</a>    <a id="1563" class="Symbol">=</a> <a id="1565" class="Symbol">λ</a> <a id="1567" href="Algebra.Solver.Ring.NaturalCoefficients.html#1567" class="Bound">n</a> <a id="1569" class="Symbol">→</a> <a id="1571" href="Algebra.Solver.Ring.NaturalCoefficients.html#1567" class="Bound">n</a> <a id="1573" href="Algebra.Operations.CommutativeMonoid.html#1416" class="Function Operator">×′</a> <a id="1576" href="Algebra.Bundles.html#14308" class="Function">1#</a>
    <a id="1583" class="Symbol">;</a> <a id="1585" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2655" class="Field">+-homo</a> <a id="1592" class="Symbol">=</a> <a id="1594" href="Algebra.Operations.CommutativeMonoid.html#2985" class="Function">×′-homo-+</a> <a id="1604" href="Algebra.Bundles.html#14308" class="Function">1#</a>
    <a id="1611" class="Symbol">;</a> <a id="1613" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2697" class="Field">*-homo</a> <a id="1620" class="Symbol">=</a> <a id="1622" href="Algebra.Operations.Semiring.html#1897" class="Function">×′1-homo-*</a>
    <a id="1637" class="Symbol">;</a> <a id="1639" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2739" class="Field">-‿homo</a> <a id="1646" class="Symbol">=</a> <a id="1648" class="Symbol">λ</a> <a id="1650" href="Algebra.Solver.Ring.NaturalCoefficients.html#1650" class="Bound">_</a> <a id="1652" class="Symbol">→</a> <a id="1654" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
    <a id="1663" class="Symbol">;</a> <a id="1665" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2780" class="Field">0-homo</a> <a id="1672" class="Symbol">=</a> <a id="1674" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
    <a id="1683" class="Symbol">;</a> <a id="1685" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2821" class="Field">1-homo</a> <a id="1692" class="Symbol">=</a> <a id="1694" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
    <a id="1703" class="Symbol">}</a>

  <a id="1708" class="Comment">-- Equality of certain expressions can be decided.</a>

  <a id="dec′"></a><a id="1762" href="Algebra.Solver.Ring.NaturalCoefficients.html#1762" class="Function">dec′</a> <a id="1767" class="Symbol">:</a> <a id="1769" class="Symbol">∀</a> <a id="1771" href="Algebra.Solver.Ring.NaturalCoefficients.html#1771" class="Bound">m</a> <a id="1773" href="Algebra.Solver.Ring.NaturalCoefficients.html#1773" class="Bound">n</a> <a id="1775" class="Symbol">→</a> <a id="1777" href="Data.Maybe.Base.html#800" class="Datatype">Maybe</a> <a id="1783" class="Symbol">(</a><a id="1784" href="Algebra.Solver.Ring.NaturalCoefficients.html#1771" class="Bound">m</a> <a id="1786" href="Algebra.Operations.CommutativeMonoid.html#1416" class="Function Operator">×′</a> <a id="1789" href="Algebra.Bundles.html#14308" class="Function">1#</a> <a id="1792" href="Algebra.Bundles.html#14150" class="Function Operator">≈</a> <a id="1794" href="Algebra.Solver.Ring.NaturalCoefficients.html#1773" class="Bound">n</a> <a id="1796" href="Algebra.Operations.CommutativeMonoid.html#1416" class="Function Operator">×′</a> <a id="1799" href="Algebra.Bundles.html#14308" class="Function">1#</a><a id="1801" class="Symbol">)</a>
  <a id="1805" href="Algebra.Solver.Ring.NaturalCoefficients.html#1762" class="Function">dec′</a> <a id="1810" href="Algebra.Solver.Ring.NaturalCoefficients.html#1810" class="Bound">m</a> <a id="1812" href="Algebra.Solver.Ring.NaturalCoefficients.html#1812" class="Bound">n</a> <a id="1814" class="Symbol">=</a> <a id="1816" href="Data.Maybe.Base.html#1966" class="Function">map</a> <a id="1820" href="Algebra.Solver.Ring.NaturalCoefficients.html#1847" class="Function">to</a> <a id="1823" class="Symbol">(</a><a id="1824" href="Algebra.Solver.Ring.NaturalCoefficients.html#552" class="Bound">dec</a> <a id="1828" href="Algebra.Solver.Ring.NaturalCoefficients.html#1810" class="Bound">m</a> <a id="1830" href="Algebra.Solver.Ring.NaturalCoefficients.html#1812" class="Bound">n</a><a id="1831" class="Symbol">)</a>
    <a id="1837" class="Keyword">where</a>
    <a id="1847" href="Algebra.Solver.Ring.NaturalCoefficients.html#1847" class="Function">to</a> <a id="1850" class="Symbol">:</a> <a id="1852" href="Algebra.Solver.Ring.NaturalCoefficients.html#1810" class="Bound">m</a> <a id="1854" href="Algebra.Operations.CommutativeMonoid.html#1241" class="Function Operator">×</a> <a id="1856" href="Algebra.Bundles.html#14308" class="Function">1#</a> <a id="1859" href="Algebra.Bundles.html#14150" class="Function Operator">≈</a> <a id="1861" href="Algebra.Solver.Ring.NaturalCoefficients.html#1812" class="Bound">n</a> <a id="1863" href="Algebra.Operations.CommutativeMonoid.html#1241" class="Function Operator">×</a> <a id="1865" href="Algebra.Bundles.html#14308" class="Function">1#</a> <a id="1868" class="Symbol">→</a> <a id="1870" href="Algebra.Solver.Ring.NaturalCoefficients.html#1810" class="Bound">m</a> <a id="1872" href="Algebra.Operations.CommutativeMonoid.html#1416" class="Function Operator">×′</a> <a id="1875" href="Algebra.Bundles.html#14308" class="Function">1#</a> <a id="1878" href="Algebra.Bundles.html#14150" class="Function Operator">≈</a> <a id="1880" href="Algebra.Solver.Ring.NaturalCoefficients.html#1812" class="Bound">n</a> <a id="1882" href="Algebra.Operations.CommutativeMonoid.html#1416" class="Function Operator">×′</a> <a id="1885" href="Algebra.Bundles.html#14308" class="Function">1#</a>
    <a id="1892" href="Algebra.Solver.Ring.NaturalCoefficients.html#1847" class="Function">to</a> <a id="1895" href="Algebra.Solver.Ring.NaturalCoefficients.html#1895" class="Bound">m≈n</a> <a id="1899" class="Symbol">=</a> <a id="1901" href="Relation.Binary.Reasoning.Base.Partial.html#846" class="Function Operator">begin</a>
      <a id="1913" href="Algebra.Solver.Ring.NaturalCoefficients.html#1810" class="Bound">m</a> <a id="1915" href="Algebra.Operations.CommutativeMonoid.html#1416" class="Function Operator">×′</a> <a id="1918" href="Algebra.Bundles.html#14308" class="Function">1#</a>  <a id="1922" href="Relation.Binary.Reasoning.Base.Partial.html#912" class="Function Operator">≈⟨</a> <a id="1925" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="1929" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="1931" href="Algebra.Operations.CommutativeMonoid.html#2761" class="Function">×≈×′</a> <a id="1936" href="Algebra.Solver.Ring.NaturalCoefficients.html#1810" class="Bound">m</a> <a id="1938" href="Algebra.Bundles.html#14308" class="Function">1#</a> <a id="1941" href="Relation.Binary.Reasoning.Base.Partial.html#912" class="Function Operator">⟩</a>
      <a id="1949" href="Algebra.Solver.Ring.NaturalCoefficients.html#1810" class="Bound">m</a> <a id="1951" href="Algebra.Operations.CommutativeMonoid.html#1241" class="Function Operator">×</a>  <a id="1954" href="Algebra.Bundles.html#14308" class="Function">1#</a>  <a id="1958" href="Relation.Binary.Reasoning.Base.Partial.html#912" class="Function Operator">≈⟨</a> <a id="1961" href="Algebra.Solver.Ring.NaturalCoefficients.html#1895" class="Bound">m≈n</a> <a id="1965" href="Relation.Binary.Reasoning.Base.Partial.html#912" class="Function Operator">⟩</a>
      <a id="1973" href="Algebra.Solver.Ring.NaturalCoefficients.html#1812" class="Bound">n</a> <a id="1975" href="Algebra.Operations.CommutativeMonoid.html#1241" class="Function Operator">×</a>  <a id="1978" href="Algebra.Bundles.html#14308" class="Function">1#</a>  <a id="1982" href="Relation.Binary.Reasoning.Base.Partial.html#912" class="Function Operator">≈⟨</a> <a id="1985" href="Algebra.Operations.CommutativeMonoid.html#2761" class="Function">×≈×′</a> <a id="1990" href="Algebra.Solver.Ring.NaturalCoefficients.html#1812" class="Bound">n</a> <a id="1992" href="Algebra.Bundles.html#14308" class="Function">1#</a> <a id="1995" href="Relation.Binary.Reasoning.Base.Partial.html#912" class="Function Operator">⟩</a>
      <a id="2003" href="Algebra.Solver.Ring.NaturalCoefficients.html#1812" class="Bound">n</a> <a id="2005" href="Algebra.Operations.CommutativeMonoid.html#1416" class="Function Operator">×′</a> <a id="2008" href="Algebra.Bundles.html#14308" class="Function">1#</a>  <a id="2012" href="Relation.Binary.Reasoning.Base.Single.html#533" class="Function Operator">∎</a>

<a id="2015" class="Comment">-- The instantiation.</a>

<a id="2038" class="Keyword">open</a> <a id="2043" href="Algebra.Solver.Ring.html" class="Module">Algebra.Solver.Ring</a> <a id="2063" class="Symbol">_</a> <a id="2065" class="Symbol">_</a> <a id="2067" href="Algebra.Solver.Ring.NaturalCoefficients.html#1450" class="Function">homomorphism</a> <a id="2080" href="Algebra.Solver.Ring.NaturalCoefficients.html#1762" class="Function">dec′</a> <a id="2085" class="Keyword">public</a>
</pre></body></html>