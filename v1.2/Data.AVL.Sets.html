<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.AVL.Sets</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Finite sets, based on AVL trees</a>
<a id="141" class="Comment">------------------------------------------------------------------------</a>

<a id="215" class="Symbol">{-#</a> <a id="219" class="Keyword">OPTIONS</a> <a id="227" class="Pragma">--without-K</a> <a id="239" class="Pragma">--safe</a> <a id="246" class="Symbol">#-}</a>

<a id="251" class="Keyword">open</a> <a id="256" class="Keyword">import</a> <a id="263" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="279" class="Keyword">using</a> <a id="285" class="Symbol">(</a><a id="286" href="Relation.Binary.Bundles.html#5812" class="Record">StrictTotalOrder</a><a id="302" class="Symbol">)</a>

<a id="305" class="Keyword">module</a> <a id="312" href="Data.AVL.Sets.html" class="Module">Data.AVL.Sets</a>
  <a id="328" class="Symbol">{</a><a id="329" href="Data.AVL.Sets.html#329" class="Bound">a</a> <a id="331" href="Data.AVL.Sets.html#331" class="Bound">ℓ₁</a> <a id="334" href="Data.AVL.Sets.html#334" class="Bound">ℓ₂</a><a id="336" class="Symbol">}</a> <a id="338" class="Symbol">(</a><a id="339" href="Data.AVL.Sets.html#339" class="Bound">strictTotalOrder</a> <a id="356" class="Symbol">:</a> <a id="358" href="Relation.Binary.Bundles.html#5812" class="Record">StrictTotalOrder</a> <a id="375" href="Data.AVL.Sets.html#329" class="Bound">a</a> <a id="377" href="Data.AVL.Sets.html#331" class="Bound">ℓ₁</a> <a id="380" href="Data.AVL.Sets.html#334" class="Bound">ℓ₂</a><a id="382" class="Symbol">)</a>
  <a id="386" class="Keyword">where</a>

<a id="393" class="Keyword">open</a> <a id="398" class="Keyword">import</a> <a id="405" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="442" class="Symbol">as</a> <a id="445" class="Module">List</a> <a id="450" class="Keyword">using</a> <a id="456" class="Symbol">(</a><a id="457" href="Agda.Builtin.List.html#121" class="Datatype">List</a><a id="461" class="Symbol">)</a>
<a id="463" class="Keyword">open</a> <a id="468" class="Keyword">import</a> <a id="475" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="491" class="Symbol">as</a> <a id="494" class="Module">Maybe</a>
<a id="500" class="Keyword">open</a> <a id="505" class="Keyword">import</a> <a id="512" href="Data.Product.html" class="Module">Data.Product</a> <a id="525" class="Symbol">as</a> <a id="528" class="Module">Prod</a> <a id="533" class="Keyword">using</a> <a id="539" class="Symbol">(</a><a id="540" href="Data.Product.html#1167" class="Function Operator">_×_</a><a id="543" class="Symbol">;</a> <a id="545" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">_,_</a><a id="548" class="Symbol">;</a> <a id="550" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a><a id="555" class="Symbol">)</a>
<a id="557" class="Keyword">open</a> <a id="562" class="Keyword">import</a> <a id="569" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="579" class="Keyword">open</a> <a id="584" class="Keyword">import</a> <a id="591" href="Function.html" class="Module">Function</a>
<a id="600" class="Keyword">open</a> <a id="605" class="Keyword">import</a> <a id="612" href="Level.html" class="Module">Level</a>

<a id="619" class="Keyword">import</a> <a id="626" href="Data.AVL.html" class="Module">Data.AVL</a> <a id="635" href="Data.AVL.Sets.html#339" class="Bound">strictTotalOrder</a> <a id="652" class="Symbol">as</a> <a id="AVL"></a><a id="655" href="Data.AVL.Sets.html#655" class="Module">AVL</a>
<a id="659" class="Keyword">open</a> <a id="664" href="Relation.Binary.Bundles.html#5812" class="Module">StrictTotalOrder</a> <a id="681" href="Data.AVL.Sets.html#339" class="Bound">strictTotalOrder</a> <a id="698" class="Keyword">renaming</a> <a id="707" class="Symbol">(</a>Carrier <a id="716" class="Symbol">to</a> A<a id="720" class="Symbol">)</a>

<a id="723" class="Comment">------------------------------------------------------------------------</a>
<a id="796" class="Comment">-- The set type (note that Set is a reserved word)</a>

<a id="⟨Set⟩"></a><a id="848" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a> <a id="854" class="Symbol">:</a> <a id="856" class="PrimitiveType">Set</a> <a id="860" class="Symbol">(</a><a id="861" href="Data.AVL.Sets.html#329" class="Bound">a</a> <a id="863" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="865" href="Data.AVL.Sets.html#334" class="Bound">ℓ₂</a><a id="867" class="Symbol">)</a>
<a id="869" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a> <a id="875" class="Symbol">=</a> <a id="877" href="Data.AVL.html#1431" class="Datatype">AVL.Tree</a> <a id="886" class="Symbol">(</a><a id="887" href="Data.AVL.Value.html#751" class="Function">AVL.const</a> <a id="897" href="Agda.Builtin.Unit.html#137" class="Record">⊤</a><a id="898" class="Symbol">)</a>

<a id="901" class="Comment">------------------------------------------------------------------------</a>
<a id="974" class="Comment">-- Repackaged functions</a>

<a id="empty"></a><a id="999" href="Data.AVL.Sets.html#999" class="Function">empty</a> <a id="1005" class="Symbol">:</a> <a id="1007" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a>
<a id="1013" href="Data.AVL.Sets.html#999" class="Function">empty</a> <a id="1019" class="Symbol">=</a> <a id="1021" href="Data.AVL.html#1601" class="Function">AVL.empty</a>

<a id="singleton"></a><a id="1032" href="Data.AVL.Sets.html#1032" class="Function">singleton</a> <a id="1042" class="Symbol">:</a> <a id="1044" href="Relation.Binary.Bundles.html#5899" class="Field">A</a> <a id="1046" class="Symbol">→</a> <a id="1048" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a>
<a id="1054" href="Data.AVL.Sets.html#1032" class="Function">singleton</a> <a id="1064" href="Data.AVL.Sets.html#1064" class="Bound">k</a> <a id="1066" class="Symbol">=</a> <a id="1068" href="Data.AVL.html#1657" class="Function">AVL.singleton</a> <a id="1082" href="Data.AVL.Sets.html#1064" class="Bound">k</a> <a id="1084" class="Symbol">_</a>

<a id="insert"></a><a id="1087" href="Data.AVL.Sets.html#1087" class="Function">insert</a> <a id="1094" class="Symbol">:</a> <a id="1096" href="Relation.Binary.Bundles.html#5899" class="Field">A</a> <a id="1098" class="Symbol">→</a> <a id="1100" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a> <a id="1106" class="Symbol">→</a> <a id="1108" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a>
<a id="1114" href="Data.AVL.Sets.html#1087" class="Function">insert</a> <a id="1121" href="Data.AVL.Sets.html#1121" class="Bound">k</a> <a id="1123" class="Symbol">=</a> <a id="1125" href="Data.AVL.html#1758" class="Function">AVL.insert</a> <a id="1136" href="Data.AVL.Sets.html#1121" class="Bound">k</a> <a id="1138" class="Symbol">_</a>

<a id="delete"></a><a id="1141" href="Data.AVL.Sets.html#1141" class="Function">delete</a> <a id="1148" class="Symbol">:</a> <a id="1150" href="Relation.Binary.Bundles.html#5899" class="Field">A</a> <a id="1152" class="Symbol">→</a> <a id="1154" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a> <a id="1160" class="Symbol">→</a> <a id="1162" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a>
<a id="1168" href="Data.AVL.Sets.html#1141" class="Function">delete</a> <a id="1175" class="Symbol">=</a> <a id="1177" href="Data.AVL.html#2045" class="Function">AVL.delete</a>

<a id="1189" class="Keyword">infix</a> <a id="1195" class="Number">4</a> <a id="1197" href="Data.AVL.Sets.html#1203" class="Function Operator">_∈?_</a>

<a id="_∈?_"></a><a id="1203" href="Data.AVL.Sets.html#1203" class="Function Operator">_∈?_</a> <a id="1208" class="Symbol">:</a> <a id="1210" href="Relation.Binary.Bundles.html#5899" class="Field">A</a> <a id="1212" class="Symbol">→</a> <a id="1214" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a> <a id="1220" class="Symbol">→</a> <a id="1222" href="Agda.Builtin.Bool.html#135" class="Datatype">Bool</a>
<a id="1227" href="Data.AVL.Sets.html#1203" class="Function Operator">_∈?_</a> <a id="1232" class="Symbol">=</a> <a id="1234" href="Data.AVL.html#2530" class="Function Operator">AVL._∈?_</a>

<a id="headTail"></a><a id="1244" href="Data.AVL.Sets.html#1244" class="Function">headTail</a> <a id="1253" class="Symbol">:</a> <a id="1255" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a> <a id="1261" class="Symbol">→</a> <a id="1263" href="Data.Maybe.Base.html#800" class="Datatype">Maybe</a> <a id="1269" class="Symbol">(</a><a id="1270" href="Relation.Binary.Bundles.html#5899" class="Field">A</a> <a id="1272" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1274" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a><a id="1279" class="Symbol">)</a>
<a id="1281" href="Data.AVL.Sets.html#1244" class="Function">headTail</a> <a id="1290" href="Data.AVL.Sets.html#1290" class="Bound">s</a> <a id="1292" class="Symbol">=</a> <a id="1294" href="Data.Maybe.Base.html#1966" class="Function">Maybe.map</a> <a id="1304" class="Symbol">(</a><a id="1305" href="Data.Product.html#2574" class="Function">Prod.map₁</a> <a id="1315" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a><a id="1320" class="Symbol">)</a> <a id="1322" class="Symbol">(</a><a id="1323" href="Data.AVL.html#2592" class="Function">AVL.headTail</a> <a id="1336" href="Data.AVL.Sets.html#1290" class="Bound">s</a><a id="1337" class="Symbol">)</a>

<a id="initLast"></a><a id="1340" href="Data.AVL.Sets.html#1340" class="Function">initLast</a> <a id="1349" class="Symbol">:</a> <a id="1351" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a> <a id="1357" class="Symbol">→</a> <a id="1359" href="Data.Maybe.Base.html#800" class="Datatype">Maybe</a> <a id="1365" class="Symbol">(</a><a id="1366" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a> <a id="1372" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1374" href="Relation.Binary.Bundles.html#5899" class="Field">A</a><a id="1375" class="Symbol">)</a>
<a id="1377" href="Data.AVL.Sets.html#1340" class="Function">initLast</a> <a id="1386" href="Data.AVL.Sets.html#1386" class="Bound">s</a> <a id="1388" class="Symbol">=</a> <a id="1390" href="Data.Maybe.Base.html#1966" class="Function">Maybe.map</a> <a id="1400" class="Symbol">(</a><a id="1401" href="Data.Product.html#2624" class="Function">Prod.map₂</a> <a id="1411" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a><a id="1416" class="Symbol">)</a> <a id="1418" class="Symbol">(</a><a id="1419" href="Data.AVL.html#2814" class="Function">AVL.initLast</a> <a id="1432" href="Data.AVL.Sets.html#1386" class="Bound">s</a><a id="1433" class="Symbol">)</a>

<a id="fromList"></a><a id="1436" href="Data.AVL.Sets.html#1436" class="Function">fromList</a> <a id="1445" class="Symbol">:</a> <a id="1447" href="Agda.Builtin.List.html#121" class="Datatype">List</a> <a id="1452" href="Relation.Binary.Bundles.html#5899" class="Field">A</a> <a id="1454" class="Symbol">→</a> <a id="1456" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a>
<a id="1462" href="Data.AVL.Sets.html#1436" class="Function">fromList</a> <a id="1471" class="Symbol">=</a> <a id="1473" href="Data.AVL.html#3081" class="Function">AVL.fromList</a> <a id="1486" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="1488" href="Data.List.Base.html#1383" class="Function">List.map</a> <a id="1497" class="Symbol">(</a><a id="1498" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">_,</a> <a id="1501" class="Symbol">_)</a>

<a id="toList"></a><a id="1505" href="Data.AVL.Sets.html#1505" class="Function">toList</a> <a id="1512" class="Symbol">:</a> <a id="1514" href="Data.AVL.Sets.html#848" class="Function">⟨Set⟩</a> <a id="1520" class="Symbol">→</a> <a id="1522" href="Agda.Builtin.List.html#121" class="Datatype">List</a> <a id="1527" href="Relation.Binary.Bundles.html#5899" class="Field">A</a>
<a id="1529" href="Data.AVL.Sets.html#1505" class="Function">toList</a> <a id="1536" class="Symbol">=</a> <a id="1538" href="Data.List.Base.html#1383" class="Function">List.map</a> <a id="1547" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="1553" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="1555" href="Data.AVL.html#3194" class="Function">AVL.toList</a>
</pre></body></html>