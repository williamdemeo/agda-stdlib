<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Algebra.Solver.Ring.NaturalCoefficients</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Instantiates the ring solver, using the natural numbers as the</a>
<a id="172" class="Comment">-- coefficient &quot;ring&quot;</a>
<a id="194" class="Comment">------------------------------------------------------------------------</a>

<a id="268" class="Symbol">{-#</a> <a id="272" class="Keyword">OPTIONS</a> <a id="280" class="Pragma">--cubical-compatible</a> <a id="301" class="Pragma">--safe</a> <a id="308" class="Symbol">#-}</a>

<a id="313" class="Keyword">open</a> <a id="318" class="Keyword">import</a> <a id="325" href="Algebra.html" class="Module">Algebra</a>
<a id="333" class="Keyword">import</a> <a id="340" href="Algebra.Properties.Semiring.Mult.html" class="Module">Algebra.Properties.Semiring.Mult</a> <a id="373" class="Symbol">as</a> <a id="376" class="Module">SemiringMultiplication</a>
<a id="399" class="Keyword">open</a> <a id="404" class="Keyword">import</a> <a id="411" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="427" class="Keyword">using</a> <a id="433" class="Symbol">(</a><a id="434" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="439" class="Symbol">;</a> <a id="441" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="445" class="Symbol">;</a> <a id="447" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="454" class="Symbol">;</a> <a id="456" href="Data.Maybe.Base.html#2029" class="Function">map</a><a id="459" class="Symbol">)</a>
<a id="461" class="Keyword">open</a> <a id="466" class="Keyword">import</a> <a id="473" href="Algebra.Solver.Ring.AlmostCommutativeRing.html" class="Module">Algebra.Solver.Ring.AlmostCommutativeRing</a>
<a id="515" class="Keyword">open</a> <a id="520" class="Keyword">import</a> <a id="527" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="541" class="Symbol">as</a> <a id="544" class="Module">ℕ</a>
<a id="546" class="Keyword">open</a> <a id="551" class="Keyword">import</a> <a id="558" href="Data.Product.html" class="Module">Data.Product</a> <a id="571" class="Keyword">using</a> <a id="577" class="Symbol">(</a><a id="578" class="Keyword">module</a> <a id="585" href="Data.Product.html#724" class="Module">Σ</a><a id="586" class="Symbol">)</a>
<a id="588" class="Keyword">open</a> <a id="593" class="Keyword">import</a> <a id="600" href="Function.Base.html" class="Module">Function.Base</a> <a id="614" class="Keyword">using</a> <a id="620" class="Symbol">(</a><a id="621" href="Function.Base.html#624" class="Function">id</a><a id="623" class="Symbol">)</a>
<a id="625" class="Keyword">open</a> <a id="630" class="Keyword">import</a> <a id="637" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="675" class="Keyword">using</a> <a id="681" class="Symbol">(</a><a id="682" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="685" class="Symbol">)</a>

<a id="688" class="Keyword">module</a> <a id="695" href="Algebra.Solver.Ring.NaturalCoefficients.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients</a>
  <a id="737" class="Symbol">{</a><a id="738" href="Algebra.Solver.Ring.NaturalCoefficients.html#738" class="Bound">r₁</a> <a id="741" href="Algebra.Solver.Ring.NaturalCoefficients.html#741" class="Bound">r₂</a><a id="743" class="Symbol">}</a> <a id="745" class="Symbol">(</a><a id="746" href="Algebra.Solver.Ring.NaturalCoefficients.html#746" class="Bound">R</a> <a id="748" class="Symbol">:</a> <a id="750" href="Algebra.Bundles.html#17360" class="Record">CommutativeSemiring</a> <a id="770" href="Algebra.Solver.Ring.NaturalCoefficients.html#738" class="Bound">r₁</a> <a id="773" href="Algebra.Solver.Ring.NaturalCoefficients.html#741" class="Bound">r₂</a><a id="775" class="Symbol">)</a>
  <a id="779" class="Symbol">(</a><a id="780" class="Keyword">open</a> <a id="785" href="Algebra.Bundles.html#17360" class="Module">CommutativeSemiring</a> <a id="805" href="Algebra.Solver.Ring.NaturalCoefficients.html#746" class="Bound">R</a><a id="806" class="Symbol">)</a>
  <a id="810" class="Symbol">(</a><a id="811" class="Keyword">open</a> <a id="816" href="Algebra.Properties.Semiring.Mult.html" class="Module">SemiringMultiplication</a> <a id="839" href="Algebra.Bundles.html#17821" class="Function">semiring</a> <a id="848" class="Keyword">using</a> <a id="854" class="Symbol">()</a> <a id="857" class="Keyword">renaming</a> <a id="866" class="Symbol">(</a><a id="867" href="Algebra.Definitions.RawMonoid.html#1089" class="Function Operator">_×_</a> <a id="871" class="Symbol">to</a> <a id="874" class="Function Operator">_×ᵤ_</a><a id="878" class="Symbol">))</a>
  <a id="883" class="Symbol">(</a><a id="884" href="Algebra.Solver.Ring.NaturalCoefficients.html#884" class="Bound">dec</a> <a id="888" class="Symbol">:</a> <a id="890" class="Symbol">∀</a> <a id="892" href="Algebra.Solver.Ring.NaturalCoefficients.html#892" class="Bound">m</a> <a id="894" href="Algebra.Solver.Ring.NaturalCoefficients.html#894" class="Bound">n</a> <a id="896" class="Symbol">→</a> <a id="898" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="904" class="Symbol">(</a><a id="905" href="Algebra.Solver.Ring.NaturalCoefficients.html#892" class="Bound">m</a> <a id="907" href="Algebra.Solver.Ring.NaturalCoefficients.html#874" class="Function Operator">×ᵤ</a> <a id="910" href="Algebra.Bundles.html#17659" class="Field">1#</a> <a id="913" href="Algebra.Bundles.html#17501" class="Field Operator">≈</a> <a id="915" href="Algebra.Solver.Ring.NaturalCoefficients.html#894" class="Bound">n</a> <a id="917" href="Algebra.Solver.Ring.NaturalCoefficients.html#874" class="Function Operator">×ᵤ</a> <a id="920" href="Algebra.Bundles.html#17659" class="Field">1#</a><a id="922" class="Symbol">))</a> <a id="925" class="Keyword">where</a>

<a id="932" class="Keyword">open</a> <a id="937" class="Keyword">import</a> <a id="944" href="Algebra.Properties.Semiring.Mult.TCOptimised.html" class="Module">Algebra.Properties.Semiring.Mult.TCOptimised</a> <a id="989" href="Algebra.Bundles.html#17821" class="Function">semiring</a>

<a id="999" class="Keyword">open</a> <a id="1004" class="Keyword">import</a> <a id="1011" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1044" href="Algebra.Structures.html#1294" class="Function">setoid</a>

<a id="1052" class="Keyword">private</a>

  <a id="1063" class="Comment">-- The coefficient &quot;ring&quot;.</a>

  <a id="ℕ-ring"></a><a id="1093" href="Algebra.Solver.Ring.NaturalCoefficients.html#1093" class="Function">ℕ-ring</a> <a id="1100" class="Symbol">:</a> <a id="1102" href="Algebra.Bundles.html#20205" class="Record">RawRing</a> <a id="1110" class="Symbol">_</a> <a id="1112" class="Symbol">_</a>
  <a id="1116" href="Algebra.Solver.Ring.NaturalCoefficients.html#1093" class="Function">ℕ-ring</a> <a id="1123" class="Symbol">=</a> <a id="1125" class="Keyword">record</a>
    <a id="1136" class="Symbol">{</a> <a id="1138" href="Algebra.Bundles.html#20314" class="Field">Carrier</a> <a id="1146" class="Symbol">=</a> <a id="1148" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="1154" class="Symbol">;</a> <a id="1156" href="Algebra.Bundles.html#20334" class="Field Operator">_≈_</a>     <a id="1164" class="Symbol">=</a> <a id="1166" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
    <a id="1174" class="Symbol">;</a> <a id="1176" href="Algebra.Bundles.html#20362" class="Field Operator">_+_</a>     <a id="1184" class="Symbol">=</a> <a id="1186" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ._+_</a>
    <a id="1196" class="Symbol">;</a> <a id="1198" href="Algebra.Bundles.html#20388" class="Field Operator">_*_</a>     <a id="1206" class="Symbol">=</a> <a id="1208" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">ℕ._*_</a>
    <a id="1218" class="Symbol">;</a> <a id="1220" href="Algebra.Bundles.html#20414" class="Field Operator">-_</a>      <a id="1228" class="Symbol">=</a> <a id="1230" href="Function.Base.html#624" class="Function">id</a>
    <a id="1237" class="Symbol">;</a> <a id="1239" href="Algebra.Bundles.html#20440" class="Field">0#</a>      <a id="1247" class="Symbol">=</a> <a id="1249" class="Number">0</a>
    <a id="1255" class="Symbol">;</a> <a id="1257" href="Algebra.Bundles.html#20462" class="Field">1#</a>      <a id="1265" class="Symbol">=</a> <a id="1267" class="Number">1</a>
    <a id="1273" class="Symbol">}</a>

  <a id="1278" class="Comment">-- There is a homomorphism from ℕ to R.</a>
  <a id="1320" class="Comment">--</a>
  <a id="1325" class="Comment">-- Note that the optimised _×_ is used rather than unoptimised _×ᵤ_.</a>
  <a id="1396" class="Comment">-- If _×ᵤ_ were used, then Function.Related.TypeIsomorphisms.test would fail</a>
  <a id="1475" class="Comment">-- to type-check.</a>

  <a id="homomorphism"></a><a id="1496" href="Algebra.Solver.Ring.NaturalCoefficients.html#1496" class="Function">homomorphism</a> <a id="1509" class="Symbol">:</a> <a id="1511" href="Algebra.Solver.Ring.NaturalCoefficients.html#1093" class="Function">ℕ-ring</a> <a id="1518" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2327" class="Record Operator">-Raw-AlmostCommutative⟶</a> <a id="1542" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#4276" class="Function">fromCommutativeSemiring</a> <a id="1566" href="Algebra.Solver.Ring.NaturalCoefficients.html#746" class="Bound">R</a>
  <a id="1570" href="Algebra.Solver.Ring.NaturalCoefficients.html#1496" class="Function">homomorphism</a> <a id="1583" class="Symbol">=</a> <a id="1585" class="Keyword">record</a>
    <a id="1596" class="Symbol">{</a> <a id="1598" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2601" class="Field Operator">⟦_⟧</a>    <a id="1605" class="Symbol">=</a> <a id="1607" class="Symbol">λ</a> <a id="1609" href="Algebra.Solver.Ring.NaturalCoefficients.html#1609" class="Bound">n</a> <a id="1611" class="Symbol">→</a> <a id="1613" href="Algebra.Solver.Ring.NaturalCoefficients.html#1609" class="Bound">n</a> <a id="1615" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1172" class="Function Operator">×</a> <a id="1617" href="Algebra.Bundles.html#17659" class="Field">1#</a>
    <a id="1624" class="Symbol">;</a> <a id="1626" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2623" class="Field">+-homo</a> <a id="1633" class="Symbol">=</a> <a id="1635" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1869" class="Function">×-homo-+</a> <a id="1644" href="Algebra.Bundles.html#17659" class="Field">1#</a>
    <a id="1651" class="Symbol">;</a> <a id="1653" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2665" class="Field">*-homo</a> <a id="1660" class="Symbol">=</a> <a id="1662" href="Algebra.Properties.Semiring.Mult.TCOptimised.html#962" class="Function">×1-homo-*</a>
    <a id="1676" class="Symbol">;</a> <a id="1678" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2707" class="Field">-‿homo</a> <a id="1685" class="Symbol">=</a> <a id="1687" class="Symbol">λ</a> <a id="1689" href="Algebra.Solver.Ring.NaturalCoefficients.html#1689" class="Bound">_</a> <a id="1691" class="Symbol">→</a> <a id="1693" href="Relation.Binary.Structures.html#1577" class="Function">refl</a>
    <a id="1702" class="Symbol">;</a> <a id="1704" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2748" class="Field">0-homo</a> <a id="1711" class="Symbol">=</a> <a id="1713" href="Relation.Binary.Structures.html#1577" class="Function">refl</a>
    <a id="1722" class="Symbol">;</a> <a id="1724" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2789" class="Field">1-homo</a> <a id="1731" class="Symbol">=</a> <a id="1733" href="Relation.Binary.Structures.html#1577" class="Function">refl</a>
    <a id="1742" class="Symbol">}</a>

  <a id="1747" class="Comment">-- Equality of certain expressions can be decided.</a>

  <a id="dec′"></a><a id="1801" href="Algebra.Solver.Ring.NaturalCoefficients.html#1801" class="Function">dec′</a> <a id="1806" class="Symbol">:</a> <a id="1808" class="Symbol">∀</a> <a id="1810" href="Algebra.Solver.Ring.NaturalCoefficients.html#1810" class="Bound">m</a> <a id="1812" href="Algebra.Solver.Ring.NaturalCoefficients.html#1812" class="Bound">n</a> <a id="1814" class="Symbol">→</a> <a id="1816" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1822" class="Symbol">(</a><a id="1823" href="Algebra.Solver.Ring.NaturalCoefficients.html#1810" class="Bound">m</a> <a id="1825" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1172" class="Function Operator">×</a> <a id="1827" href="Algebra.Bundles.html#17659" class="Field">1#</a> <a id="1830" href="Algebra.Bundles.html#17501" class="Field Operator">≈</a> <a id="1832" href="Algebra.Solver.Ring.NaturalCoefficients.html#1812" class="Bound">n</a> <a id="1834" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1172" class="Function Operator">×</a> <a id="1836" href="Algebra.Bundles.html#17659" class="Field">1#</a><a id="1838" class="Symbol">)</a>
  <a id="1842" href="Algebra.Solver.Ring.NaturalCoefficients.html#1801" class="Function">dec′</a> <a id="1847" href="Algebra.Solver.Ring.NaturalCoefficients.html#1847" class="Bound">m</a> <a id="1849" href="Algebra.Solver.Ring.NaturalCoefficients.html#1849" class="Bound">n</a> <a id="1851" class="Symbol">=</a> <a id="1853" href="Data.Maybe.Base.html#2029" class="Function">map</a> <a id="1857" href="Algebra.Solver.Ring.NaturalCoefficients.html#1884" class="Function">to</a> <a id="1860" class="Symbol">(</a><a id="1861" href="Algebra.Solver.Ring.NaturalCoefficients.html#884" class="Bound">dec</a> <a id="1865" href="Algebra.Solver.Ring.NaturalCoefficients.html#1847" class="Bound">m</a> <a id="1867" href="Algebra.Solver.Ring.NaturalCoefficients.html#1849" class="Bound">n</a><a id="1868" class="Symbol">)</a>
    <a id="1874" class="Keyword">where</a>
    <a id="1884" href="Algebra.Solver.Ring.NaturalCoefficients.html#1884" class="Function">to</a> <a id="1887" class="Symbol">:</a> <a id="1889" href="Algebra.Solver.Ring.NaturalCoefficients.html#1847" class="Bound">m</a> <a id="1891" href="Algebra.Solver.Ring.NaturalCoefficients.html#874" class="Function Operator">×ᵤ</a> <a id="1894" href="Algebra.Bundles.html#17659" class="Field">1#</a> <a id="1897" href="Algebra.Bundles.html#17501" class="Field Operator">≈</a> <a id="1899" href="Algebra.Solver.Ring.NaturalCoefficients.html#1849" class="Bound">n</a> <a id="1901" href="Algebra.Solver.Ring.NaturalCoefficients.html#874" class="Function Operator">×ᵤ</a> <a id="1904" href="Algebra.Bundles.html#17659" class="Field">1#</a> <a id="1907" class="Symbol">→</a> <a id="1909" href="Algebra.Solver.Ring.NaturalCoefficients.html#1847" class="Bound">m</a> <a id="1911" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1172" class="Function Operator">×</a> <a id="1913" href="Algebra.Bundles.html#17659" class="Field">1#</a> <a id="1916" href="Algebra.Bundles.html#17501" class="Field Operator">≈</a> <a id="1918" href="Algebra.Solver.Ring.NaturalCoefficients.html#1849" class="Bound">n</a> <a id="1920" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1172" class="Function Operator">×</a> <a id="1922" href="Algebra.Bundles.html#17659" class="Field">1#</a>
    <a id="1929" href="Algebra.Solver.Ring.NaturalCoefficients.html#1884" class="Function">to</a> <a id="1932" href="Algebra.Solver.Ring.NaturalCoefficients.html#1932" class="Bound">m≈n</a> <a id="1936" class="Symbol">=</a> <a id="1938" href="Relation.Binary.Reasoning.Base.Single.html#1925" class="Function Operator">begin</a>
      <a id="1950" href="Algebra.Solver.Ring.NaturalCoefficients.html#1847" class="Bound">m</a> <a id="1952" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1172" class="Function Operator">×</a>  <a id="1955" href="Algebra.Bundles.html#17659" class="Field">1#</a>  <a id="1959" href="Relation.Binary.Reasoning.Setoid.html#1162" class="Function">≈˘⟨</a> <a id="1963" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1661" class="Function">×ᵤ≈×</a> <a id="1968" href="Algebra.Solver.Ring.NaturalCoefficients.html#1847" class="Bound">m</a> <a id="1970" href="Algebra.Bundles.html#17659" class="Field">1#</a> <a id="1973" href="Relation.Binary.Reasoning.Setoid.html#1162" class="Function">⟩</a>
      <a id="1981" href="Algebra.Solver.Ring.NaturalCoefficients.html#1847" class="Bound">m</a> <a id="1983" href="Algebra.Solver.Ring.NaturalCoefficients.html#874" class="Function Operator">×ᵤ</a> <a id="1986" href="Algebra.Bundles.html#17659" class="Field">1#</a>  <a id="1990" href="Relation.Binary.Reasoning.Setoid.html#1061" class="Function">≈⟨</a>  <a id="1994" href="Algebra.Solver.Ring.NaturalCoefficients.html#1932" class="Bound">m≈n</a> <a id="1998" href="Relation.Binary.Reasoning.Setoid.html#1061" class="Function">⟩</a>
      <a id="2006" href="Algebra.Solver.Ring.NaturalCoefficients.html#1849" class="Bound">n</a> <a id="2008" href="Algebra.Solver.Ring.NaturalCoefficients.html#874" class="Function Operator">×ᵤ</a> <a id="2011" href="Algebra.Bundles.html#17659" class="Field">1#</a>  <a id="2015" href="Relation.Binary.Reasoning.Setoid.html#1061" class="Function">≈⟨</a>  <a id="2019" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1661" class="Function">×ᵤ≈×</a> <a id="2024" href="Algebra.Solver.Ring.NaturalCoefficients.html#1849" class="Bound">n</a> <a id="2026" href="Algebra.Bundles.html#17659" class="Field">1#</a> <a id="2029" href="Relation.Binary.Reasoning.Setoid.html#1061" class="Function">⟩</a>
      <a id="2037" href="Algebra.Solver.Ring.NaturalCoefficients.html#1849" class="Bound">n</a> <a id="2039" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1172" class="Function Operator">×</a>  <a id="2042" href="Algebra.Bundles.html#17659" class="Field">1#</a>  <a id="2046" href="Relation.Binary.Reasoning.Base.Single.html#2564" class="Function Operator">∎</a>

<a id="2049" class="Comment">-- The instantiation.</a>

<a id="2072" class="Keyword">open</a> <a id="2077" class="Keyword">import</a> <a id="2084" href="Algebra.Solver.Ring.html" class="Module">Algebra.Solver.Ring</a> <a id="2104" class="Symbol">_</a> <a id="2106" class="Symbol">_</a> <a id="2108" href="Algebra.Solver.Ring.NaturalCoefficients.html#1496" class="Function">homomorphism</a> <a id="2121" href="Algebra.Solver.Ring.NaturalCoefficients.html#1801" class="Function">dec′</a> <a id="2126" class="Keyword">public</a>
</pre></body></html>