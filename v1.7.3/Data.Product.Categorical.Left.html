<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Product.Categorical.Left</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Left-biased universe-sensitive functor and monad instances for the</a>
<a id="176" class="Comment">-- Product type.</a>
<a id="193" class="Comment">--</a>
<a id="196" class="Comment">-- To minimize the universe level of the RawFunctor, we require that</a>
<a id="265" class="Comment">-- elements of B are &quot;lifted&quot; to a copy of B at a higher universe level</a>
<a id="337" class="Comment">-- (a ⊔ b). See the Data.Product.Categorical.Examples for how this is</a>
<a id="407" class="Comment">-- done.</a>
<a id="416" class="Comment">------------------------------------------------------------------------</a>

<a id="490" class="Symbol">{-#</a> <a id="494" class="Keyword">OPTIONS</a> <a id="502" class="Pragma">--cubical-compatible</a> <a id="523" class="Pragma">--safe</a> <a id="530" class="Symbol">#-}</a>

<a id="535" class="Keyword">open</a> <a id="540" class="Keyword">import</a> <a id="547" href="Algebra.html" class="Module">Algebra</a>
<a id="555" class="Keyword">open</a> <a id="560" class="Keyword">import</a> <a id="567" href="Level.html" class="Module">Level</a>

<a id="574" class="Keyword">module</a> <a id="581" href="Data.Product.Categorical.Left.html" class="Module">Data.Product.Categorical.Left</a>
  <a id="613" class="Symbol">{</a><a id="614" href="Data.Product.Categorical.Left.html#614" class="Bound">a</a> <a id="616" href="Data.Product.Categorical.Left.html#616" class="Bound">e</a><a id="617" class="Symbol">}</a> <a id="619" class="Symbol">(</a><a id="620" href="Data.Product.Categorical.Left.html#620" class="Bound">A</a> <a id="622" class="Symbol">:</a> <a id="624" href="Algebra.Bundles.html#4113" class="Record">RawMonoid</a> <a id="634" href="Data.Product.Categorical.Left.html#614" class="Bound">a</a> <a id="636" href="Data.Product.Categorical.Left.html#616" class="Bound">e</a><a id="637" class="Symbol">)</a> <a id="639" class="Symbol">(</a><a id="640" href="Data.Product.Categorical.Left.html#640" class="Bound">b</a> <a id="642" class="Symbol">:</a> <a id="644" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="649" class="Symbol">)</a> <a id="651" class="Keyword">where</a>

<a id="658" class="Keyword">open</a> <a id="663" class="Keyword">import</a> <a id="670" href="Data.Product.html" class="Module">Data.Product</a>
<a id="683" class="Keyword">import</a> <a id="690" href="Data.Product.Categorical.Left.Base.html" class="Module">Data.Product.Categorical.Left.Base</a> <a id="725" class="Symbol">as</a> <a id="728" class="Module">Base</a>
<a id="733" class="Keyword">open</a> <a id="738" class="Keyword">import</a> <a id="745" href="Category.Applicative.html" class="Module">Category.Applicative</a> <a id="766" class="Keyword">using</a> <a id="772" class="Symbol">(</a><a id="773" href="Category.Applicative.html#503" class="Function">RawApplicative</a><a id="787" class="Symbol">)</a>
<a id="789" class="Keyword">open</a> <a id="794" class="Keyword">import</a> <a id="801" href="Category.Monad.html" class="Module">Category.Monad</a> <a id="816" class="Keyword">using</a> <a id="822" class="Symbol">(</a><a id="823" href="Category.Monad.html#457" class="Function">RawMonad</a><a id="831" class="Symbol">;</a> <a id="833" href="Category.Monad.html#536" class="Function">RawMonadT</a><a id="842" class="Symbol">)</a>
<a id="844" class="Keyword">open</a> <a id="849" class="Keyword">import</a> <a id="856" href="Function.Base.html" class="Module">Function.Base</a> <a id="870" class="Keyword">using</a> <a id="876" class="Symbol">(</a><a id="877" href="Function.Base.html#624" class="Function">id</a><a id="879" class="Symbol">;</a> <a id="881" href="Function.Base.html#1563" class="Function">flip</a><a id="885" class="Symbol">;</a> <a id="887" href="Function.Base.html#1040" class="Function Operator">_∘_</a><a id="890" class="Symbol">;</a> <a id="892" href="Function.Base.html#3715" class="Function Operator">_∘′_</a><a id="896" class="Symbol">)</a>
<a id="898" class="Keyword">import</a> <a id="905" href="Function.Identity.Categorical.html" class="Module">Function.Identity.Categorical</a> <a id="935" class="Symbol">as</a> <a id="938" class="Module">Id</a>

<a id="942" class="Keyword">open</a> <a id="947" href="Algebra.Bundles.html#4113" class="Module">RawMonoid</a> <a id="957" href="Data.Product.Categorical.Left.html#620" class="Bound">A</a>

<a id="960" class="Comment">------------------------------------------------------------------------</a>
<a id="1033" class="Comment">-- Re-export the base contents publically</a>

<a id="1076" class="Keyword">open</a> <a id="1081" href="Data.Product.Categorical.Left.Base.html" class="Module">Base</a> <a id="1086" href="Algebra.Bundles.html#4195" class="Function">Carrier</a> <a id="1094" href="Data.Product.Categorical.Left.html#640" class="Bound">b</a> <a id="1096" class="Keyword">public</a>

<a id="1104" class="Comment">------------------------------------------------------------------------</a>
<a id="1177" class="Comment">-- Basic records</a>

<a id="applicative"></a><a id="1195" href="Data.Product.Categorical.Left.html#1195" class="Function">applicative</a> <a id="1207" class="Symbol">:</a> <a id="1209" href="Category.Applicative.html#503" class="Function">RawApplicative</a> <a id="1224" href="Data.Product.Categorical.Left.Base.html#908" class="Function">Productₗ</a>
<a id="1233" href="Data.Product.Categorical.Left.html#1195" class="Function">applicative</a> <a id="1245" class="Symbol">=</a> <a id="1247" class="Keyword">record</a>
  <a id="1256" class="Symbol">{</a> <a id="1258" href="Category.Applicative.Indexed.html#1012" class="Field">pure</a> <a id="1263" class="Symbol">=</a> <a id="1265" href="Algebra.Bundles.html#4269" class="Function">ε</a> <a id="1267" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a>
  <a id="1272" class="Symbol">;</a> <a id="1274" href="Category.Applicative.Indexed.html#1043" class="Field Operator">_⊛_</a>  <a id="1279" class="Symbol">=</a> <a id="1281" href="Data.Product.html#3069" class="Function">zip</a> <a id="1285" href="Algebra.Bundles.html#4243" class="Function Operator">_∙_</a> <a id="1289" href="Function.Base.html#624" class="Function">id</a>
  <a id="1294" class="Symbol">}</a>

<a id="1297" class="Comment">-- The monad instance also requires some mucking about with universe levels.</a>
<a id="monadT"></a><a id="1374" href="Data.Product.Categorical.Left.html#1374" class="Function">monadT</a> <a id="1381" class="Symbol">:</a> <a id="1383" href="Category.Monad.html#536" class="Function">RawMonadT</a> <a id="1393" class="Symbol">(</a><a id="1394" href="Function.Base.html#3715" class="Function Operator">_∘′</a> <a id="1398" href="Data.Product.Categorical.Left.Base.html#908" class="Function">Productₗ</a><a id="1406" class="Symbol">)</a>
<a id="1408" href="Data.Product.Categorical.Left.html#1374" class="Function">monadT</a> <a id="1415" href="Data.Product.Categorical.Left.html#1415" class="Bound">M</a> <a id="1417" class="Symbol">=</a> <a id="1419" class="Keyword">record</a>
  <a id="1428" class="Symbol">{</a> <a id="1430" href="Category.Monad.Indexed.html#653" class="Field">return</a> <a id="1437" class="Symbol">=</a> <a id="1439" href="Category.Applicative.Indexed.html#1012" class="Function">pure</a> <a id="1444" href="Function.Base.html#3715" class="Function Operator">∘′</a> <a id="1447" class="Symbol">(</a><a id="1448" href="Algebra.Bundles.html#4269" class="Function">ε</a> <a id="1450" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="1452" class="Symbol">)</a>
  <a id="1456" class="Symbol">;</a> <a id="1458" href="Category.Monad.Indexed.html#686" class="Field Operator">_&gt;&gt;=_</a>  <a id="1465" class="Symbol">=</a> <a id="1467" class="Symbol">λ</a> <a id="1469" href="Data.Product.Categorical.Left.html#1469" class="Bound">ma</a> <a id="1472" href="Data.Product.Categorical.Left.html#1472" class="Bound">f</a> <a id="1474" class="Symbol">→</a> <a id="1476" href="Data.Product.Categorical.Left.html#1469" class="Bound">ma</a> <a id="1479" href="Category.Monad.Indexed.html#686" class="Field Operator">&gt;&gt;=</a> <a id="1483" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="1491" class="Symbol">λ</a> <a id="1493" href="Data.Product.Categorical.Left.html#1493" class="Bound">a</a> <a id="1495" href="Data.Product.Categorical.Left.html#1495" class="Bound">x</a> <a id="1497" class="Symbol">→</a> <a id="1499" href="Data.Product.html#2634" class="Function">map₁</a> <a id="1504" class="Symbol">(</a><a id="1505" href="Data.Product.Categorical.Left.html#1493" class="Bound">a</a> <a id="1507" href="Algebra.Bundles.html#4243" class="Function Operator">∙_</a><a id="1509" class="Symbol">)</a> <a id="1511" href="Category.Functor.html#617" class="Function Operator">&lt;$&gt;</a> <a id="1515" href="Data.Product.Categorical.Left.html#1472" class="Bound">f</a> <a id="1517" href="Data.Product.Categorical.Left.html#1495" class="Bound">x</a>
  <a id="1521" class="Symbol">}</a> <a id="1523" class="Keyword">where</a> <a id="1529" class="Keyword">open</a> <a id="1534" href="Category.Monad.html#841" class="Module">RawMonad</a> <a id="1543" href="Data.Product.Categorical.Left.html#1415" class="Bound">M</a>

<a id="monad"></a><a id="1546" href="Data.Product.Categorical.Left.html#1546" class="Function">monad</a> <a id="1552" class="Symbol">:</a> <a id="1554" href="Category.Monad.html#457" class="Function">RawMonad</a> <a id="1563" href="Data.Product.Categorical.Left.Base.html#908" class="Function">Productₗ</a>
<a id="1572" href="Data.Product.Categorical.Left.html#1546" class="Function">monad</a> <a id="1578" class="Symbol">=</a> <a id="1580" href="Data.Product.Categorical.Left.html#1374" class="Function">monadT</a> <a id="1587" href="Function.Identity.Categorical.html#660" class="Function">Id.monad</a>

<a id="1597" class="Comment">------------------------------------------------------------------------</a>
<a id="1670" class="Comment">-- Get access to other monadic functions</a>

<a id="1712" class="Keyword">module</a> <a id="TraversableA"></a><a id="1719" href="Data.Product.Categorical.Left.html#1719" class="Module">TraversableA</a> <a id="1732" class="Symbol">{</a><a id="1733" href="Data.Product.Categorical.Left.html#1733" class="Bound">F</a><a id="1734" class="Symbol">}</a> <a id="1736" class="Symbol">(</a><a id="1737" href="Data.Product.Categorical.Left.html#1737" class="Bound">App</a> <a id="1741" class="Symbol">:</a> <a id="1743" href="Category.Applicative.html#503" class="Function">RawApplicative</a> <a id="1758" class="Symbol">{</a><a id="1759" href="Data.Product.Categorical.Left.html#614" class="Bound">a</a> <a id="1761" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="1763" href="Data.Product.Categorical.Left.html#640" class="Bound">b</a><a id="1764" class="Symbol">}</a> <a id="1766" href="Data.Product.Categorical.Left.html#1733" class="Bound">F</a><a id="1767" class="Symbol">)</a> <a id="1769" class="Keyword">where</a>

  <a id="1778" class="Keyword">open</a> <a id="1783" href="Category.Applicative.html#611" class="Module">RawApplicative</a> <a id="1798" href="Data.Product.Categorical.Left.html#1737" class="Bound">App</a>

  <a id="TraversableA.sequenceA"></a><a id="1805" href="Data.Product.Categorical.Left.html#1805" class="Function">sequenceA</a> <a id="1815" class="Symbol">:</a> <a id="1817" class="Symbol">∀</a> <a id="1819" class="Symbol">{</a><a id="1820" href="Data.Product.Categorical.Left.html#1820" class="Bound">A</a><a id="1821" class="Symbol">}</a> <a id="1823" class="Symbol">→</a> <a id="1825" href="Data.Product.Categorical.Left.Base.html#908" class="Function">Productₗ</a> <a id="1834" class="Symbol">(</a><a id="1835" href="Data.Product.Categorical.Left.html#1733" class="Bound">F</a> <a id="1837" href="Data.Product.Categorical.Left.html#1820" class="Bound">A</a><a id="1838" class="Symbol">)</a> <a id="1840" class="Symbol">→</a> <a id="1842" href="Data.Product.Categorical.Left.html#1733" class="Bound">F</a> <a id="1844" class="Symbol">(</a><a id="1845" href="Data.Product.Categorical.Left.Base.html#908" class="Function">Productₗ</a> <a id="1854" href="Data.Product.Categorical.Left.html#1820" class="Bound">A</a><a id="1855" class="Symbol">)</a>
  <a id="1859" href="Data.Product.Categorical.Left.html#1805" class="Function">sequenceA</a> <a id="1869" class="Symbol">(</a><a id="1870" href="Data.Product.Categorical.Left.html#1870" class="Bound">x</a> <a id="1872" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1874" href="Data.Product.Categorical.Left.html#1874" class="Bound">fa</a><a id="1876" class="Symbol">)</a> <a id="1878" class="Symbol">=</a> <a id="1880" class="Symbol">(</a><a id="1881" href="Data.Product.Categorical.Left.html#1870" class="Bound">x</a> <a id="1883" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="1885" class="Symbol">)</a> <a id="1887" href="Category.Functor.html#617" class="Function Operator">&lt;$&gt;</a> <a id="1891" href="Data.Product.Categorical.Left.html#1874" class="Bound">fa</a>

  <a id="TraversableA.mapA"></a><a id="1897" href="Data.Product.Categorical.Left.html#1897" class="Function">mapA</a> <a id="1902" class="Symbol">:</a> <a id="1904" class="Symbol">∀</a> <a id="1906" class="Symbol">{</a><a id="1907" href="Data.Product.Categorical.Left.html#1907" class="Bound">A</a> <a id="1909" href="Data.Product.Categorical.Left.html#1909" class="Bound">B</a><a id="1910" class="Symbol">}</a> <a id="1912" class="Symbol">→</a> <a id="1914" class="Symbol">(</a><a id="1915" href="Data.Product.Categorical.Left.html#1907" class="Bound">A</a> <a id="1917" class="Symbol">→</a> <a id="1919" href="Data.Product.Categorical.Left.html#1733" class="Bound">F</a> <a id="1921" href="Data.Product.Categorical.Left.html#1909" class="Bound">B</a><a id="1922" class="Symbol">)</a> <a id="1924" class="Symbol">→</a> <a id="1926" href="Data.Product.Categorical.Left.Base.html#908" class="Function">Productₗ</a> <a id="1935" href="Data.Product.Categorical.Left.html#1907" class="Bound">A</a> <a id="1937" class="Symbol">→</a> <a id="1939" href="Data.Product.Categorical.Left.html#1733" class="Bound">F</a> <a id="1941" class="Symbol">(</a><a id="1942" href="Data.Product.Categorical.Left.Base.html#908" class="Function">Productₗ</a> <a id="1951" href="Data.Product.Categorical.Left.html#1909" class="Bound">B</a><a id="1952" class="Symbol">)</a>
  <a id="1956" href="Data.Product.Categorical.Left.html#1897" class="Function">mapA</a> <a id="1961" href="Data.Product.Categorical.Left.html#1961" class="Bound">f</a> <a id="1963" class="Symbol">=</a> <a id="1965" href="Data.Product.Categorical.Left.html#1805" class="Function">sequenceA</a> <a id="1975" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1977" href="Data.Product.html#2684" class="Function">map₂</a> <a id="1982" href="Data.Product.Categorical.Left.html#1961" class="Bound">f</a>

  <a id="TraversableA.forA"></a><a id="1987" href="Data.Product.Categorical.Left.html#1987" class="Function">forA</a> <a id="1992" class="Symbol">:</a> <a id="1994" class="Symbol">∀</a> <a id="1996" class="Symbol">{</a><a id="1997" href="Data.Product.Categorical.Left.html#1997" class="Bound">A</a> <a id="1999" href="Data.Product.Categorical.Left.html#1999" class="Bound">B</a><a id="2000" class="Symbol">}</a> <a id="2002" class="Symbol">→</a> <a id="2004" href="Data.Product.Categorical.Left.Base.html#908" class="Function">Productₗ</a> <a id="2013" href="Data.Product.Categorical.Left.html#1997" class="Bound">A</a> <a id="2015" class="Symbol">→</a> <a id="2017" class="Symbol">(</a><a id="2018" href="Data.Product.Categorical.Left.html#1997" class="Bound">A</a> <a id="2020" class="Symbol">→</a> <a id="2022" href="Data.Product.Categorical.Left.html#1733" class="Bound">F</a> <a id="2024" href="Data.Product.Categorical.Left.html#1999" class="Bound">B</a><a id="2025" class="Symbol">)</a> <a id="2027" class="Symbol">→</a> <a id="2029" href="Data.Product.Categorical.Left.html#1733" class="Bound">F</a> <a id="2031" class="Symbol">(</a><a id="2032" href="Data.Product.Categorical.Left.Base.html#908" class="Function">Productₗ</a> <a id="2041" href="Data.Product.Categorical.Left.html#1999" class="Bound">B</a><a id="2042" class="Symbol">)</a>
  <a id="2046" href="Data.Product.Categorical.Left.html#1987" class="Function">forA</a> <a id="2051" class="Symbol">=</a> <a id="2053" href="Function.Base.html#1563" class="Function">flip</a> <a id="2058" href="Data.Product.Categorical.Left.html#1897" class="Function">mapA</a>

<a id="2064" class="Keyword">module</a> <a id="TraversableM"></a><a id="2071" href="Data.Product.Categorical.Left.html#2071" class="Module">TraversableM</a> <a id="2084" class="Symbol">{</a><a id="2085" href="Data.Product.Categorical.Left.html#2085" class="Bound">M</a><a id="2086" class="Symbol">}</a> <a id="2088" class="Symbol">(</a><a id="2089" href="Data.Product.Categorical.Left.html#2089" class="Bound">Mon</a> <a id="2093" class="Symbol">:</a> <a id="2095" href="Category.Monad.html#457" class="Function">RawMonad</a> <a id="2104" class="Symbol">{</a><a id="2105" href="Data.Product.Categorical.Left.html#614" class="Bound">a</a> <a id="2107" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="2109" href="Data.Product.Categorical.Left.html#640" class="Bound">b</a><a id="2110" class="Symbol">}</a> <a id="2112" href="Data.Product.Categorical.Left.html#2085" class="Bound">M</a><a id="2113" class="Symbol">)</a> <a id="2115" class="Keyword">where</a>

  <a id="2124" class="Keyword">open</a> <a id="2129" href="Category.Monad.html#841" class="Module">RawMonad</a> <a id="2138" href="Data.Product.Categorical.Left.html#2089" class="Bound">Mon</a>

  <a id="2145" class="Keyword">open</a> <a id="2150" href="Data.Product.Categorical.Left.html#1719" class="Module">TraversableA</a> <a id="2163" href="Category.Monad.Indexed.html#1150" class="Function">rawIApplicative</a> <a id="2179" class="Keyword">public</a>
    <a id="2190" class="Keyword">renaming</a>
    <a id="2203" class="Symbol">(</a> <a id="2205" href="Data.Product.Categorical.Left.html#1805" class="Function">sequenceA</a> <a id="2215" class="Symbol">to</a> <a id="2218" class="Function">sequenceM</a>
    <a id="2232" class="Symbol">;</a> <a id="2234" href="Data.Product.Categorical.Left.html#1897" class="Function">mapA</a>      <a id="2244" class="Symbol">to</a> <a id="2247" class="Function">mapM</a>
    <a id="2256" class="Symbol">;</a> <a id="2258" href="Data.Product.Categorical.Left.html#1987" class="Function">forA</a>      <a id="2268" class="Symbol">to</a> <a id="2271" class="Function">forM</a>
    <a id="2280" class="Symbol">)</a>
</pre></body></html>