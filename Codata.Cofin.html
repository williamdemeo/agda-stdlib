<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Cofin</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- &quot;Finite&quot; sets indexed on coinductive &quot;natural&quot; numbers</a>
<a id="164" class="Comment">------------------------------------------------------------------------</a>

<a id="238" class="Symbol">{-#</a> <a id="242" class="Keyword">OPTIONS</a> <a id="250" class="Pragma">--without-K</a> <a id="262" class="Pragma">--sized-types</a> <a id="276" class="Symbol">#-}</a>

<a id="281" class="Keyword">module</a> <a id="288" href="Codata.Cofin.html" class="Module">Codata.Cofin</a> <a id="301" class="Keyword">where</a>

<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="Size.html" class="Module">Size</a>
<a id="325" class="Keyword">open</a> <a id="330" class="Keyword">import</a> <a id="337" href="Codata.Thunk.html" class="Module">Codata.Thunk</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Codata.Conat.html" class="Module">Codata.Conat</a> <a id="375" class="Symbol">as</a> <a id="378" class="Module">Conat</a>
  <a id="386" class="Keyword">using</a> <a id="392" class="Symbol">(</a><a id="393" href="Codata.Conat.html#520" class="Datatype">Conat</a><a id="398" class="Symbol">;</a> <a id="400" href="Codata.Conat.html#551" class="InductiveConstructor">zero</a><a id="404" class="Symbol">;</a> <a id="406" href="Codata.Conat.html#568" class="InductiveConstructor">suc</a><a id="409" class="Symbol">;</a> <a id="411" href="Codata.Conat.html#599" class="Function">infinity</a><a id="419" class="Symbol">;</a> <a id="421" href="Codata.Conat.html#2363" class="Function Operator">_ℕ&lt;_</a><a id="425" class="Symbol">;</a> <a id="427" href="Codata.Conat.html#2314" class="InductiveConstructor">sℕ≤s</a><a id="431" class="Symbol">;</a> <a id="433" href="Codata.Conat.html#2409" class="Function Operator">_ℕ≤infinity</a><a id="444" class="Symbol">)</a>
<a id="446" class="Keyword">open</a> <a id="451" class="Keyword">import</a> <a id="458" href="Codata.Conat.Bisimilarity.html" class="Module">Codata.Conat.Bisimilarity</a> <a id="484" class="Symbol">as</a> <a id="487" class="Module">Bisim</a> <a id="493" class="Keyword">using</a> <a id="499" class="Symbol">(</a><a id="500" href="Codata.Conat.Bisimilarity.html#1273" class="Datatype Operator">_⊢_≲_</a> <a id="506" class="Symbol">;</a> <a id="508" href="Codata.Conat.Bisimilarity.html#1342" class="InductiveConstructor">s≲s</a><a id="511" class="Symbol">)</a>
<a id="513" class="Keyword">open</a> <a id="518" class="Keyword">import</a> <a id="525" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="539" class="Keyword">open</a> <a id="544" class="Keyword">import</a> <a id="551" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="565" class="Symbol">as</a> <a id="568" class="Module">Fin</a> <a id="572" class="Keyword">hiding</a> <a id="579" class="Symbol">(</a><a id="580" href="Data.Fin.Base.html#1867" class="Function">fromℕ</a><a id="585" class="Symbol">;</a> <a id="587" href="Data.Fin.Base.html#8488" class="Function">fromℕ≤</a><a id="593" class="Symbol">;</a> <a id="595" href="Data.Fin.Base.html#1973" class="Function">fromℕ&lt;</a><a id="601" class="Symbol">;</a> <a id="603" href="Data.Fin.Base.html#1252" class="Function">toℕ</a><a id="606" class="Symbol">)</a>
<a id="608" class="Keyword">open</a> <a id="613" class="Keyword">import</a> <a id="620" href="Function.Base.html" class="Module">Function.Base</a> <a id="634" class="Keyword">using</a> <a id="640" class="Symbol">(</a><a id="641" href="Function.Base.html#4414" class="Function Operator">_∋_</a><a id="644" class="Symbol">)</a>
<a id="646" class="Keyword">open</a> <a id="651" class="Keyword">import</a> <a id="658" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="697" class="Comment">------------------------------------------------------------------------</a>
<a id="770" class="Comment">-- The type</a>

<a id="783" class="Comment">-- Note that `Cofin infinity` is /not/ finite. Note also that this is</a>
<a id="853" class="Comment">-- not a coinductive type, but it is indexed on a coinductive type.</a>

<a id="922" class="Keyword">data</a> <a id="Cofin"></a><a id="927" href="Codata.Cofin.html#927" class="Datatype">Cofin</a> <a id="933" class="Symbol">:</a> <a id="935" href="Codata.Conat.html#520" class="Datatype">Conat</a> <a id="941" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a> <a id="943" class="Symbol">→</a> <a id="945" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="949" class="Keyword">where</a>
  <a id="Cofin.zero"></a><a id="957" href="Codata.Cofin.html#957" class="InductiveConstructor">zero</a> <a id="962" class="Symbol">:</a> <a id="964" class="Symbol">∀</a> <a id="966" class="Symbol">{</a><a id="967" href="Codata.Cofin.html#967" class="Bound">n</a><a id="968" class="Symbol">}</a> <a id="970" class="Symbol">→</a> <a id="972" href="Codata.Cofin.html#927" class="Datatype">Cofin</a> <a id="978" class="Symbol">(</a><a id="979" href="Codata.Conat.html#568" class="InductiveConstructor">suc</a> <a id="983" href="Codata.Cofin.html#967" class="Bound">n</a><a id="984" class="Symbol">)</a>
  <a id="Cofin.suc"></a><a id="988" href="Codata.Cofin.html#988" class="InductiveConstructor">suc</a>  <a id="993" class="Symbol">:</a> <a id="995" class="Symbol">∀</a> <a id="997" class="Symbol">{</a><a id="998" href="Codata.Cofin.html#998" class="Bound">n</a><a id="999" class="Symbol">}</a> <a id="1001" class="Symbol">→</a> <a id="1003" href="Codata.Cofin.html#927" class="Datatype">Cofin</a> <a id="1009" class="Symbol">(</a><a id="1010" href="Codata.Cofin.html#998" class="Bound">n</a> <a id="1012" class="Symbol">.</a><a id="1013" href="Codata.Thunk.html#541" class="Field">force</a><a id="1018" class="Symbol">)</a> <a id="1020" class="Symbol">→</a> <a id="1022" href="Codata.Cofin.html#927" class="Datatype">Cofin</a> <a id="1028" class="Symbol">(</a><a id="1029" href="Codata.Conat.html#568" class="InductiveConstructor">suc</a> <a id="1033" href="Codata.Cofin.html#998" class="Bound">n</a><a id="1034" class="Symbol">)</a>

<a id="suc-injective"></a><a id="1037" href="Codata.Cofin.html#1037" class="Function">suc-injective</a> <a id="1051" class="Symbol">:</a> <a id="1053" class="Symbol">∀</a> <a id="1055" class="Symbol">{</a><a id="1056" href="Codata.Cofin.html#1056" class="Bound">n</a><a id="1057" class="Symbol">}</a> <a id="1059" class="Symbol">{</a><a id="1060" href="Codata.Cofin.html#1060" class="Bound">p</a> <a id="1062" href="Codata.Cofin.html#1062" class="Bound">q</a> <a id="1064" class="Symbol">:</a> <a id="1066" href="Codata.Cofin.html#927" class="Datatype">Cofin</a> <a id="1072" class="Symbol">(</a><a id="1073" href="Codata.Cofin.html#1056" class="Bound">n</a> <a id="1075" class="Symbol">.</a><a id="1076" href="Codata.Thunk.html#541" class="Field">force</a><a id="1081" class="Symbol">)}</a> <a id="1084" class="Symbol">→</a>
                <a id="1102" class="Symbol">(</a><a id="1103" href="Codata.Cofin.html#927" class="Datatype">Cofin</a> <a id="1109" class="Symbol">(</a><a id="1110" class="InductiveConstructor">suc</a> <a id="1114" href="Codata.Cofin.html#1056" class="Bound">n</a><a id="1115" class="Symbol">)</a> <a id="1117" href="Function.Base.html#4414" class="Function Operator">∋</a> <a id="1119" class="InductiveConstructor">suc</a> <a id="1123" href="Codata.Cofin.html#1060" class="Bound">p</a><a id="1124" class="Symbol">)</a> <a id="1126" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1128" class="InductiveConstructor">suc</a> <a id="1132" href="Codata.Cofin.html#1062" class="Bound">q</a> <a id="1134" class="Symbol">→</a> <a id="1136" href="Codata.Cofin.html#1060" class="Bound">p</a> <a id="1138" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1140" href="Codata.Cofin.html#1062" class="Bound">q</a>
<a id="1142" href="Codata.Cofin.html#1037" class="Function">suc-injective</a> <a id="1156" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1161" class="Symbol">=</a> <a id="1163" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="1169" class="Comment">------------------------------------------------------------------------</a>
<a id="1242" class="Comment">-- Some operations</a>

<a id="fromℕ&lt;"></a><a id="1262" href="Codata.Cofin.html#1262" class="Function">fromℕ&lt;</a> <a id="1269" class="Symbol">:</a> <a id="1271" class="Symbol">∀</a> <a id="1273" class="Symbol">{</a><a id="1274" href="Codata.Cofin.html#1274" class="Bound">n</a> <a id="1276" href="Codata.Cofin.html#1276" class="Bound">k</a><a id="1277" class="Symbol">}</a> <a id="1279" class="Symbol">→</a> <a id="1281" href="Codata.Cofin.html#1276" class="Bound">k</a> <a id="1283" href="Codata.Conat.html#2363" class="Function Operator">ℕ&lt;</a> <a id="1286" href="Codata.Cofin.html#1274" class="Bound">n</a> <a id="1288" class="Symbol">→</a> <a id="1290" href="Codata.Cofin.html#927" class="Datatype">Cofin</a> <a id="1296" href="Codata.Cofin.html#1274" class="Bound">n</a>
<a id="1298" href="Codata.Cofin.html#1262" class="Function">fromℕ&lt;</a> <a id="1305" class="Symbol">{</a><a id="1306" href="Codata.Conat.html#551" class="InductiveConstructor">zero</a><a id="1310" class="Symbol">}</a>  <a id="1313" class="Symbol">()</a>
<a id="1316" href="Codata.Cofin.html#1262" class="Function">fromℕ&lt;</a> <a id="1323" class="Symbol">{</a><a id="1324" href="Codata.Conat.html#568" class="InductiveConstructor">suc</a> <a id="1328" href="Codata.Cofin.html#1328" class="Bound">n</a><a id="1329" class="Symbol">}</a> <a id="1331" class="Symbol">{</a><a id="1332" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="1336" class="Symbol">}</a>  <a id="1339" class="Symbol">(</a><a id="1340" href="Codata.Conat.html#2314" class="InductiveConstructor">sℕ≤s</a> <a id="1345" href="Codata.Cofin.html#1345" class="Bound">p</a><a id="1346" class="Symbol">)</a> <a id="1348" class="Symbol">=</a> <a id="1350" href="Codata.Cofin.html#957" class="InductiveConstructor">zero</a>
<a id="1355" href="Codata.Cofin.html#1262" class="Function">fromℕ&lt;</a> <a id="1362" class="Symbol">{</a><a id="1363" href="Codata.Conat.html#568" class="InductiveConstructor">suc</a> <a id="1367" href="Codata.Cofin.html#1367" class="Bound">n</a><a id="1368" class="Symbol">}</a> <a id="1370" class="Symbol">{</a><a id="1371" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1375" href="Codata.Cofin.html#1375" class="Bound">k</a><a id="1376" class="Symbol">}</a> <a id="1378" class="Symbol">(</a><a id="1379" href="Codata.Conat.html#2314" class="InductiveConstructor">sℕ≤s</a> <a id="1384" href="Codata.Cofin.html#1384" class="Bound">p</a><a id="1385" class="Symbol">)</a> <a id="1387" class="Symbol">=</a> <a id="1389" href="Codata.Cofin.html#988" class="InductiveConstructor">suc</a> <a id="1393" class="Symbol">(</a><a id="1394" href="Codata.Cofin.html#1262" class="Function">fromℕ&lt;</a> <a id="1401" href="Codata.Cofin.html#1384" class="Bound">p</a><a id="1402" class="Symbol">)</a>

<a id="fromℕ"></a><a id="1405" href="Codata.Cofin.html#1405" class="Function">fromℕ</a> <a id="1411" class="Symbol">:</a> <a id="1413" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1415" class="Symbol">→</a> <a id="1417" href="Codata.Cofin.html#927" class="Datatype">Cofin</a> <a id="1423" href="Codata.Conat.html#599" class="Function">infinity</a>
<a id="1432" href="Codata.Cofin.html#1405" class="Function">fromℕ</a> <a id="1438" href="Codata.Cofin.html#1438" class="Bound">k</a> <a id="1440" class="Symbol">=</a> <a id="1442" href="Codata.Cofin.html#1262" class="Function">fromℕ&lt;</a> <a id="1449" class="Symbol">(</a><a id="1450" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1454" href="Codata.Cofin.html#1438" class="Bound">k</a> <a id="1456" href="Codata.Conat.html#2409" class="Function Operator">ℕ≤infinity</a><a id="1466" class="Symbol">)</a>

<a id="toℕ"></a><a id="1469" href="Codata.Cofin.html#1469" class="Function">toℕ</a> <a id="1473" class="Symbol">:</a> <a id="1475" class="Symbol">∀</a> <a id="1477" class="Symbol">{</a><a id="1478" href="Codata.Cofin.html#1478" class="Bound">n</a><a id="1479" class="Symbol">}</a> <a id="1481" class="Symbol">→</a> <a id="1483" href="Codata.Cofin.html#927" class="Datatype">Cofin</a> <a id="1489" href="Codata.Cofin.html#1478" class="Bound">n</a> <a id="1491" class="Symbol">→</a> <a id="1493" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="1495" href="Codata.Cofin.html#1469" class="Function">toℕ</a> <a id="1499" href="Codata.Cofin.html#957" class="InductiveConstructor">zero</a>    <a id="1507" class="Symbol">=</a> <a id="1509" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>
<a id="1514" href="Codata.Cofin.html#1469" class="Function">toℕ</a> <a id="1518" class="Symbol">(</a><a id="1519" href="Codata.Cofin.html#988" class="InductiveConstructor">suc</a> <a id="1523" href="Codata.Cofin.html#1523" class="Bound">i</a><a id="1524" class="Symbol">)</a> <a id="1526" class="Symbol">=</a> <a id="1528" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1532" class="Symbol">(</a><a id="1533" href="Codata.Cofin.html#1469" class="Function">toℕ</a> <a id="1537" href="Codata.Cofin.html#1523" class="Bound">i</a><a id="1538" class="Symbol">)</a>

<a id="fromFin"></a><a id="1541" href="Codata.Cofin.html#1541" class="Function">fromFin</a> <a id="1549" class="Symbol">:</a> <a id="1551" class="Symbol">∀</a> <a id="1553" class="Symbol">{</a><a id="1554" href="Codata.Cofin.html#1554" class="Bound">n</a><a id="1555" class="Symbol">}</a> <a id="1557" class="Symbol">→</a> <a id="1559" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="1563" href="Codata.Cofin.html#1554" class="Bound">n</a> <a id="1565" class="Symbol">→</a> <a id="1567" href="Codata.Cofin.html#927" class="Datatype">Cofin</a> <a id="1573" class="Symbol">(</a><a id="1574" href="Codata.Conat.html#668" class="Function">Conat.fromℕ</a> <a id="1586" href="Codata.Cofin.html#1554" class="Bound">n</a><a id="1587" class="Symbol">)</a>
<a id="1589" href="Codata.Cofin.html#1541" class="Function">fromFin</a> <a id="1597" href="Data.Fin.Base.html#1148" class="InductiveConstructor">zero</a>    <a id="1605" class="Symbol">=</a> <a id="1607" href="Codata.Cofin.html#957" class="InductiveConstructor">zero</a>
<a id="1612" href="Codata.Cofin.html#1541" class="Function">fromFin</a> <a id="1620" class="Symbol">(</a><a id="1621" href="Data.Fin.Base.html#1179" class="InductiveConstructor">suc</a> <a id="1625" href="Codata.Cofin.html#1625" class="Bound">i</a><a id="1626" class="Symbol">)</a> <a id="1628" class="Symbol">=</a> <a id="1630" href="Codata.Cofin.html#988" class="InductiveConstructor">suc</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Codata.Cofin.html#1541" class="Function">fromFin</a> <a id="1643" href="Codata.Cofin.html#1625" class="Bound">i</a><a id="1644" class="Symbol">)</a>

<a id="toFin"></a><a id="1647" href="Codata.Cofin.html#1647" class="Function">toFin</a> <a id="1653" class="Symbol">:</a> <a id="1655" class="Symbol">∀</a> <a id="1657" href="Codata.Cofin.html#1657" class="Bound">n</a> <a id="1659" class="Symbol">→</a> <a id="1661" href="Codata.Cofin.html#927" class="Datatype">Cofin</a> <a id="1667" class="Symbol">(</a><a id="1668" href="Codata.Conat.html#668" class="Function">Conat.fromℕ</a> <a id="1680" href="Codata.Cofin.html#1657" class="Bound">n</a><a id="1681" class="Symbol">)</a> <a id="1683" class="Symbol">→</a> <a id="1685" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="1689" href="Codata.Cofin.html#1657" class="Bound">n</a>
<a id="1691" href="Codata.Cofin.html#1647" class="Function">toFin</a> <a id="1697" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="1705" class="Symbol">()</a>
<a id="1708" href="Codata.Cofin.html#1647" class="Function">toFin</a> <a id="1714" class="Symbol">(</a><a id="1715" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1719" href="Codata.Cofin.html#1719" class="Bound">n</a><a id="1720" class="Symbol">)</a> <a id="1722" href="Codata.Cofin.html#957" class="InductiveConstructor">zero</a>    <a id="1730" class="Symbol">=</a> <a id="1732" href="Data.Fin.Base.html#1148" class="InductiveConstructor">zero</a>
<a id="1737" href="Codata.Cofin.html#1647" class="Function">toFin</a> <a id="1743" class="Symbol">(</a><a id="1744" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1748" href="Codata.Cofin.html#1748" class="Bound">n</a><a id="1749" class="Symbol">)</a> <a id="1751" class="Symbol">(</a><a id="1752" href="Codata.Cofin.html#988" class="InductiveConstructor">suc</a> <a id="1756" href="Codata.Cofin.html#1756" class="Bound">i</a><a id="1757" class="Symbol">)</a> <a id="1759" class="Symbol">=</a> <a id="1761" href="Data.Fin.Base.html#1179" class="InductiveConstructor">suc</a> <a id="1765" class="Symbol">(</a><a id="1766" href="Codata.Cofin.html#1647" class="Function">toFin</a> <a id="1772" href="Codata.Cofin.html#1748" class="Bound">n</a> <a id="1774" href="Codata.Cofin.html#1756" class="Bound">i</a><a id="1775" class="Symbol">)</a>
</pre></body></html>