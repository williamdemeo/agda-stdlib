<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effect.Monad.Error.Transformer</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- The error monad transformer</a>
<a id="137" class="Comment">------------------------------------------------------------------------</a>

<a id="211" class="Symbol">{-#</a> <a id="215" class="Keyword">OPTIONS</a> <a id="223" class="Pragma">--without-K</a> <a id="235" class="Pragma">--safe</a> <a id="242" class="Symbol">#-}</a>

<a id="247" class="Keyword">open</a> <a id="252" class="Keyword">import</a> <a id="259" href="Level.html" class="Module">Level</a>

<a id="266" class="Keyword">module</a> <a id="273" href="Effect.Monad.Error.Transformer.html" class="Module">Effect.Monad.Error.Transformer</a> <a id="304" class="Symbol">{</a><a id="305" href="Effect.Monad.Error.Transformer.html#305" class="Bound">e</a><a id="306" class="Symbol">}</a> <a id="308" class="Symbol">(</a><a id="309" href="Effect.Monad.Error.Transformer.html#309" class="Bound">E</a> <a id="311" class="Symbol">:</a> <a id="313" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="317" href="Effect.Monad.Error.Transformer.html#305" class="Bound">e</a><a id="318" class="Symbol">)</a> <a id="320" class="Symbol">(</a><a id="321" href="Effect.Monad.Error.Transformer.html#321" class="Bound">a</a> <a id="323" class="Symbol">:</a> <a id="325" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="330" class="Symbol">)</a> <a id="332" class="Keyword">where</a>

<a id="339" class="Keyword">open</a> <a id="344" class="Keyword">import</a> <a id="351" href="Effect.Choice.html" class="Module">Effect.Choice</a>
<a id="365" class="Keyword">open</a> <a id="370" class="Keyword">import</a> <a id="377" href="Effect.Empty.html" class="Module">Effect.Empty</a>
<a id="390" class="Keyword">open</a> <a id="395" class="Keyword">import</a> <a id="402" href="Effect.Functor.html" class="Module">Effect.Functor</a>
<a id="417" class="Keyword">open</a> <a id="422" class="Keyword">import</a> <a id="429" href="Effect.Applicative.html" class="Module">Effect.Applicative</a>
<a id="448" class="Keyword">open</a> <a id="453" class="Keyword">import</a> <a id="460" href="Effect.Monad.html" class="Module">Effect.Monad</a>
<a id="473" class="Keyword">open</a> <a id="478" class="Keyword">import</a> <a id="485" href="Function.Base.html" class="Module">Function.Base</a>

<a id="500" class="Keyword">private</a>
  <a id="510" class="Keyword">variable</a>
    <a id="523" href="Effect.Monad.Error.Transformer.html#523" class="Generalizable">f</a> <a id="525" href="Effect.Monad.Error.Transformer.html#525" class="Generalizable">ℓ</a> <a id="527" class="Symbol">:</a> <a id="529" href="Agda.Primitive.html#597" class="Postulate">Level</a>
    <a id="539" href="Effect.Monad.Error.Transformer.html#539" class="Generalizable">A</a> <a id="541" href="Effect.Monad.Error.Transformer.html#541" class="Generalizable">B</a> <a id="543" class="Symbol">:</a> <a id="545" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="549" href="Effect.Monad.Error.Transformer.html#525" class="Generalizable">ℓ</a>
    <a id="555" href="Effect.Monad.Error.Transformer.html#555" class="Generalizable">M</a> <a id="557" class="Symbol">:</a> <a id="559" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="563" href="Effect.Monad.Error.Transformer.html#523" class="Generalizable">f</a> <a id="565" class="Symbol">→</a> <a id="567" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="571" href="Effect.Monad.Error.Transformer.html#525" class="Generalizable">ℓ</a>

<a id="574" class="Comment">------------------------------------------------------------------------</a>
<a id="647" class="Comment">-- Error monad operations</a>

<a id="674" class="Keyword">record</a> <a id="RawMonadError"></a><a id="681" href="Effect.Monad.Error.Transformer.html#681" class="Record">RawMonadError</a>
       <a id="702" class="Symbol">(</a><a id="703" href="Effect.Monad.Error.Transformer.html#703" class="Bound">M</a> <a id="705" class="Symbol">:</a> <a id="707" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="711" class="Symbol">(</a><a id="712" href="Effect.Monad.Error.Transformer.html#305" class="Bound">e</a> <a id="714" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="716" href="Effect.Monad.Error.Transformer.html#321" class="Bound">a</a><a id="717" class="Symbol">)</a> <a id="719" class="Symbol">→</a> <a id="721" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="725" href="Effect.Monad.Error.Transformer.html#525" class="Generalizable">ℓ</a><a id="726" class="Symbol">)</a>
       <a id="735" class="Symbol">:</a> <a id="737" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="741" class="Symbol">(</a><a id="742" href="Agda.Primitive.html#780" class="Primitive">suc</a> <a id="746" class="Symbol">(</a><a id="747" href="Effect.Monad.Error.Transformer.html#305" class="Bound">e</a> <a id="749" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="751" href="Effect.Monad.Error.Transformer.html#321" class="Bound">a</a><a id="752" class="Symbol">)</a> <a id="754" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="756" href="Effect.Monad.Error.Transformer.html#725" class="Bound">ℓ</a><a id="757" class="Symbol">)</a> <a id="759" class="Keyword">where</a>
  <a id="767" class="Keyword">field</a>
    <a id="RawMonadError.throw"></a><a id="777" href="Effect.Monad.Error.Transformer.html#777" class="Field">throw</a> <a id="783" class="Symbol">:</a> <a id="785" href="Effect.Monad.Error.Transformer.html#309" class="Bound">E</a> <a id="787" class="Symbol">→</a> <a id="789" href="Effect.Monad.Error.Transformer.html#703" class="Bound">M</a> <a id="791" href="Effect.Monad.Error.Transformer.html#539" class="Generalizable">A</a>
    <a id="RawMonadError.catch"></a><a id="797" href="Effect.Monad.Error.Transformer.html#797" class="Field">catch</a> <a id="803" class="Symbol">:</a> <a id="805" href="Effect.Monad.Error.Transformer.html#703" class="Bound">M</a> <a id="807" href="Effect.Monad.Error.Transformer.html#539" class="Generalizable">A</a> <a id="809" class="Symbol">→</a> <a id="811" class="Symbol">(</a><a id="812" href="Effect.Monad.Error.Transformer.html#309" class="Bound">E</a> <a id="814" class="Symbol">→</a> <a id="816" href="Effect.Monad.Error.Transformer.html#703" class="Bound">M</a> <a id="818" href="Effect.Monad.Error.Transformer.html#539" class="Generalizable">A</a><a id="819" class="Symbol">)</a> <a id="821" class="Symbol">→</a> <a id="823" href="Effect.Monad.Error.Transformer.html#703" class="Bound">M</a> <a id="825" href="Effect.Monad.Error.Transformer.html#539" class="Generalizable">A</a>

  <a id="RawMonadError.during"></a><a id="830" href="Effect.Monad.Error.Transformer.html#830" class="Function">during</a> <a id="837" class="Symbol">:</a> <a id="839" class="Symbol">(</a><a id="840" href="Effect.Monad.Error.Transformer.html#309" class="Bound">E</a> <a id="842" class="Symbol">→</a> <a id="844" href="Effect.Monad.Error.Transformer.html#309" class="Bound">E</a><a id="845" class="Symbol">)</a> <a id="847" class="Symbol">→</a> <a id="849" href="Effect.Monad.Error.Transformer.html#703" class="Bound">M</a> <a id="851" href="Effect.Monad.Error.Transformer.html#539" class="Generalizable">A</a> <a id="853" class="Symbol">→</a> <a id="855" href="Effect.Monad.Error.Transformer.html#703" class="Bound">M</a> <a id="857" href="Effect.Monad.Error.Transformer.html#539" class="Generalizable">A</a>
  <a id="861" href="Effect.Monad.Error.Transformer.html#830" class="Function">during</a> <a id="868" href="Effect.Monad.Error.Transformer.html#868" class="Bound">f</a> <a id="870" href="Effect.Monad.Error.Transformer.html#870" class="Bound">ma</a> <a id="873" class="Symbol">=</a> <a id="875" href="Effect.Monad.Error.Transformer.html#797" class="Field">catch</a> <a id="881" href="Effect.Monad.Error.Transformer.html#870" class="Bound">ma</a> <a id="884" class="Symbol">(</a><a id="885" href="Effect.Monad.Error.Transformer.html#777" class="Field">throw</a> <a id="891" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="894" href="Effect.Monad.Error.Transformer.html#868" class="Bound">f</a><a id="895" class="Symbol">)</a>

<a id="898" class="Comment">------------------------------------------------------------------------</a>
<a id="971" class="Comment">-- Monad error transformer specifics</a>

<a id="1009" class="Keyword">module</a> <a id="Sumₗ"></a><a id="1016" href="Effect.Monad.Error.Transformer.html#1016" class="Module">Sumₗ</a> <a id="1021" class="Keyword">where</a>

  <a id="1030" class="Keyword">open</a> <a id="1035" class="Keyword">import</a> <a id="1042" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="1051" class="Keyword">using</a> <a id="1057" class="Symbol">(</a><a id="1058" href="Data.Sum.Base.html#666" class="InductiveConstructor">inj₁</a><a id="1062" class="Symbol">;</a> <a id="1064" href="Data.Sum.Base.html#691" class="InductiveConstructor">inj₂</a><a id="1068" class="Symbol">;</a> <a id="1070" href="Data.Sum.Base.html#971" class="Function Operator">[_,_]′</a><a id="1076" class="Symbol">)</a>
  <a id="1080" class="Keyword">open</a> <a id="1085" class="Keyword">import</a> <a id="1092" href="Data.Sum.Effectful.Left.Transformer.html" class="Module">Data.Sum.Effectful.Left.Transformer</a> <a id="1128" href="Effect.Monad.Error.Transformer.html#309" class="Bound">E</a> <a id="1130" href="Effect.Monad.Error.Transformer.html#321" class="Bound">a</a>

  <a id="Sumₗ.monadError"></a><a id="1135" href="Effect.Monad.Error.Transformer.html#1135" class="Function">monadError</a> <a id="1146" class="Symbol">:</a> <a id="1148" href="Effect.Monad.html#766" class="Record">RawMonad</a> <a id="1157" href="Effect.Monad.Error.Transformer.html#555" class="Generalizable">M</a> <a id="1159" class="Symbol">→</a> <a id="1161" href="Effect.Monad.Error.Transformer.html#681" class="Record">RawMonadError</a> <a id="1175" class="Symbol">(</a><a id="1176" href="Data.Sum.Effectful.Left.Transformer.html#983" class="Record">SumₗT</a> <a id="1182" href="Effect.Monad.Error.Transformer.html#555" class="Generalizable">M</a><a id="1183" class="Symbol">)</a>
  <a id="1187" href="Effect.Monad.Error.Transformer.html#1135" class="Function">monadError</a> <a id="1198" href="Effect.Monad.Error.Transformer.html#1198" class="Bound">M</a> <a id="1200" class="Symbol">=</a> <a id="1202" class="Keyword">record</a>
    <a id="1213" class="Symbol">{</a> <a id="1215" href="Effect.Monad.Error.Transformer.html#777" class="Field">throw</a> <a id="1221" class="Symbol">=</a> <a id="1223" href="Data.Sum.Effectful.Left.Transformer.html#1091" class="InductiveConstructor">mkSumₗT</a> <a id="1231" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="1234" href="Effect.Applicative.html#1138" class="Function">pure</a> <a id="1239" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="1242" href="Data.Sum.Base.html#666" class="InductiveConstructor">inj₁</a>
    <a id="1251" class="Symbol">;</a> <a id="1253" href="Effect.Monad.Error.Transformer.html#797" class="Field">catch</a> <a id="1259" class="Symbol">=</a> <a id="1261" class="Symbol">λ</a> <a id="1263" href="Effect.Monad.Error.Transformer.html#1263" class="Bound">ma</a> <a id="1266" href="Effect.Monad.Error.Transformer.html#1266" class="Bound">k</a> <a id="1268" class="Symbol">→</a> <a id="1270" href="Data.Sum.Effectful.Left.Transformer.html#1091" class="InductiveConstructor">mkSumₗT</a> <a id="1278" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="1280" class="Keyword">do</a>
                         <a id="1308" href="Effect.Monad.Error.Transformer.html#1308" class="Bound">a</a> <a id="1310" href="Effect.Monad.html#920" class="Field Operator">←</a> <a id="1312" href="Data.Sum.Effectful.Left.Transformer.html#1107" class="Field">runSumₗT</a> <a id="1321" href="Effect.Monad.Error.Transformer.html#1263" class="Bound">ma</a>
                         <a id="1349" href="Data.Sum.Base.html#971" class="Function Operator">[</a> <a id="1351" href="Data.Sum.Effectful.Left.Transformer.html#1107" class="Field">runSumₗT</a> <a id="1360" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="1363" href="Effect.Monad.Error.Transformer.html#1266" class="Bound">k</a> <a id="1365" href="Data.Sum.Base.html#971" class="Function Operator">,</a> <a id="1367" href="Effect.Applicative.html#1138" class="Function">pure</a> <a id="1372" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="1375" href="Data.Sum.Base.html#691" class="InductiveConstructor">inj₂</a> <a id="1380" href="Data.Sum.Base.html#971" class="Function Operator">]′</a> <a id="1383" href="Effect.Monad.Error.Transformer.html#1308" class="Bound">a</a>
    <a id="1389" class="Symbol">}</a> <a id="1391" class="Keyword">where</a> <a id="1397" class="Keyword">open</a> <a id="1402" href="Effect.Monad.html#766" class="Module">RawMonad</a> <a id="1411" href="Effect.Monad.Error.Transformer.html#1198" class="Bound">M</a>

<a id="1414" class="Keyword">module</a> <a id="Sumᵣ"></a><a id="1421" href="Effect.Monad.Error.Transformer.html#1421" class="Module">Sumᵣ</a> <a id="1426" class="Keyword">where</a>

  <a id="1435" class="Keyword">open</a> <a id="1440" class="Keyword">import</a> <a id="1447" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="1456" class="Keyword">using</a> <a id="1462" class="Symbol">(</a><a id="1463" href="Data.Sum.Base.html#666" class="InductiveConstructor">inj₁</a><a id="1467" class="Symbol">;</a> <a id="1469" href="Data.Sum.Base.html#691" class="InductiveConstructor">inj₂</a><a id="1473" class="Symbol">;</a> <a id="1475" href="Data.Sum.Base.html#971" class="Function Operator">[_,_]′</a><a id="1481" class="Symbol">)</a>
  <a id="1485" class="Keyword">open</a> <a id="1490" class="Keyword">import</a> <a id="1497" href="Data.Sum.Effectful.Right.Transformer.html" class="Module">Data.Sum.Effectful.Right.Transformer</a> <a id="1534" href="Effect.Monad.Error.Transformer.html#321" class="Bound">a</a> <a id="1536" href="Effect.Monad.Error.Transformer.html#309" class="Bound">E</a>

  <a id="Sumᵣ.monadError"></a><a id="1541" href="Effect.Monad.Error.Transformer.html#1541" class="Function">monadError</a> <a id="1552" class="Symbol">:</a> <a id="1554" href="Effect.Monad.html#766" class="Record">RawMonad</a> <a id="1563" href="Effect.Monad.Error.Transformer.html#555" class="Generalizable">M</a> <a id="1565" class="Symbol">→</a> <a id="1567" href="Effect.Monad.Error.Transformer.html#681" class="Record">RawMonadError</a> <a id="1581" class="Symbol">(</a><a id="1582" href="Data.Sum.Effectful.Right.Transformer.html#987" class="Record">SumᵣT</a> <a id="1588" href="Effect.Monad.Error.Transformer.html#555" class="Generalizable">M</a><a id="1589" class="Symbol">)</a>
  <a id="1593" href="Effect.Monad.Error.Transformer.html#1541" class="Function">monadError</a> <a id="1604" href="Effect.Monad.Error.Transformer.html#1604" class="Bound">M</a> <a id="1606" class="Symbol">=</a> <a id="1608" class="Keyword">record</a>
    <a id="1619" class="Symbol">{</a> <a id="1621" href="Effect.Monad.Error.Transformer.html#777" class="Field">throw</a> <a id="1627" class="Symbol">=</a> <a id="1629" href="Data.Sum.Effectful.Right.Transformer.html#1095" class="InductiveConstructor">mkSumᵣT</a> <a id="1637" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="1640" href="Effect.Applicative.html#1138" class="Function">pure</a> <a id="1645" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="1648" href="Data.Sum.Base.html#691" class="InductiveConstructor">inj₂</a>
    <a id="1657" class="Symbol">;</a> <a id="1659" href="Effect.Monad.Error.Transformer.html#797" class="Field">catch</a> <a id="1665" class="Symbol">=</a> <a id="1667" class="Symbol">λ</a> <a id="1669" href="Effect.Monad.Error.Transformer.html#1669" class="Bound">ma</a> <a id="1672" href="Effect.Monad.Error.Transformer.html#1672" class="Bound">k</a> <a id="1674" class="Symbol">→</a> <a id="1676" href="Data.Sum.Effectful.Right.Transformer.html#1095" class="InductiveConstructor">mkSumᵣT</a> <a id="1684" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="1686" class="Keyword">do</a>
                         <a id="1714" href="Effect.Monad.Error.Transformer.html#1714" class="Bound">a</a> <a id="1716" href="Effect.Monad.html#920" class="Field Operator">←</a> <a id="1718" href="Data.Sum.Effectful.Right.Transformer.html#1111" class="Field">runSumᵣT</a> <a id="1727" href="Effect.Monad.Error.Transformer.html#1669" class="Bound">ma</a>
                         <a id="1755" href="Data.Sum.Base.html#971" class="Function Operator">[</a> <a id="1757" href="Effect.Applicative.html#1138" class="Function">pure</a> <a id="1762" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="1765" href="Data.Sum.Base.html#666" class="InductiveConstructor">inj₁</a> <a id="1770" href="Data.Sum.Base.html#971" class="Function Operator">,</a> <a id="1772" href="Data.Sum.Effectful.Right.Transformer.html#1111" class="Field">runSumᵣT</a> <a id="1781" href="Function.Base.html#3637" class="Function Operator">∘′</a> <a id="1784" href="Effect.Monad.Error.Transformer.html#1672" class="Bound">k</a> <a id="1786" href="Data.Sum.Base.html#971" class="Function Operator">]′</a> <a id="1789" href="Effect.Monad.Error.Transformer.html#1714" class="Bound">a</a>
    <a id="1795" class="Symbol">}</a> <a id="1797" class="Keyword">where</a> <a id="1803" class="Keyword">open</a> <a id="1808" href="Effect.Monad.html#766" class="Module">RawMonad</a> <a id="1817" href="Effect.Monad.Error.Transformer.html#1604" class="Bound">M</a>
</pre></body></html>