<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>System.Clock.Primitive</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Primitive System.Clock simple bindings to Haskell functions</a>
<a id="169" class="Comment">------------------------------------------------------------------------</a>

<a id="243" class="Symbol">{-#</a> <a id="247" class="Keyword">OPTIONS</a> <a id="255" class="Pragma">--without-K</a> <a id="267" class="Symbol">#-}</a>

<a id="272" class="Keyword">module</a> <a id="279" href="System.Clock.Primitive.html" class="Module">System.Clock.Primitive</a> <a id="302" class="Keyword">where</a>

<a id="309" class="Keyword">open</a> <a id="314" class="Keyword">import</a> <a id="321" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="338" class="Keyword">using</a> <a id="344" class="Symbol">(</a><a id="345" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="348" class="Symbol">)</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="IO.Primitive.html" class="Module">IO.Primitive</a> <a id="375" class="Keyword">using</a> <a id="381" class="Symbol">(</a><a id="382" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a><a id="384" class="Symbol">)</a>
<a id="386" class="Keyword">open</a> <a id="391" class="Keyword">import</a> <a id="398" href="Foreign.Haskell.html" class="Module">Foreign.Haskell</a> <a id="414" class="Keyword">using</a> <a id="420" class="Symbol">(</a><a id="421" href="Foreign.Haskell.Pair.html#520" class="Record">Pair</a><a id="425" class="Symbol">)</a>

<a id="428" class="Keyword">data</a> <a id="Clock"></a><a id="433" href="System.Clock.Primitive.html#433" class="Datatype">Clock</a> <a id="439" class="Symbol">:</a> <a id="441" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="445" class="Keyword">where</a>
  <a id="Clock.monotonic"></a><a id="453" href="System.Clock.Primitive.html#453" class="InductiveConstructor">monotonic</a> <a id="Clock.realTime"></a><a id="463" href="System.Clock.Primitive.html#463" class="InductiveConstructor">realTime</a> <a id="Clock.processCPUTime"></a><a id="472" href="System.Clock.Primitive.html#472" class="InductiveConstructor">processCPUTime</a> <a id="487" class="Symbol">:</a> <a id="489" href="System.Clock.Primitive.html#433" class="Datatype">Clock</a>
  <a id="Clock.threadCPUTime"></a><a id="497" href="System.Clock.Primitive.html#497" class="InductiveConstructor">threadCPUTime</a> <a id="Clock.monotonicRaw"></a><a id="511" href="System.Clock.Primitive.html#511" class="InductiveConstructor">monotonicRaw</a> <a id="Clock.bootTime"></a><a id="524" href="System.Clock.Primitive.html#524" class="InductiveConstructor">bootTime</a> <a id="533" class="Symbol">:</a> <a id="535" href="System.Clock.Primitive.html#433" class="Datatype">Clock</a>
  <a id="Clock.monotonicCoarse"></a><a id="543" href="System.Clock.Primitive.html#543" class="InductiveConstructor">monotonicCoarse</a> <a id="Clock.realTimeCoarse"></a><a id="559" href="System.Clock.Primitive.html#559" class="InductiveConstructor">realTimeCoarse</a> <a id="574" class="Symbol">:</a> <a id="576" href="System.Clock.Primitive.html#433" class="Datatype">Clock</a>

<a id="583" class="Symbol">{-#</a> <a id="587" class="Keyword">COMPILE</a> <a id="595" class="Keyword">GHC</a> <a id="599" href="System.Clock.Primitive.html#433" class="Datatype">Clock</a> <a id="605" class="Pragma">=</a> <a id="607" class="Pragma">data</a> <a id="612" class="Pragma">Clock</a> <a id="618" class="Pragma">(Monotonic</a> <a id="629" class="Pragma">|</a> <a id="631" class="Pragma">Realtime</a> <a id="640" class="Pragma">|</a> <a id="642" class="Pragma">ProcessCPUTime</a>
                                   <a id="692" class="Pragma">|</a> <a id="694" class="Pragma">ThreadCPUTime</a> <a id="708" class="Pragma">|</a> <a id="710" class="Pragma">MonotonicRaw</a> <a id="723" class="Pragma">|</a> <a id="725" class="Pragma">Boottime</a>
                                   <a id="769" class="Pragma">|</a> <a id="771" class="Pragma">MonotonicCoarse</a> <a id="787" class="Pragma">|</a> <a id="789" class="Pragma">RealtimeCoarse</a> <a id="804" class="Pragma">)</a>
<a id="806" class="Symbol">#-}</a>

<a id="811" class="Keyword">postulate</a> <a id="getTime"></a><a id="821" href="System.Clock.Primitive.html#821" class="Postulate">getTime</a> <a id="829" class="Symbol">:</a> <a id="831" href="System.Clock.Primitive.html#433" class="Datatype">Clock</a> <a id="837" class="Symbol">â†’</a> <a id="839" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="842" class="Symbol">(</a><a id="843" href="Foreign.Haskell.Pair.html#520" class="Record">Pair</a> <a id="848" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a> <a id="852" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="855" class="Symbol">)</a>

<a id="858" class="Symbol">{-#</a> <a id="862" class="Keyword">FOREIGN</a> <a id="870" class="Pragma">GHC</a> <a id="874" class="Pragma">import</a> <a id="881" class="Pragma">System.Clock</a>  <a id="895" class="Symbol">#-}</a>
<a id="899" class="Symbol">{-#</a> <a id="903" class="Keyword">FOREIGN</a> <a id="911" class="Pragma">GHC</a> <a id="915" class="Pragma">import</a> <a id="922" class="Pragma">Data.Function</a> <a id="936" class="Symbol">#-}</a>
<a id="940" class="Symbol">{-#</a> <a id="944" class="Keyword">COMPILE</a> <a id="952" class="Keyword">GHC</a> <a id="956" href="System.Clock.Primitive.html#821" class="Postulate">getTime</a> <a id="964" class="Pragma">=</a> <a id="966" class="Pragma">fmap</a> <a id="971" class="Pragma">(\</a> <a id="974" class="Pragma">(TimeSpec</a> <a id="984" class="Pragma">a</a> <a id="986" class="Pragma">b)</a> <a id="989" class="Pragma">-&gt;</a> <a id="992" class="Pragma">((,)</a> <a id="997" class="Pragma">`on`</a> <a id="1002" class="Pragma">fromIntegral)</a> <a id="1016" class="Pragma">a</a> <a id="1018" class="Pragma">b)</a> <a id="1021" class="Pragma">.</a> <a id="1023" class="Pragma">getTime</a> <a id="1031" class="Symbol">#-}</a>
</pre></body></html>